(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00b4":function(e,t,n){"use strict";n("ac1f");var r=n("23e7"),i=n("c65b"),o=n("e330"),s=n("1626"),a=n("861d"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),l=TypeError,u=o(/./.test);r({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!s(t))return u(this,e);var n=i(t,this,e);if(null!==n&&!a(n))throw new l("RegExp exec method returned something other than an Object or null");return!!n}})},"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"00fd":function(e,t,n){var r=n("9e69"),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;function c(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(c){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}e.exports=c},"0366":function(e,t,n){var r=n("e330"),i=n("59ed"),o=n("40d5"),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},"03dd":function(e,t,n){var r=n("eac5"),i=n("57a5"),o=Object.prototype,s=o.hasOwnProperty;function a(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=a},"04d1":function(e,t,n){var r=n("342f"),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},"057f":function(e,t,n){var r=n("c6b6"),i=n("fc6a"),o=n("241c").f,s=n("4dae"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return o(e)}catch(t){return s(a)}};e.exports.f=function(e){return a&&"Window"==r(e)?c(e):o(i(e))}},"06cf":function(e,t,n){var r=n("83ab"),i=n("c65b"),o=n("d1e7"),s=n("5c6c"),a=n("fc6a"),c=n("a04b"),l=n("1a2d"),u=n("0cfb"),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=c(t),u)try{return h(e,t)}catch(n){}if(l(e,t))return s(!i(o.f,e,t),e[t])}},"07c7":function(e,t){function n(){return!1}e.exports=n},"07f7":function(e,t,n){"use strict";function r(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}n.r(t);var i=r;function o(e){var t=this;return new t((function(t,n){if(!e||"undefined"===typeof e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"===typeof n||"function"===typeof n)){var s=n.then;if("function"===typeof s)return void s.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0===--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0===--i&&t(r)}for(var s=0;s<r.length;s++)o(s,r[s])}))}var s=o,a=setTimeout;function c(e){return Boolean(e&&"undefined"!==typeof e.length)}function l(){}function u(e,t){return function(){e.apply(t,arguments)}}function h(e){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],v(e,this)}function d(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,h._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void f(t.promise,i)}p(t.promise,r)}else(1===e._state?p:f)(t.promise,e._value)}))):e._deferreds.push(t)}function p(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof h)return e._state=3,e._value=t,void m(e);if("function"===typeof n)return void v(u(n,t),e)}e._state=1,e._value=t,m(e)}catch(r){f(e,r)}}function f(e,t){e._state=2,e._value=t,m(e)}function m(e){2===e._state&&0===e._deferreds.length&&h._immediateFn((function(){e._handled||h._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)d(e,e._deferreds[t]);e._deferreds=null}function g(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function v(e,t){var n=!1;try{e((function(e){n||(n=!0,p(t,e))}),(function(e){n||(n=!0,f(t,e))}))}catch(r){if(n)return;n=!0,f(t,r)}}h.prototype["catch"]=function(e){return this.then(null,e)},h.prototype.then=function(e,t){var n=new this.constructor(l);return d(this,new g(e,t,n)),n},h.prototype["finally"]=i,h.all=function(e){return new h((function(t,n){if(!c(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,s){try{if(s&&("object"===typeof s||"function"===typeof s)){var a=s.then;if("function"===typeof a)return void a.call(s,(function(t){o(e,t)}),n)}r[e]=s,0===--i&&t(r)}catch(c){n(c)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},h.allSettled=s,h.resolve=function(e){return e&&"object"===typeof e&&e.constructor===h?e:new h((function(t){t(e)}))},h.reject=function(e){return new h((function(t,n){n(e)}))},h.race=function(e){return new h((function(t,n){if(!c(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)h.resolve(e[r]).then(t,n)}))},h._immediateFn="function"===typeof setImmediate&&function(e){setImmediate(e)}||function(e){a(e,0)},h._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};t["default"]=h},"07fa":function(e,t,n){var r=n("50c4");e.exports=function(e){return r(e.length)}},"083a":function(e,t,n){"use strict";var r=n("0d51"),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+r(t)+" of "+r(e))}},"087d":function(e,t){function n(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}e.exports=n},"08cc":function(e,t,n){var r=n("1a8c");function i(e){return e===e&&!r(e)}e.exports=i},"099a":function(e,t){function n(e,t,n){var r=n-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}e.exports=n},"0a39":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fae3")}({"0676":function(e,t,n){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n("dc50"),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"06f1":function(e,t,n){},"075a":function(e,t,n){},"0d58":function(e,t){e.exports=n("7db0")},"0f6c":function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=137)}({137:function(e,t,n){"use strict";n.r(t);var r={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:String},computed:{style:function(){var e={};return this.gutter&&(e.marginLeft="-"+this.gutter/2+"px",e.marginRight=e.marginLeft),e}},render:function(e){return e(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"",this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)},install:function(e){e.component(r.name,r)}};t["default"]=r}})},"0fb4":function(e,t,n){},"11b0":function(e,t,n){function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n("9b22"),n("4933"),n("97d3"),n("2ff9"),n("4ccb"),n("9bb5"),n("1a25"),n("4362"),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"12f2":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{methods:{focus:function(){this.$refs[e].focus()}}}}},"13e3":function(e,t){e.exports=n("159b")},"14e9":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=131)}({131:function(e,t,n){"use strict";n.r(t);var r=n(16),i=n(38),o=n.n(i),s=n(3),a=n(2),c={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function l(e){var t=e.move,n=e.size,r=e.bar,i={},o="translate"+r.axis+"("+t+"%)";return i[r.size]=n,i.transform=o,i.msTransform=o,i.webkitTransform=o,i}var u={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return c[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(e){var t=this.size,n=this.move,r=this.bar;return e("div",{class:["el-scrollbar__bar","is-"+r.key],on:{mousedown:this.clickTrackHandler}},[e("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:l({size:t,move:n,bar:r})})])},methods:{clickThumbHandler:function(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(e){var t=Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),n=this.$refs.thumb[this.bar.offset]/2,r=100*(t-n)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100},startDrag:function(e){e.stopImmediatePropagation(),this.cursorDown=!0,Object(a["on"])(document,"mousemove",this.mouseMoveDocumentHandler),Object(a["on"])(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(e){if(!1!==this.cursorDown){var t=this[this.bar.axis];if(t){var n=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client]),r=this.$refs.thumb[this.bar.offset]-t,i=100*(n-r)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(e){this.cursorDown=!1,this[this.bar.axis]=0,Object(a["off"])(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(a["off"])(document,"mouseup",this.mouseUpDocumentHandler)}},h={name:"ElScrollbar",components:{Bar:u},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(e){var t=o()(),n=this.wrapStyle;if(t){var r="-"+t+"px",i="margin-bottom: "+r+"; margin-right: "+r+";";Array.isArray(this.wrapStyle)?(n=Object(s["toObject"])(this.wrapStyle),n.marginRight=n.marginBottom=r):"string"===typeof this.wrapStyle?n+=i:n=i}var a=e(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),c=e("div",{ref:"wrap",style:n,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",t?"":"el-scrollbar__wrap--hidden-default"]},[[a]]),l=void 0;return l=this.native?[e("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:n},[[a]])]:[c,e(u,{attrs:{move:this.moveX,size:this.sizeWidth}}),e(u,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})],e("div",{class:"el-scrollbar"},l)},methods:{handleScroll:function(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth},update:function(){var e=void 0,t=void 0,n=this.wrap;n&&(e=100*n.clientHeight/n.scrollHeight,t=100*n.clientWidth/n.scrollWidth,this.sizeHeight=e<100?e+"%":"",this.sizeWidth=t<100?t+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(r["addResizeListener"])(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(r["removeResizeListener"])(this.$refs.resize,this.update)},install:function(e){e.component(h.name,h)}};t["default"]=h},16:function(e,t){e.exports=n("4010")},2:function(e,t){e.exports=n("5924")},3:function(e,t){e.exports=n("8122")},38:function(e,t){e.exports=n("e62d")}})},"1a25":function(e,t){e.exports=n("ddb0")},"1f1a":function(e,t,n){},"20cf":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=63)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},29:function(e,t){e.exports=n("299c")},4:function(e,t){e.exports=n("d010")},49:function(e,t){e.exports=n("e450")},63:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-slider",class:{"is-vertical":e.vertical,"el-slider--with-input":e.showInput},attrs:{role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":e.sliderDisabled}},[e.showInput&&!e.range?n("el-input-number",{ref:"input",staticClass:"el-slider__input",attrs:{step:e.step,disabled:e.sliderDisabled,controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:e.inputSize},on:{change:e.emitChange},model:{value:e.firstValue,callback:function(t){e.firstValue=t},expression:"firstValue"}}):e._e(),n("div",{ref:"slider",staticClass:"el-slider__runway",class:{"show-input":e.showInput,disabled:e.sliderDisabled},style:e.runwayStyle,on:{click:e.onSliderClick}},[n("div",{staticClass:"el-slider__bar",style:e.barStyle}),n("slider-button",{ref:"button1",attrs:{vertical:e.vertical,"tooltip-class":e.tooltipClass},model:{value:e.firstValue,callback:function(t){e.firstValue=t},expression:"firstValue"}}),e.range?n("slider-button",{ref:"button2",attrs:{vertical:e.vertical,"tooltip-class":e.tooltipClass},model:{value:e.secondValue,callback:function(t){e.secondValue=t},expression:"secondValue"}}):e._e(),e._l(e.stops,(function(t,r){return e.showStops?n("div",{key:r,staticClass:"el-slider__stop",style:e.getStopStyle(t)}):e._e()})),e.markList.length>0?[n("div",e._l(e.markList,(function(t,r){return n("div",{key:r,staticClass:"el-slider__stop el-slider__marks-stop",style:e.getStopStyle(t.position)})})),0),n("div",{staticClass:"el-slider__marks"},e._l(e.markList,(function(t,r){return n("slider-marker",{key:r,style:e.getStopStyle(t.position),attrs:{mark:t.mark}})})),1)]:e._e()],2)],1)},i=[];r._withStripped=!0;var o=n(49),s=n.n(o),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"button",staticClass:"el-slider__button-wrapper",class:{hover:e.hovering,dragging:e.dragging},style:e.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave,mousedown:e.onButtonDown,touchstart:e.onButtonDown,focus:e.handleMouseEnter,blur:e.handleMouseLeave,keydown:[function(t){return!("button"in t)&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.onLeftKeyDown(t)},function(t){return!("button"in t)&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:e.onRightKeyDown(t)},function(t){return!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.onLeftKeyDown(t))},function(t){return!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.onRightKeyDown(t))}]}},[n("el-tooltip",{ref:"tooltip",attrs:{placement:"top","popper-class":e.tooltipClass,disabled:!e.showTooltip}},[n("span",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.formatValue))]),n("div",{staticClass:"el-slider__button",class:{hover:e.hovering,dragging:e.dragging}})])],1)},c=[];a._withStripped=!0;var l=n(29),u=n.n(l),h={name:"ElSliderButton",components:{ElTooltip:u.a},props:{value:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:String},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},showTooltip:function(){return this.$parent.showTooltip},precision:function(){return this.$parent.precision},currentPosition:function(){return(this.value-this.min)/(this.max-this.min)*100+"%"},enableFormat:function(){return this.$parent.formatTooltip instanceof Function},formatValue:function(){return this.enableFormat&&this.$parent.formatTooltip(this.value)||this.value},wrapperStyle:function(){return this.vertical?{bottom:this.currentPosition}:{left:this.currentPosition}}},watch:{dragging:function(e){this.$parent.dragging=e}},methods:{displayTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!0)},hideTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!1)},handleMouseEnter:function(){this.hovering=!0,this.displayTooltip()},handleMouseLeave:function(){this.hovering=!1,this.hideTooltip()},onButtonDown:function(e){this.disabled||(e.preventDefault(),this.onDragStart(e),window.addEventListener("mousemove",this.onDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("contextmenu",this.onDragEnd))},onLeftKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onRightKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onDragStart:function(e){this.dragging=!0,this.isClick=!0,"touchstart"===e.type&&(e.clientY=e.touches[0].clientY,e.clientX=e.touches[0].clientX),this.vertical?this.startY=e.clientY:this.startX=e.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(e){if(this.dragging){this.isClick=!1,this.displayTooltip(),this.$parent.resetSize();var t=0;"touchmove"===e.type&&(e.clientY=e.touches[0].clientY,e.clientX=e.touches[0].clientX),this.vertical?(this.currentY=e.clientY,t=(this.startY-this.currentY)/this.$parent.sliderSize*100):(this.currentX=e.clientX,t=(this.currentX-this.startX)/this.$parent.sliderSize*100),this.newPosition=this.startPosition+t,this.setPosition(this.newPosition)}},onDragEnd:function(){var e=this;this.dragging&&(setTimeout((function(){e.dragging=!1,e.hideTooltip(),e.isClick||(e.setPosition(e.newPosition),e.$parent.emitChange())}),0),window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(e){var t=this;if(null!==e&&!isNaN(e)){e<0?e=0:e>100&&(e=100);var n=100/((this.max-this.min)/this.step),r=Math.round(e/n),i=r*n*(this.max-this.min)*.01+this.min;i=parseFloat(i.toFixed(this.precision)),this.$emit("input",i),this.$nextTick((function(){t.displayTooltip(),t.$refs.tooltip&&t.$refs.tooltip.updatePopper()})),this.dragging||this.value===this.oldValue||(this.oldValue=this.value)}}}},d=h,p=n(0),f=Object(p["a"])(d,a,c,!1,null,null,null);f.options.__file="packages/slider/src/button.vue";var m=f.exports,g={name:"ElMarker",props:{mark:{type:[String,Object]}},render:function(){var e=arguments[0],t="string"===typeof this.mark?this.mark:this.mark.label;return e("div",{class:"el-slider__marks-text",style:this.mark.style||{}},[t])}},v=n(4),y=n.n(v),b={name:"ElSlider",mixins:[y.a],inject:{elForm:{default:""}},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},value:{type:[Number,Array],default:0},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:Function,disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String},debounce:{type:Number,default:300},label:{type:String},tooltipClass:String,marks:Object},components:{ElInputNumber:s.a,SliderButton:m,SliderMarker:g},data:function(){return{firstValue:null,secondValue:null,oldValue:null,dragging:!1,sliderSize:1}},watch:{value:function(e,t){this.dragging||Array.isArray(e)&&Array.isArray(t)&&e.every((function(e,n){return e===t[n]}))||this.setValues()},dragging:function(e){e||this.setValues()},firstValue:function(e){this.range?this.$emit("input",[this.minValue,this.maxValue]):this.$emit("input",e)},secondValue:function(){this.range&&this.$emit("input",[this.minValue,this.maxValue])},min:function(){this.setValues()},max:function(){this.setValues()}},methods:{valueChanged:function(){var e=this;return this.range?![this.minValue,this.maxValue].every((function(t,n){return t===e.oldValue[n]})):this.value!==this.oldValue},setValues:function(){if(this.min>this.max)console.error("[Element Error][Slider]min should not be greater than max.");else{var e=this.value;this.range&&Array.isArray(e)?e[1]<this.min?this.$emit("input",[this.min,this.min]):e[0]>this.max?this.$emit("input",[this.max,this.max]):e[0]<this.min?this.$emit("input",[this.min,e[1]]):e[1]>this.max?this.$emit("input",[e[0],this.max]):(this.firstValue=e[0],this.secondValue=e[1],this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",[this.minValue,this.maxValue]),this.oldValue=e.slice())):this.range||"number"!==typeof e||isNaN(e)||(e<this.min?this.$emit("input",this.min):e>this.max?this.$emit("input",this.max):(this.firstValue=e,this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",e),this.oldValue=e)))}},setPosition:function(e){var t=this.min+e*(this.max-this.min)/100;if(this.range){var n=void 0;n=Math.abs(this.minValue-t)<Math.abs(this.maxValue-t)?this.firstValue<this.secondValue?"button1":"button2":this.firstValue>this.secondValue?"button1":"button2",this.$refs[n].setPosition(e)}else this.$refs.button1.setPosition(e)},onSliderClick:function(e){if(!this.sliderDisabled&&!this.dragging){if(this.resetSize(),this.vertical){var t=this.$refs.slider.getBoundingClientRect().bottom;this.setPosition((t-e.clientY)/this.sliderSize*100)}else{var n=this.$refs.slider.getBoundingClientRect().left;this.setPosition((e.clientX-n)/this.sliderSize*100)}this.emitChange()}},resetSize:function(){this.$refs.slider&&(this.sliderSize=this.$refs.slider["client"+(this.vertical?"Height":"Width")])},emitChange:function(){var e=this;this.$nextTick((function(){e.$emit("change",e.range?[e.minValue,e.maxValue]:e.value)}))},getStopStyle:function(e){return this.vertical?{bottom:e+"%"}:{left:e+"%"}}},computed:{stops:function(){var e=this;if(!this.showStops||this.min>this.max)return[];if(0===this.step)return[];for(var t=(this.max-this.min)/this.step,n=100*this.step/(this.max-this.min),r=[],i=1;i<t;i++)r.push(i*n);return this.range?r.filter((function(t){return t<100*(e.minValue-e.min)/(e.max-e.min)||t>100*(e.maxValue-e.min)/(e.max-e.min)})):r.filter((function(t){return t>100*(e.firstValue-e.min)/(e.max-e.min)}))},markList:function(){var e=this;if(!this.marks)return[];var t=Object.keys(this.marks);return t.map(parseFloat).sort((function(e,t){return e-t})).filter((function(t){return t<=e.max&&t>=e.min})).map((function(t){return{point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]}}))},minValue:function(){return Math.min(this.firstValue,this.secondValue)},maxValue:function(){return Math.max(this.firstValue,this.secondValue)},barSize:function(){return this.range?100*(this.maxValue-this.minValue)/(this.max-this.min)+"%":100*(this.firstValue-this.min)/(this.max-this.min)+"%"},barStart:function(){return this.range?100*(this.minValue-this.min)/(this.max-this.min)+"%":"0%"},precision:function(){var e=[this.min,this.max,this.step].map((function(e){var t=(""+e).split(".")[1];return t?t.length:0}));return Math.max.apply(null,e)},runwayStyle:function(){return this.vertical?{height:this.height}:{}},barStyle:function(){return this.vertical?{height:this.barSize,bottom:this.barStart}:{width:this.barSize,left:this.barStart}},sliderDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},mounted:function(){var e=void 0;this.range?(Array.isArray(this.value)?(this.firstValue=Math.max(this.min,this.value[0]),this.secondValue=Math.min(this.max,this.value[1])):(this.firstValue=this.min,this.secondValue=this.max),this.oldValue=[this.firstValue,this.secondValue],e=this.firstValue+"-"+this.secondValue):("number"!==typeof this.value||isNaN(this.value)?this.firstValue=this.min:this.firstValue=Math.min(this.max,Math.max(this.min,this.value)),this.oldValue=this.firstValue,e=this.firstValue),this.$el.setAttribute("aria-valuetext",e),this.$el.setAttribute("aria-label",this.label?this.label:"slider between "+this.min+" and "+this.max),this.resetSize(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)}},x=b,w=Object(p["a"])(x,r,i,!1,null,null,null);w.options.__file="packages/slider/src/main.vue";var _=w.exports;_.install=function(e){e.component(_.name,_)};t["default"]=_}})},"21a1":function(e,t,n){"use strict";n("bb28")},2236:function(e,t,n){var r=n("5a43");function i(e){if(Array.isArray(e))return r(e)}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},"299c":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=136)}({136:function(e,t,n){"use strict";n.r(t);var r=n(5),i=n.n(r),o=n(19),s=n.n(o),a=n(2),c=n(3),l=n(7),u=n.n(l),h={name:"ElTooltip",mixins:[i.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(c["generateId"])(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var e=this;this.$isServer||(this.popperVM=new u.a({data:{node:""},render:function(e){return this.node}}).$mount(),this.debounceClose=s()(200,(function(){return e.handleClosePopper()})))},render:function(e){var t=this;this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){t.setExpectedState(!1),t.debounceClose()},mouseenter:function(){t.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var n=this.getFirstElement();if(!n)return null;var r=n.data=n.data||{};return r.staticClass=this.addTooltipClass(r.staticClass),n},mounted:function(){var e=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(a["on"])(this.referenceElm,"mouseenter",this.show),Object(a["on"])(this.referenceElm,"mouseleave",this.hide),Object(a["on"])(this.referenceElm,"focus",(function(){if(e.$slots.default&&e.$slots.default.length){var t=e.$slots.default[0].componentInstance;t&&t.focus?t.focus():e.handleFocus()}else e.handleFocus()})),Object(a["on"])(this.referenceElm,"blur",this.handleBlur),Object(a["on"])(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick((function(){e.value&&e.updatePopper()}))},watch:{focusing:function(e){e?Object(a["addClass"])(this.referenceElm,"focusing"):Object(a["removeClass"])(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.showPopper=!0}),this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout((function(){e.showPopper=!1}),this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var t=null,n=0;n<e.length;n++)if(e[n]&&e[n].tag){t=e[n];break}return t}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var e=this.referenceElm;1===e.nodeType&&(Object(a["off"])(e,"mouseenter",this.show),Object(a["off"])(e,"mouseleave",this.hide),Object(a["off"])(e,"focus",this.handleFocus),Object(a["off"])(e,"blur",this.handleBlur),Object(a["off"])(e,"click",this.removeFocusing))},install:function(e){e.component(h.name,h)}};t["default"]=h},19:function(e,t){e.exports=n("7435")},2:function(e,t){e.exports=n("5924")},3:function(e,t){e.exports=n("8122")},5:function(e,t){e.exports=n("e974")},7:function(e,t){e.exports=n("8bbf")}})},"2a5e":function(e,t,n){"use strict";t.__esModule=!0,t.default=s;var r=n("8bbf"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!i.default.prototype.$isServer)if(t){var n=[],r=t.offsetParent;while(r&&e!==r&&e.contains(r))n.push(r),r=r.offsetParent;var o=t.offsetTop+n.reduce((function(e,t){return e+t.offsetTop}),0),s=o+t.offsetHeight,a=e.scrollTop,c=a+e.clientHeight;o<a?e.scrollTop=o:s>c&&(e.scrollTop=s-e.clientHeight)}else e.scrollTop=0}},"2bb5":function(e,t,n){"use strict";t.__esModule=!0;n("8122");t.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},"2ff9":function(e,t){e.exports=n("d28b")},"3d2d":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=115)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},115:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"el-container",class:{"is-vertical":e.isVertical}},[e._t("default")],2)},i=[];r._withStripped=!0;var o={name:"ElContainer",componentName:"ElContainer",props:{direction:String},computed:{isVertical:function(){return"vertical"===this.direction||"horizontal"!==this.direction&&(!(!this.$slots||!this.$slots.default)&&this.$slots.default.some((function(e){var t=e.componentOptions&&e.componentOptions.tag;return"el-header"===t||"el-footer"===t})))}}},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/container/src/main.vue";var l=c.exports;l.install=function(e){e.component(l.name,l)};t["default"]=l}})},4010:function(e,t,n){"use strict";t.__esModule=!0,t.removeResizeListener=t.addResizeListener=void 0;var r=n("a1cc"),i=s(r),o=n("831f");function s(e){return e&&e.__esModule?e:{default:e}}var a="undefined"===typeof window,c=function(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if(r=t.next(),r.done)break;i=r.value}var o=i,s=o.target.__resizeListeners__||[];s.length&&s.forEach((function(e){e()}))}};t.addResizeListener=function(e,t){a||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new i.default((0,o.debounce)(16,c)),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},t.removeResizeListener=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())}},"417f":function(e,t,n){"use strict";t.__esModule=!0;var r=n("8bbf"),i=s(r),o=n("5924");function s(e){return e&&e.__esModule?e:{default:e}}var a=[],c="@@clickoutsideContext",l=void 0,u=0;function h(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&r.target&&i.target)||e.contains(r.target)||e.contains(i.target)||e===r.target||n.context.popperElm&&(n.context.popperElm.contains(r.target)||n.context.popperElm.contains(i.target))||(t.expression&&e[c].methodName&&n.context[e[c].methodName]?n.context[e[c].methodName]():e[c].bindingFn&&e[c].bindingFn())}}!i.default.prototype.$isServer&&(0,o.on)(document,"mousedown",(function(e){return l=e})),!i.default.prototype.$isServer&&(0,o.on)(document,"mouseup",(function(e){a.forEach((function(t){return t[c].documentHandler(e,l)}))})),t.default={bind:function(e,t,n){a.push(e);var r=u++;e[c]={id:r,documentHandler:h(e,t,n),methodName:t.expression,bindingFn:t.value}},update:function(e,t,n){e[c].documentHandler=h(e,t,n),e[c].methodName=t.expression,e[c].bindingFn=t.value},unbind:function(e){for(var t=a.length,n=0;n<t;n++)if(a[n][c].id===e[c].id){a.splice(n,1);break}delete e[c]}}},"429c":function(e,t){e.exports=n("80df")},4362:function(e,t){e.exports=n("a630")},4391:function(e,t){e.exports=n("d81d")},"448a":function(e,t,n){var r=n("2236"),i=n("11b0"),o=n("6613"),s=n("0676");function a(e){return r(e)||i(e)||o(e)||s()}e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},"450d":function(e,t,n){},4897:function(e,t,n){"use strict";t.__esModule=!0,t.i18n=t.use=t.t=void 0;var r=n("f0d9"),i=h(r),o=n("8bbf"),s=h(o),a=n("dab3"),c=h(a),l=n("9d7e"),u=h(l);function h(e){return e&&e.__esModule?e:{default:e}}var d=(0,u.default)(s.default),p=i.default,f=!1,m=function(){var e=Object.getPrototypeOf(this||s.default).$t;if("function"===typeof e&&s.default.locale)return f||(f=!0,s.default.locale(s.default.config.lang,(0,c.default)(p,s.default.locale(s.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},g=t.t=function(e,t){var n=m.apply(this,arguments);if(null!==n&&void 0!==n)return n;for(var r=e.split("."),i=p,o=0,s=r.length;o<s;o++){var a=r[o];if(n=i[a],o===s-1)return d(n,t);if(!n)return"";i=n}return""},v=t.use=function(e){p=e||p},y=t.i18n=function(e){m=e||m};t.default={use:v,t:g,i18n:y}},4933:function(e,t){e.exports=n("e01a")},"4b26":function(e,t,n){"use strict";t.__esModule=!0;var r=n("8bbf"),i=s(r),o=n("5924");function s(e){return e&&e.__esModule?e:{default:e}}var a=!1,c=!1,l=void 0,u=function(){if(!i.default.prototype.$isServer){var e=d.modalDom;return e?a=!0:(a=!1,e=document.createElement("div"),d.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){d.doOnModalClick&&d.doOnModalClick()}))),e}},h={},d={modalFade:!0,getInstance:function(e){return h[e]},register:function(e,t){e&&t&&(h[e]=t)},deregister:function(e){e&&(h[e]=null,delete h[e])},nextZIndex:function(){return d.zIndex++},modalStack:[],doOnModalClick:function(){var e=d.modalStack[d.modalStack.length-1];if(e){var t=d.getInstance(e.id);t&&t.closeOnClickModal&&t.close()}},openModal:function(e,t,n,r,s){if(!i.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=s;for(var c=this.modalStack,l=0,h=c.length;l<h;l++){var d=c[l];if(d.id===e)return}var p=u();if((0,o.addClass)(p,"v-modal"),this.modalFade&&!a&&(0,o.addClass)(p,"v-modal-enter"),r){var f=r.trim().split(/\s+/);f.forEach((function(e){return(0,o.addClass)(p,e)}))}setTimeout((function(){(0,o.removeClass)(p,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(p):document.body.appendChild(p),t&&(p.style.zIndex=t),p.tabIndex=0,p.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:r})}},closeModal:function(e){var t=this.modalStack,n=u();if(t.length>0){var r=t[t.length-1];if(r.id===e){if(r.modalClass){var i=r.modalClass.trim().split(/\s+/);i.forEach((function(e){return(0,o.removeClass)(n,e)}))}t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex)}else for(var s=t.length-1;s>=0;s--)if(t[s].id===e){t.splice(s,1);break}}0===t.length&&(this.modalFade&&(0,o.addClass)(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",d.modalDom=void 0),(0,o.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(d,"zIndex",{configurable:!0,get:function(){return c||(l=l||(i.default.prototype.$ELEMENT||{}).zIndex||2e3,c=!0),l},set:function(e){l=e}});var p=function(){if(!i.default.prototype.$isServer&&d.modalStack.length>0){var e=d.modalStack[d.modalStack.length-1];if(!e)return;var t=d.getInstance(e.id);return t}};i.default.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){var t=p();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}})),t.default=d},"4c07":function(e,t){e.exports=n("4e82")},"4ccb":function(e,t){e.exports=n("e260")},"4e2d":function(e,t){e.exports=n("eed6")},"4e4b":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=61)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},10:function(e,t){e.exports=n("f3ad")},12:function(e,t){e.exports=n("417f")},15:function(e,t){e.exports=n("14e9")},16:function(e,t){e.exports=n("4010")},19:function(e,t){e.exports=n("7435")},21:function(e,t){e.exports=n("d397")},22:function(e,t){e.exports=n("12f2")},3:function(e,t){e.exports=n("8122")},31:function(e,t){e.exports=n("2a5e")},33:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[n("span",[e._v(e._s(e.currentLabel))])])],2)},i=[];r._withStripped=!0;var o=n(4),s=n.n(o),a=n(3),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={mixins:[s.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var n=this.select,r=n.remote,i=n.valueKey;if(!this.created&&!r){if(i&&"object"===("undefined"===typeof e?"undefined":c(e))&&"object"===("undefined"===typeof t?"undefined":c(t))&&e[i]===t[i])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(e,t){if(this.isObject){var n=this.select.valueKey;return Object(a["getValueByPath"])(e,n)===Object(a["getValueByPath"])(t,n)}return e===t},contains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var n=this.select.valueKey;return e&&e.some((function(e){return Object(a["getValueByPath"])(e,n)===Object(a["getValueByPath"])(t,n)}))}return e&&e.indexOf(t)>-1},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(Object(a["escapeRegexpString"])(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,n=e.multiple,r=n?t:[t],i=this.select.cachedOptions.indexOf(this),o=r.indexOf(this);i>-1&&o<0&&this.select.cachedOptions.splice(i,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},u=l,h=n(0),d=Object(h["a"])(u,r,i,!1,null,null,null);d.options.__file="packages/select/src/option.vue";t["a"]=d.exports},37:function(e,t){e.exports=n("8bbc")},4:function(e,t){e.exports=n("d010")},5:function(e,t){e.exports=n("e974")},6:function(e,t){e.exports=n("6b7c")},61:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[e.selectSize?"el-select--"+e.selectSize:""],on:{click:function(t){return t.stopPropagation(),e.toggleMenu(t)}}},[e.multiple?n("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%"}},[e.collapseTags&&e.selected.length?n("span",[n("el-tag",{attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(t){e.deleteTag(t,e.selected[0])}}},[n("span",{staticClass:"el-select__tags-text"},[e._v(e._s(e.selected[0].currentLabel))])]),e.selected.length>1?n("el-tag",{attrs:{closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""}},[n("span",{staticClass:"el-select__tags-text"},[e._v("+ "+e._s(e.selected.length-1))])]):e._e()],1):e._e(),e.collapseTags?e._e():n("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.selected,(function(t){return n("el-tag",{key:e.getValueKey(t),attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:t.hitState,type:"info","disable-transitions":""},on:{close:function(n){e.deleteTag(n,t)}}},[n("span",{staticClass:"el-select__tags-text"},[e._v(e._s(t.currentLabel))])])})),1),e.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[e.selectSize?"is-"+e.selectSize:""],style:{"flex-grow":"1",width:e.inputLength/(e.inputWidth-32)+"%","max-width":e.inputWidth-42+"px"},attrs:{type:"text",disabled:e.selectDisabled,autocomplete:e.autoComplete||e.autocomplete},domProps:{value:e.query},on:{focus:e.handleFocus,blur:function(t){e.softFocus=!1},keyup:e.managePlaceholder,keydown:[e.resetInputState,function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.handleNavigate("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.handleNavigate("prev")},function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectOption(t))},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){return!("button"in t)&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.deletePrevTag(t)},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:[function(t){t.target.composing||(e.query=t.target.value)},e.debouncedQueryChange]}}):e._e()],1):e._e(),n("el-input",{ref:"reference",class:{"is-focus":e.visible},attrs:{type:"text",placeholder:e.currentPlaceholder,name:e.name,id:e.id,autocomplete:e.autoComplete||e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,tabindex:e.multiple&&e.filterable?"-1":null},on:{focus:e.handleFocus,blur:e.handleBlur,input:e.debouncedOnInputChange,compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition},nativeOn:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.stopPropagation(),t.preventDefault(),e.handleNavigate("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.stopPropagation(),t.preventDefault(),e.handleNavigate("prev")},function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.selectOption(t))},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1}},model:{value:e.selectedLabel,callback:function(t){e.selectedLabel=t},expression:"selectedLabel"}},[e.$slots.prefix?n("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),n("template",{slot:"suffix"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+e.iconClass]}),e.showClose?n("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:e.handleClearClick}}):e._e()])],2),n("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":e.doDestroy}},[n("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!1!==e.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":e.popperAppendToBody}},[n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.options.length>0&&!e.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!e.allowCreate&&e.query&&0===e.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[e.showNewOption?n("el-option",{attrs:{value:e.query,created:""}}):e._e(),e._t("default")],2),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.length)?[e.$slots.empty?e._t("empty"):n("p",{staticClass:"el-select-dropdown__empty"},[e._v("\n          "+e._s(e.emptyText)+"\n        ")])]:e._e()],2)],1)],1)},i=[];r._withStripped=!0;var o=n(4),s=n.n(o),a=n(22),c=n.n(a),l=n(6),u=n.n(l),h=n(10),d=n.n(h),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":e.$parent.multiple},e.popperClass],style:{minWidth:e.minWidth}},[e._t("default")],2)},f=[];p._withStripped=!0;var m=n(5),g=n.n(m),v={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[g.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var e=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",(function(){e.$parent.visible&&e.updatePopper()})),this.$on("destroyPopper",this.destroyPopper)}},y=v,b=n(0),x=Object(b["a"])(y,p,f,!1,null,null,null);x.options.__file="packages/select/src/select-dropdown.vue";var w=x.exports,_=n(33),S=n(37),M=n.n(S),T=n(15),E=n.n(T),C=n(19),A=n.n(C),L=n(12),R=n.n(L),O=n(16),P=n(31),k=n.n(P),N=n(3),F={data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter((function(e){return e.visible})).every((function(e){return e.disabled}))}},watch:{hoverIndex:function(e){var t=this;"number"===typeof e&&e>-1&&(this.hoverOption=this.options[e]||{}),this.options.forEach((function(e){e.hover=t.hoverOption===e}))}},methods:{navigateOptions:function(e){var t=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===e?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===e&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var n=this.options[this.hoverIndex];!0!==n.disabled&&!0!==n.groupDisabled&&n.visible||this.navigateOptions(e),this.$nextTick((function(){return t.scrollToOption(t.hoverOption)}))}}else this.visible=!0}}},I=n(21),D={mixins:[s.a,u.a,c()("reference"),F],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(N["isIE"])()&&!Object(N["isEdge"])()&&!this.visible},showClose:function(){var e=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value,t=this.clearable&&!this.selectDisabled&&this.inputHovering&&e;return t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var e=this,t=this.options.filter((function(e){return!e.created})).some((function(t){return t.currentLabel===e.query}));return this.filterable&&this.allowCreate&&""!==this.query&&!t},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"},propPlaceholder:function(){return"undefined"!==typeof this.placeholder?this.placeholder:this.t("el.select.placeholder")}},components:{ElInput:d.a,ElSelectMenu:w,ElOption:_["a"],ElTag:M.a,ElScrollbar:E.a},directives:{Clickoutside:R.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,required:!1},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var e=this;this.$nextTick((function(){e.resetInputHeight()}))},propPlaceholder:function(e){this.cachedPlaceHolder=this.currentPlaceholder=e},value:function(e,t){this.multiple&&(this.resetInputHeight(),e&&e.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(N["valueEquals"])(e,t)||this.dispatch("ElFormItem","el.form.change",e)},visible:function(e){var t=this;e?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick((function(){t.$refs.input&&""===t.$refs.input.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)})),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",e)},options:function(){var e=this;if(!this.$isServer){this.$nextTick((function(){e.broadcast("ElSelectDropdown","updatePopper")})),this.multiple&&this.resetInputHeight();var t=this.$el.querySelectorAll("input");-1===[].indexOf.call(t,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleNavigate:function(e){this.isOnComposition||this.navigateOptions(e)},handleComposition:function(e){var t=this,n=e.target.value;if("compositionend"===e.type)this.isOnComposition=!1,this.$nextTick((function(e){return t.handleQueryChange(n)}));else{var r=n[n.length-1]||"";this.isOnComposition=!Object(I["isKorean"])(r)}},handleQueryChange:function(e){var t=this;this.previousQuery===e||this.isOnComposition||(null!==this.previousQuery||"function"!==typeof this.filterMethod&&"function"!==typeof this.remoteMethod?(this.previousQuery=e,this.$nextTick((function(){t.visible&&t.broadcast("ElSelectDropdown","updatePopper")})),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick((function(){var e=15*t.$refs.input.value.length+20;t.inputLength=t.collapseTags?Math.min(50,e):e,t.managePlaceholder(),t.resetInputHeight()})),this.remote&&"function"===typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(e)):"function"===typeof this.filterMethod?(this.filterMethod(e),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",e),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=e)},scrollToOption:function(e){var t=Array.isArray(e)&&e[0]?e[0].$el:e.$el;if(this.$refs.popper&&t){var n=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");k()(n,t)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var e=this;this.$nextTick((function(){return e.scrollToOption(e.selected)}))},emitChange:function(e){Object(N["valueEquals"])(this.value,e)||this.$emit("change",e)},getOption:function(e){for(var t=void 0,n="[object object]"===Object.prototype.toString.call(e).toLowerCase(),r="[object null]"===Object.prototype.toString.call(e).toLowerCase(),i="[object undefined]"===Object.prototype.toString.call(e).toLowerCase(),o=this.cachedOptions.length-1;o>=0;o--){var s=this.cachedOptions[o],a=n?Object(N["getValueByPath"])(s.value,this.valueKey)===Object(N["getValueByPath"])(e,this.valueKey):s.value===e;if(a){t=s;break}}if(t)return t;var c=n||r||i?"":String(e),l={value:e,currentLabel:c};return this.multiple&&(l.hitState=!1),l},setSelected:function(){var e=this;if(!this.multiple){var t=this.getOption(this.value);return t.created?(this.createdLabel=t.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=t.currentLabel,this.selected=t,void(this.filterable&&(this.query=this.selectedLabel))}var n=[];Array.isArray(this.value)&&this.value.forEach((function(t){n.push(e.getOption(t))})),this.selected=n,this.$nextTick((function(){e.resetInputHeight()}))},handleFocus:function(e){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.filterable&&!this.visible&&(this.menuVisibleOnFocus=!0),this.visible=!0),this.$emit("focus",e))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(e){var t=this;setTimeout((function(){t.isSilentBlur?t.isSilentBlur=!1:t.$emit("blur",e)}),50),this.softFocus=!1},handleClearClick:function(e){this.deleteSelected(e)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(e){if(Array.isArray(this.selected)){var t=this.selected[this.selected.length-1];if(t)return!0===e||!1===e?(t.hitState=e,e):(t.hitState=!t.hitState,t.hitState)}},deletePrevTag:function(e){if(e.target.value.length<=0&&!this.toggleLastOptionHitState()){var t=this.value.slice();t.pop(),this.$emit("input",t),this.emitChange(t)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(e){8!==e.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var e=this;this.collapseTags&&!this.filterable||this.$nextTick((function(){if(e.$refs.reference){var t=e.$refs.reference.$el.childNodes,n=[].filter.call(t,(function(e){return"INPUT"===e.tagName}))[0],r=e.$refs.tags,i=r?Math.round(r.getBoundingClientRect().height):0,o=e.initialInputHeight||40;n.style.height=0===e.selected.length?o+"px":Math.max(r?i+(i>o?6:0):0,o)+"px",e.visible&&!1!==e.emptyText&&e.broadcast("ElSelectDropdown","updatePopper")}}))},resetHoverIndex:function(){var e=this;setTimeout((function(){e.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map((function(t){return e.options.indexOf(t)}))):e.hoverIndex=-1:e.hoverIndex=e.options.indexOf(e.selected)}),300)},handleOptionSelect:function(e,t){var n=this;if(this.multiple){var r=(this.value||[]).slice(),i=this.getValueIndex(r,e.value);i>-1?r.splice(i,1):(this.multipleLimit<=0||r.length<this.multipleLimit)&&r.push(e.value),this.$emit("input",r),this.emitChange(r),e.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",e.value),this.emitChange(e.value),this.visible=!1;this.isSilentBlur=t,this.setSoftFocus(),this.visible||this.$nextTick((function(){n.scrollToOption(e)}))},setSoftFocus:function(){this.softFocus=!0;var e=this.$refs.input||this.$refs.reference;e&&e.focus()},getValueIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n="[object object]"===Object.prototype.toString.call(t).toLowerCase();if(n){var r=this.valueKey,i=-1;return e.some((function(e,n){return Object(N["getValueByPath"])(e,r)===Object(N["getValueByPath"])(t,r)&&(i=n,!0)})),i}return e.indexOf(t)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(e){e.stopPropagation();var t=this.multiple?[]:"";this.$emit("input",t),this.emitChange(t),this.visible=!1,this.$emit("clear")},deleteTag:function(e,t){var n=this.selected.indexOf(t);if(n>-1&&!this.selectDisabled){var r=this.value.slice();r.splice(n,1),this.$emit("input",r),this.emitChange(r),this.$emit("remove-tag",t.value)}e.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(e){e>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(e,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var e=!1,t=this.options.length-1;t>=0;t--)if(this.options[t].created){e=!0,this.hoverIndex=t;break}if(!e)for(var n=0;n!==this.options.length;++n){var r=this.options[n];if(this.query){if(!r.disabled&&!r.groupDisabled&&r.visible){this.hoverIndex=n;break}}else if(r.itemSelected){this.hoverIndex=n;break}}},getValueKey:function(e){return"[object object]"!==Object.prototype.toString.call(e.value).toLowerCase()?e.value:Object(N["getValueByPath"])(e.value,this.valueKey)}},created:function(){var e=this;this.cachedPlaceHolder=this.currentPlaceholder=this.propPlaceholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=A()(this.debounce,(function(){e.onInputChange()})),this.debouncedQueryChange=A()(this.debounce,(function(t){e.handleQueryChange(t.target.value)})),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var e=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(O["addResizeListener"])(this.$el,this.handleResize);var t=this.$refs.reference;if(t&&t.$el){var n={medium:36,small:32,mini:28},r=t.$el.querySelector("input");this.initialInputHeight=r.getBoundingClientRect().height||n[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick((function(){t&&t.$el&&(e.inputWidth=t.$el.getBoundingClientRect().width)})),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(O["removeResizeListener"])(this.$el,this.handleResize)}},B=D,z=Object(b["a"])(B,r,i,!1,null,null,null);z.options.__file="packages/select/src/select.vue";var j=z.exports;j.install=function(e){e.component(j.name,j)};t["default"]=j}})},5128:function(e,t,n){"use strict";t.__esModule=!0,t.PopupManager=void 0;var r=n("8bbf"),i=d(r),o=n("7f4d"),s=d(o),a=n("4b26"),c=d(a),l=n("e62d"),u=d(l),h=n("5924");function d(e){return e&&e.__esModule?e:{default:e}}var p=1,f=void 0;t.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+p++,c.default.register(this._popupId,this)},beforeDestroy:function(){c.default.deregister(this._popupId),c.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,i.default.nextTick((function(){t.open()})))}else this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var n=(0,s.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),r):this.doOpen(n)},doOpen:function(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var t=this.$el,n=e.modal,r=e.zIndex;if(r&&(c.default.zIndex=r),n&&(this._closing&&(c.default.closeModal(this._popupId),this._closing=!1),c.default.openModal(this._popupId,c.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,h.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,h.getStyle)(document.body,"paddingRight"),10)),f=(0,u.default)();var i=document.documentElement.clientHeight<document.body.scrollHeight,o=(0,h.getStyle)(document.body,"overflowY");f>0&&(i||"scroll"===o)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+f+"px"),(0,h.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=c.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout((function(){e._closeTimer=null,e.doClose()}),t):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){c.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,h.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=c.default},"53d7":function(e,t,n){var r=n("7037").default;n("db0a"),n("ea64"),n("f3b8");var i=n("9206").THREE,o=function(){this.currentName="",this.currentSystem="",this.currentPart="",this.currentSpecies="",this.metaURL="",this.viewURL="",this.geometries=[],this.lines=[],this.glyphsets=[],this.pointsets=[],this.currentTime=0,this.timeVarying=!1},s=function(e){var t=this;n("8278").RendererModule.call(this);var s=this,a=void 0;this.sceneData=new o;var c=new Array,l=new Array,u=new Array,h=void 0,d=e;this.NDCCameraControl=void 0,s.typeName="Organ Viewer",this.getSceneData=function(){return s.sceneData},this.updateTime=function(e){var t=6e3;s.scene&&(t=s.scene.getDuration());var n=e/100*t;s.sceneData.nerveMapIsActive||(a&&a.setMorphsTime(n),s.scene&&s.scene.setMorphsTime(n)),s.sceneData.currentTime=e};var p=function(){var e=3e3;s.scene&&(e=s.scene.getDuration());for(var t=s.zincRenderer.getCurrentTime(),n=0;n<c.length;n++)c[n](t);!s.sceneData.nerveMapIsActive&&a&&a.setMorphsTime(t),s.sceneData.nerveMap&&s.sceneData.nerveMap.additionalReader&&s.sceneData.nerveMap.additionalReader.setTime(t/e),s.sceneData.currentTime=t/e*100};this.toggleSyncControl=function(e,n){var r=t.scene.getZincCameraControls();e?(r.resetView(),t.NDCCameraControl=r.enableSyncControl(),r.setRotationMode(n)):(r.disableSyncControl(),t.NDCCameraControl=void 0,r.setRotationMode("free"))},this.isSyncControl=function(){return void 0!==t.NDCCameraControl},this.setSyncControlZoomToBox=function(e){t.NDCCameraControl&&t.NDCCameraControl.zoomToBox(e,2)},this.setSyncControlCallback=function(e){t.NDCCameraControl&&t.NDCCameraControl.setEventCallback(e)},this.setSyncControlCenterZoom=function(e,n){t.NDCCameraControl&&t.NDCCameraControl.setCenterZoom(e,n)};var f=function(){if(s.selectedCenter){var e=new i.Vector3;e.copy(s.selectedCenter);var t=s.scene.vectorToScreenXY(e);s.selectedScreenCoordinates.x=t.x,s.selectedScreenCoordinates.y=t.y}},m=function(){return function(){p()}},g=function(){return function(){f()}};this.addTimeChangedCallback=function(e){r("function"===e)&&c.push(e)},this.setTexturePos=function(e){s.sceneData.nerveMap&&s.sceneData.nerveMap.additionalReader&&s.sceneData.nerveMap.additionalReader.setSliderPos(e)},this.addSceneChangedCallback=function(e){r("function"===e)&&l.push(e)},this.addOrganPartAddedCallback=function(e){r("function"===e)&&u.push(e)},this.setFinishDownloadCallback=function(e){r("function"===e)&&(h=e)},this.unsetFinishDownloadCallback=function(){h=void 0},this.getNamedObjectsToScreenCoordinates=function(e,t){var n=new i.Vector3;n.setFromMatrixPosition(obj.matrixWorld);var r=width/2,o=height/2;return n.project(t),n.x=n.x*r+r,n.y=-n.y*o+o,n};var v=function(e){var t=void 0,n=void 0;if(void 0!==e&&(n=e.object.userData&&e.object.userData.isMarker?e.object.userData.parent.morph:e.object,n))if(n.name)t=n.name;else{var r=s.getAnnotationsFromObjects([n]);r&&r[0]&&(t=r[0].data.group)}return{id:t,object:n}},y=function(){return function(e,t,n){var r=s.getIntersectedObject(e),i=v(r),o={x:t,y:n};i.id?i.object.userData.isGlyph?i.object.name?s.setSelectedByObjects([i.object],o,!0):s.setSelectedByZincObjects(i.object.userData.getGlyphset(),o,!0):s.setSelectedByObjects([i.object],o,!0):s.setSelectedByObjects([],o,!0)}},b=function(){return function(e,t,n){var r=s.getIntersectedObject(e),i=v(r),o={x:t,y:n};if(i.id)return s.displayArea.style.cursor="pointer",void s.setHighlightedByObjects([i.object],o,!0);s.displayArea.style.cursor="auto",s.setHighlightedByObjects([],o,!0)}},x=function(e,t,n,r){if("all"==r||"geometries"==r)for(var i=e.findGeometriesWithGroupName(t),o=0;o<i.length;o++)i[o].setVisibility(n);if("all"==r||"glyphsets"==r)for(var s=e.findGlyphsetsWithGroupName(t),a=0;a<s.length;a++)s[a].setVisibility(n);if("all"==r||"pointsets"==r)for(var c=e.findPointsetsWithGroupName(t),l=0;l<c.length;l++)c[l].setVisibility(n);if("all"==r||"lines"==r)for(var u=e.findLinesWithGroupName(t),h=0;h<u.length;h++)u[h].setVisibility(n)};this.changeGeometriesVisibility=function(e,t){x(s.scene,e,t,"geometries"),a&&x(a,e,t,"geometries")},this.changeGlyphsetsVisibility=function(e,t){x(s.scene,e,t,"glyphsets"),a&&x(a,e,t,"glyphsets")},this.changeLinesVisibility=function(e,t){x(s.scene,e,t,"lines"),a&&x(a,e,t,"lines")},this.changePointsetsVisibility=function(e,t){x(s.scene,e,t,"pointsets"),a&&x(a,e,t,"pointsets")},this.changeOrganPartsVisibility=function(e,t,n){var r="all";void 0!==n&&(r=n),x(s.scene,e,t,r),a&&x(a,e,t,r)},this.changeOrganPartsVisibilityCallback=function(e){return function(t){s.changeOrganPartsVisibility(e,t)}},this.changeBackgroundColour=function(e){var t=new i.Color(e);if(s.zincRenderer){var n=s.zincRenderer.getThreeJSRenderer();n.setClearColor(t,1)}};var w=function(e){e.isGeometry?s.sceneData.geometries.push(e):e.isGlyphset?s.sceneData.glyphsets.push(e):e.isLines?s.sceneData.lines.push(e):e.isPointset&&s.sceneData.pointsets.push(e)},_=function(e,t,r,i){for(var o=0;o<u.length;o++)u[o](i,s.scene.isTimeVarying());r&&d.setGeometryColour(i,e,t),w(i);var a=new(n("984d").annotation),c=i.region.getFullPath();a.data={species:s.sceneData.currentSpecies,system:e,part:t,group:i.groupName,region:c},i.userData["annotation"]=a},S=function(e,t,n){return function(r){_(e,t,n,r)}},M=function(){return function(){s.settingsChanged(),s.sceneData.timeVarying=s.scene.isTimeVarying(),h&&h()}};this.updateFieldvisibility=function(e,t){for(var n=0;n<e.length;n++)if(t!=n){var r=e[n].PartName;s.changeOrganPartsVisibility(r,!1)}if(t>-1){var i=e[t].PartName;if(s.scene.findGeometriesWithGroupName(i).length>0||s.scene.findGlyphsetsWithGroupName(i).length>0)s.changeOrganPartsVisibility(i,!0);else{var o=getOrganDetails(e[t].SystemName,i);void 0!=o&&s.scene.loadMetadataURL(d.getOrgansDirectoryPrefix()+"/"+o.meta)}}},this.getAvailableSpecies=function(e,t,n){var r=new Array;r.push("none");var i=Object.keys(organsFileMap);for(index in i){var o=i[index];o!=e&&organsFileMap[o].hasOwnProperty(t)&&organsFileMap[o][t].hasOwnProperty(n)&&r.push(o)}return r};var T=function(e,t,n,r){s.sceneData.nerveMapIsActive=!1,s.sceneData.nerveMap=void 0,s.sceneData.metaURL="",s.sceneData.viewURL="",s.sceneData.currentSpecies=e,s.sceneData.currentSystem=t,s.sceneData.currentPart=n,s.sceneData.currentTime=0,s.sceneData.geometries.splice(0),s.sceneData.lines.splice(0),s.sceneData.glyphsets.splice(0),s.sceneData.pointsets.splice(0),s.sceneData.timeVarying=!1;var i="";e&&(i=e+"/"),t&&(i=t+"/"),n&&(i=n),s.sceneData.currentName=i};this.loadOrgansFromURL=function(e,t,n,r,i,o){if(s.zincRenderer&&r&&s.sceneData.metaURL!==e){T(t,n,r,void 0);var a=s.sceneData.currentName,c=s.zincRenderer.getSceneByName(a);c?o&&c.clearAll():c=s.zincRenderer.createScene(a);for(var u=0;u<l.length;u++)l[u](s.sceneData);i&&""!=i?(s.sceneData.viewURL=i,c.loadViewURL(s.sceneData.viewURL)):s.sceneData.viewURL=void 0,s.sceneData.metaURL=e,c.loadMetadataURL(e,S(n,r,!1),M()),s.scene=c,s.zincRenderer.setCurrentScene(c),s.graphicsHighlight.reset();var h=c.getZincCameraControls();h.enableRaycaster(c,y(),b()),h.setMouseButtonAction("AUXILIARY","ZOOM"),h.setMouseButtonAction("SECONDARY","PAN")}},this.loadGLTFFromURL=function(e,t,n){if(s.zincRenderer&&t&&s.sceneData.metaURL!==e){T(void 0,void 0,t,void 0);var r=s.sceneData.currentName,i=s.zincRenderer.getSceneByName(r);i?n&&i.clearAll():i=s.zincRenderer.createScene(r);for(var o=0;o<l.length;o++)l[o](s.sceneData);s.sceneData.viewURL=void 0,s.sceneData.metaURL=e,i.loadGLTF(e,S(void 0,t,!1),M()),s.scene=i,s.zincRenderer.setCurrentScene(i),s.graphicsHighlight.reset();var a=i.getZincCameraControls();a.enableRaycaster(i,y(),b()),a.setMouseButtonAction("AUXILIARY","ZOOM"),a.setMouseButtonAction("SECONDARY","PAN")}},this.alignCameraWithSelectedObject=function(e){var t=s.graphicsHighlight.getSelected();t&&t[0]&&t[0].userData&&s.scene.alignObjectToCameraView(t[0].userData,e)},this.exportSettings=function(){var e={};return e.name=s.instanceName,s.sceneData.currentSystem&&(e.system=s.sceneData.currentSystem),s.sceneData.currentSpecies&&(e.species=s.sceneData.currentSpecies),s.sceneData.currentPart&&(e.part=s.sceneData.currentPart),e.metaURL=s.sceneData.metaURL,s.sceneData.viewURL&&(e.viewURL=s.sceneData.viewURL),e.dialog="Organ Viewer",e},this.importSettings=function(e){return!(!e||e.dialog!=this.typeName)&&(s.setName(e.name),void 0!==e.metaURL&&""!=e.metaURL?s.loadOrgansFromURL(e.metaURL,e.species,e.system,e.part,e.viewURL,!0):s.loadOrgans(e.species,e.system,e.part),!0)};var E=function(){s.initialiseRenderer(void 0),s.zincRenderer&&(s.zincRenderer.addPreRenderCallbackFunction(m()),s.zincRenderer.addPostRenderCallbackFunction(g()))};E()};s.prototype=Object.create(n("8278").RendererModule.prototype),t.OrgansViewer=s},5488:function(e,t,n){"use strict";t.__esModule=!0;var r=n("5924");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){i(this,e)}return e.prototype.beforeEnter=function(e){(0,r.addClass)(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},e.prototype.enter=function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},e.prototype.afterEnter=function(e){(0,r.removeClass)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},e.prototype.beforeLeave=function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},e.prototype.leave=function(e){0!==e.scrollHeight&&((0,r.addClass)(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},e.prototype.afterLeave=function(e){(0,r.removeClass)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},e}();t.default={name:"ElCollapseTransition",functional:!0,render:function(e,t){var n=t.children,r={on:new o};return e("transition",r,n)}}},"560b":function(e,t,n){},5924:function(e,t,n){"use strict";t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=m,t.addClass=g,t.removeClass=v,t.setStyle=b;var i=n("8bbf"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var a=o.default.prototype.$isServer,c=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/,u=a?0:Number(document.documentMode),h=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},d=function(e){return e.replace(c,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(l,"Moz$1")},p=t.on=function(){return!a&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}(),f=t.off=function(){return!a&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}();t.once=function(e,t,n){var r=function r(){n&&n.apply(this,arguments),f(e,t,r)};p(e,t,r)};function m(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function g(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),i=0,o=r.length;i<o;i++){var s=r[i];s&&(e.classList?e.classList.add(s):m(e,s)||(n+=" "+s))}e.classList||e.setAttribute("class",n)}}function v(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",i=0,o=n.length;i<o;i++){var s=n[i];s&&(e.classList?e.classList.remove(s):m(e,s)&&(r=r.replace(" "+s+" "," ")))}e.classList||e.setAttribute("class",h(r))}}var y=t.getStyle=u<9?function(e,t){if(!a){if(!e||!t)return null;t=d(t),"float"===t&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(n){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(n){return e.style[t]}}}:function(e,t){if(!a){if(!e||!t)return null;t=d(t),"float"===t&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(r){return e.style[t]}}};function b(e,t,n){if(e&&t)if("object"===("undefined"===typeof t?"undefined":r(t)))for(var i in t)t.hasOwnProperty(i)&&b(e,i,t[i]);else t=d(t),"opacity"===t&&u<9?e.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":e.style[t]=n}var x=t.isScroll=function(e,t){if(!a){var n=null!==t&&void 0!==t,r=y(e,n?t?"overflow-y":"overflow-x":"overflow");return r.match(/(scroll|auto|overlay)/)}};t.getScrollContainer=function(e,t){if(!a){var n=e;while(n){if([window,document,document.documentElement].includes(n))return window;if(x(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){if(a||!e||!t)return!1;var n=e.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}},"5a3b":function(e,t){e.exports=n("00b4")},"5a43":function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},"5e32":function(e,t,n){},"5ec5":function(e,t,n){var r=n("448a").default,i=n("9206").THREE;t.GraphicsHighlight=function(){var e=[],t=[];this.highlightColour=[1,0,0],this.selectColour=[0,1,0],this.originalColour=[0,0,0];var n=this,o=function(e,t){if(0==e.length&&0==t.length)return!1;for(var n=0;n<e.length;n++){for(var r=!1,i=0;i<t.length;i++)e[n]===t[i]&&(r=!0);if(!r)return!0}for(var o=0;o<t.length;o++){for(var s=!1,a=0;a<e.length;a++)t[o]===e[a]&&(s=!0);if(!s)return!0}return!1},s=function(e,t){var n=[];if(0==t.length)return e;for(var r=0;r<e.length;r++){for(var i=!1,o=0;o<t.length;o++)e[r]===t[o]&&(i=!0);i||n.push(e[r])}return n};this.setHighlighted=function(i){var c=e;n.resetHighlighted();for(var l=s(i,t),u=a(l),h=0;h<u.length;h++){var d;u[h]&&u[h].material&&u[h].material.emissive&&(d=u[h].material.emissive).setRGB.apply(d,r(n.highlightColour))}return e=l,o(e,c)},this.setSelected=function(i){var c=t,l=s(e,i);e=l,n.resetSelected();for(var u=a(i),h=0;h<u.length;h++){var d;u[h]&&u[h].material&&u[h].material.emissive&&(d=u[h].material.emissive).setRGB.apply(d,r(n.selectColour))}return t=i,o(t,c)};var a=function(e){for(var t=[],n=0;n<e.length;n++)e[n].material&&t.push(e[n]);return t};this.resetHighlighted=function(){for(var t=a(e),o=0;o<t.length;o++){var s;if(t[o]&&t[o].material)t[o].material.emissive&&(s=t[o].material.emissive).setRGB.apply(s,r(n.originalColour)),t[o].material.depthFunc&&(t[o].material.depthFunc=i.LessEqualDepth)}e=[]},this.resetSelected=function(){for(var e=a(t),o=0;o<e.length;o++){var s;if(e[o]&&e[o].material)e[o].material.emissive&&(s=e[o].material.emissive).setRGB.apply(s,r(n.originalColour)),e[o].material.depthFunc&&(e[o].material.depthFunc=i.LessEqualDepth)}t=[]},this.getSelected=function(){return t},this.reset=function(){n.resetSelected(),n.resetHighlighted()}}},"5f71":function(e,t,n){"use strict";n("93c3")},6167:function(e,t,n){"use strict";var r,i;"function"===typeof Symbol&&Symbol.iterator;(function(o,s){r=s,i="function"===typeof r?r.call(t,n,t,e):r,void 0===i||(e.exports=i)})(0,(function(){var e=window,t={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function n(e,n,r){this._reference=e.jquery?e[0]:e,this.state={};var i="undefined"===typeof n||null===n,o=n&&"[object Object]"===Object.prototype.toString.call(n);return this._popper=i||o?this.parse(o?n:{}):n.jquery?n[0]:n,this._options=Object.assign({},t,r),this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),h(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function r(t){var n=t.style.display,r=t.style.visibility;t.style.display="block",t.style.visibility="hidden";t.offsetWidth;var i=e.getComputedStyle(t),o=parseFloat(i.marginTop)+parseFloat(i.marginBottom),s=parseFloat(i.marginLeft)+parseFloat(i.marginRight),a={width:t.offsetWidth+s,height:t.offsetHeight+o};return t.style.display=n,t.style.visibility=r,a}function i(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function o(e){var t=Object.assign({},e);return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function s(e,t){var n,r=0;for(n in e){if(e[n]===t)return r;r++}return null}function a(t,n){var r=e.getComputedStyle(t,null);return r[n]}function c(t){var n=t.offsetParent;return n!==e.document.body&&n?n:e.document.documentElement}function l(t){var n=t.parentNode;return n?n===e.document?e.document.body.scrollTop||e.document.body.scrollLeft?e.document.body:e.document.documentElement:-1!==["scroll","auto"].indexOf(a(n,"overflow"))||-1!==["scroll","auto"].indexOf(a(n,"overflow-x"))||-1!==["scroll","auto"].indexOf(a(n,"overflow-y"))?n:l(t.parentNode):t}function u(t){return t!==e.document.body&&("fixed"===a(t,"position")||(t.parentNode?u(t.parentNode):t))}function h(e,t){function n(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}Object.keys(t).forEach((function(r){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&n(t[r])&&(i="px"),e.style[r]=t[r]+i}))}function d(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function p(e){var t={width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop};return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function f(e){var t=e.getBoundingClientRect(),n=-1!=navigator.userAgent.indexOf("MSIE"),r=n&&"HTML"===e.tagName?-e.scrollTop:t.top;return{left:t.left,top:r,right:t.right,bottom:t.bottom,width:t.right-t.left,height:t.bottom-r}}function m(e,t,n){var r=f(e),i=f(t);if(n){var o=l(t);i.top+=o.scrollTop,i.bottom+=o.scrollTop,i.left+=o.scrollLeft,i.right+=o.scrollLeft}var s={top:r.top-i.top,left:r.left-i.left,bottom:r.top-i.top+r.height,right:r.left-i.left+r.width,width:r.width,height:r.height};return s}function g(t){for(var n=["","ms","webkit","moz","o"],r=0;r<n.length;r++){var i=n[r]?n[r]+t.charAt(0).toUpperCase()+t.slice(1):t;if("undefined"!==typeof e.document.body.style[i])return i}return null}return n.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[g("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},n.prototype.update=function(){var e={instance:this,styles:{}};e.placement=this._options.placement,e._originalPlacement=this._options.placement,e.offsets=this._getOffsets(this._popper,this._reference,e.placement),e.boundaries=this._getBoundaries(e,this._options.boundariesPadding,this._options.boundariesElement),e=this.runModifiers(e,this._options.modifiers),"function"===typeof this.state.updateCallback&&this.state.updateCallback(e)},n.prototype.onCreate=function(e){return e(this),this},n.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},n.prototype.parse=function(t){var n={tagName:"div",classNames:["popper"],attributes:[],parent:e.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};t=Object.assign({},n,t);var r=e.document,i=r.createElement(t.tagName);if(a(i,t.classNames),c(i,t.attributes),"node"===t.contentType?i.appendChild(t.content.jquery?t.content[0]:t.content):"html"===t.contentType?i.innerHTML=t.content:i.textContent=t.content,t.arrowTagName){var o=r.createElement(t.arrowTagName);a(o,t.arrowClassNames),c(o,t.arrowAttributes),i.appendChild(o)}var s=t.parent.jquery?t.parent[0]:t.parent;if("string"===typeof s){if(s=r.querySelectorAll(t.parent),s.length>1&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),0===s.length)throw"ERROR: the given `parent` doesn't exists!";s=s[0]}return s.length>1&&s instanceof Element===!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),s=s[0]),s.appendChild(i),i;function a(e,t){t.forEach((function(t){e.classList.add(t)}))}function c(e,t){t.forEach((function(t){e.setAttribute(t.split(":")[0],t.split(":")[1]||"")}))}},n.prototype._getPosition=function(e,t){var n=c(t);if(this._options.forceAbsolute)return"absolute";var r=u(t,n);return r?"fixed":"absolute"},n.prototype._getOffsets=function(e,t,n){n=n.split("-")[0];var i={};i.position=this.state.position;var o="fixed"===i.position,s=m(t,c(e),o),a=r(e);return-1!==["right","left"].indexOf(n)?(i.top=s.top+s.height/2-a.height/2,i.left="left"===n?s.left-a.width:s.right):(i.left=s.left+s.width/2-a.width/2,i.top="top"===n?s.top-a.height:s.bottom),i.width=a.width,i.height=a.height,{popper:i,reference:s}},n.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),e.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var t=l(this._reference);t!==e.document.body&&t!==e.document.documentElement||(t=e),t.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=t}},n.prototype._removeEventListeners=function(){e.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},n.prototype._getBoundaries=function(t,n,r){var i,o,s={};if("window"===r){var a=e.document.body,u=e.document.documentElement;o=Math.max(a.scrollHeight,a.offsetHeight,u.clientHeight,u.scrollHeight,u.offsetHeight),i=Math.max(a.scrollWidth,a.offsetWidth,u.clientWidth,u.scrollWidth,u.offsetWidth),s={top:0,right:i,bottom:o,left:0}}else if("viewport"===r){var h=c(this._popper),d=l(this._popper),f=p(h),m=function(e){return e==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):e.scrollTop},g=function(e){return e==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):e.scrollLeft},v="fixed"===t.offsets.popper.position?0:m(d),y="fixed"===t.offsets.popper.position?0:g(d);s={top:0-(f.top-v),right:e.document.documentElement.clientWidth-(f.left-y),bottom:e.document.documentElement.clientHeight-(f.top-v),left:0-(f.left-y)}}else s=c(this._popper)===r?{top:0,left:0,right:r.clientWidth,bottom:r.clientHeight}:p(r);return s.left+=n,s.right-=n,s.top=s.top+n,s.bottom=s.bottom-n,s},n.prototype.runModifiers=function(e,t,n){var r=t.slice();return void 0!==n&&(r=this._options.modifiers.slice(0,s(this._options.modifiers,n))),r.forEach(function(t){d(t)&&(e=t.call(this,e))}.bind(this)),e},n.prototype.isModifierRequired=function(e,t){var n=s(this._options.modifiers,e);return!!this._options.modifiers.slice(0,n).filter((function(e){return e===t})).length},n.prototype.modifiers={},n.prototype.modifiers.applyStyle=function(e){var t,n={position:e.offsets.popper.position},r=Math.round(e.offsets.popper.left),i=Math.round(e.offsets.popper.top);return this._options.gpuAcceleration&&(t=g("transform"))?(n[t]="translate3d("+r+"px, "+i+"px, 0)",n.top=0,n.left=0):(n.left=r,n.top=i),Object.assign(n,e.styles),h(this._popper,n),this._popper.setAttribute("x-placement",e.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&e.offsets.arrow&&h(e.arrowElement,e.offsets.arrow),e},n.prototype.modifiers.shift=function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets.reference,s=o(e.offsets.popper),a={y:{start:{top:i.top},end:{top:i.top+i.height-s.height}},x:{start:{left:i.left},end:{left:i.left+i.width-s.width}}},c=-1!==["bottom","top"].indexOf(n)?"x":"y";e.offsets.popper=Object.assign(s,a[c][r])}return e},n.prototype.modifiers.preventOverflow=function(e){var t=this._options.preventOverflowOrder,n=o(e.offsets.popper),r={left:function(){var t=n.left;return n.left<e.boundaries.left&&(t=Math.max(n.left,e.boundaries.left)),{left:t}},right:function(){var t=n.left;return n.right>e.boundaries.right&&(t=Math.min(n.left,e.boundaries.right-n.width)),{left:t}},top:function(){var t=n.top;return n.top<e.boundaries.top&&(t=Math.max(n.top,e.boundaries.top)),{top:t}},bottom:function(){var t=n.top;return n.bottom>e.boundaries.bottom&&(t=Math.min(n.top,e.boundaries.bottom-n.height)),{top:t}}};return t.forEach((function(t){e.offsets.popper=Object.assign(n,r[t]())})),e},n.prototype.modifiers.keepTogether=function(e){var t=o(e.offsets.popper),n=e.offsets.reference,r=Math.floor;return t.right<r(n.left)&&(e.offsets.popper.left=r(n.left)-t.width),t.left>r(n.right)&&(e.offsets.popper.left=r(n.right)),t.bottom<r(n.top)&&(e.offsets.popper.top=r(n.top)-t.height),t.top>r(n.bottom)&&(e.offsets.popper.top=r(n.bottom)),e},n.prototype.modifiers.flip=function(e){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),e;if(e.flipped&&e.placement===e._originalPlacement)return e;var t=e.placement.split("-")[0],n=i(t),r=e.placement.split("-")[1]||"",s=[];return s="flip"===this._options.flipBehavior?[t,n]:this._options.flipBehavior,s.forEach(function(a,c){if(t===a&&s.length!==c+1){t=e.placement.split("-")[0],n=i(t);var l=o(e.offsets.popper),u=-1!==["right","bottom"].indexOf(t);(u&&Math.floor(e.offsets.reference[t])>Math.floor(l[n])||!u&&Math.floor(e.offsets.reference[t])<Math.floor(l[n]))&&(e.flipped=!0,e.placement=s[c+1],r&&(e.placement+="-"+r),e.offsets.popper=this._getOffsets(this._popper,this._reference,e.placement).popper,e=this.runModifiers(e,this._options.modifiers,this._flip))}}.bind(this)),e},n.prototype.modifiers.offset=function(e){var t=this._options.offset,n=e.offsets.popper;return-1!==e.placement.indexOf("left")?n.top-=t:-1!==e.placement.indexOf("right")?n.top+=t:-1!==e.placement.indexOf("top")?n.left-=t:-1!==e.placement.indexOf("bottom")&&(n.left+=t),e},n.prototype.modifiers.arrow=function(e){var t=this._options.arrowElement,n=this._options.arrowOffset;if("string"===typeof t&&(t=this._popper.querySelector(t)),!t)return e;if(!this._popper.contains(t))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),e;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),e;var i={},s=e.placement.split("-")[0],a=o(e.offsets.popper),c=e.offsets.reference,l=-1!==["left","right"].indexOf(s),u=l?"height":"width",h=l?"top":"left",d=l?"left":"top",p=l?"bottom":"right",f=r(t)[u];c[p]-f<a[h]&&(e.offsets.popper[h]-=a[h]-(c[p]-f)),c[h]+f>a[p]&&(e.offsets.popper[h]+=c[h]+f-a[p]);var m=c[h]+(n||c[u]/2-f/2),g=m-a[h];return g=Math.max(Math.min(a[u]-f-8,g),8),i[h]=g,i[d]="",e.offsets.arrow=i,e.arrowElement=t,e},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var i=Object.keys(r),o=0,s=i.length;o<s;o++){var a=i[o],c=Object.getOwnPropertyDescriptor(r,a);void 0!==c&&c.enumerable&&(t[a]=r[a])}}}return t}}),n}))},6378:function(e,t){e.exports=n("5319")},"642d":function(e,t,n){"use strict";n("6630")},6611:function(e,t,n){},6613:function(e,t,n){n("ea12"),n("97d3"),n("db0a"),n("4362"),n("9bb5"),n("c8a6"),n("5a3b");var r=n("5a43");function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},6630:function(e,t,n){},6721:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=59)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},18:function(e,t){e.exports=n("dcdc")},2:function(e,t){e.exports=n("5924")},20:function(e,t){e.exports=n("4897")},28:function(e,t){e.exports=n("5488")},3:function(e,t){e.exports=n("8122")},4:function(e,t){e.exports=n("d010")},59:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType},attrs:{role:"tree"}},[e._l(e.root.childNodes,(function(t){return n("el-tree-node",{key:e.getNodeKey(t),attrs:{node:t,props:e.props,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent},on:{"node-expand":e.handleNodeExpand}})})),e.isEmpty?n("div",{staticClass:"el-tree__empty-block"},[n("span",{staticClass:"el-tree__empty-text"},[e._v(e._s(e.emptyText))])]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)},i=[];r._withStripped=!0;var o=n(9),s=n.n(o),a="$treeNodeId",c=function(e,t){t&&!t[a]&&Object.defineProperty(t,a,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},l=function(e,t){return e?t[e]:t[a]},u=function(e,t){var n=e;while(n&&"BODY"!==n.tagName){if(n.__vue__&&n.__vue__.$options.name===t)return n.__vue__;n=n.parentNode}return null},h=n(3),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(e){for(var t=!0,n=!0,r=!0,i=0,o=e.length;i<o;i++){var s=e[i];(!0!==s.checked||s.indeterminate)&&(t=!1,s.disabled||(r=!1)),(!1!==s.checked||s.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},m=function e(t){if(0!==t.childNodes.length){var n=f(t.childNodes),r=n.all,i=n.none,o=n.half;r?(t.checked=!0,t.indeterminate=!1):o?(t.checked=!1,t.indeterminate=!0):i&&(t.checked=!1,t.indeterminate=!1);var s=t.parent;s&&0!==s.level&&(t.store.checkStrictly||e(s))}},g=function(e,t){var n=e.store.props,r=e.data||{},i=n[t];if("function"===typeof i)return i(r,e);if("string"===typeof i)return r[i];if("undefined"===typeof i){var o=r[t];return void 0===o?"":o}},v=0,y=function(){function e(t){for(var n in p(this,e),this.id=v++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var r=this.store;if(!r)throw new Error("[Node]store is required!");r.registerNode(this);var i=r.props;if(i&&"undefined"!==typeof i.isLeaf){var o=g(this,"isLeaf");"boolean"===typeof o&&(this.isLeafByUser=o)}if(!0!==r.lazy&&this.data?(this.setData(this.data),r.defaultExpandAll&&(this.expanded=!0)):this.level>0&&r.lazy&&r.defaultExpandAll&&this.expand(),Array.isArray(this.data)||c(this,this.data),this.data){var s=r.defaultExpandedKeys,a=r.key;a&&s&&-1!==s.indexOf(this.key)&&this.expand(null,r.autoExpandParent),a&&void 0!==r.currentNodeKey&&this.key===r.currentNodeKey&&(r.currentNode=this,r.currentNode.isCurrent=!0),r.lazy&&r._initDefaultCheckedNode(this),this.updateLeafState()}}return e.prototype.setData=function(e){Array.isArray(e)||c(this,e),this.data=e,this.childNodes=[];var t=void 0;t=0===this.level&&this.data instanceof Array?this.data:g(this,"children")||[];for(var n=0,r=t.length;n<r;n++)this.insertChild({data:t[n]})},e.prototype.contains=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function n(r){for(var i=r.childNodes||[],o=!1,s=0,a=i.length;s<a;s++){var c=i[s];if(c===e||t&&n(c)){o=!0;break}}return o};return n(this)},e.prototype.remove=function(){var e=this.parent;e&&e.removeChild(this)},e.prototype.insertChild=function(t,n,r){if(!t)throw new Error("insertChild error: child is required.");if(!(t instanceof e)){if(!r){var i=this.getChildren(!0)||[];-1===i.indexOf(t.data)&&("undefined"===typeof n||n<0?i.push(t.data):i.splice(n,0,t.data))}s()(t,{parent:this,store:this.store}),t=new e(t)}t.level=this.level+1,"undefined"===typeof n||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()},e.prototype.insertBefore=function(e,t){var n=void 0;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)},e.prototype.insertAfter=function(e,t){var n=void 0;t&&(n=this.childNodes.indexOf(t),-1!==n&&(n+=1)),this.insertChild(e,n)},e.prototype.removeChild=function(e){var t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);var r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()},e.prototype.removeChildByData=function(e){for(var t=null,n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===e){t=this.childNodes[n];break}t&&this.removeChild(t)},e.prototype.expand=function(e,t){var n=this,r=function(){if(t){var r=n.parent;while(r.level>0)r.expanded=!0,r=r.parent}n.expanded=!0,e&&e()};this.shouldLoadData()?this.loadData((function(e){e instanceof Array&&(n.checked?n.setChecked(!0,!0):n.store.checkStrictly||m(n),r())})):r()},e.prototype.doCreateChildren=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e){t.insertChild(s()({data:e},n),void 0,!0)}))},e.prototype.collapse=function(){this.expanded=!1},e.prototype.shouldLoadData=function(){return!0===this.store.lazy&&this.store.load&&!this.loaded},e.prototype.updateLeafState=function(){if(!0!==this.store.lazy||!0===this.loaded||"undefined"===typeof this.isLeafByUser){var e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser},e.prototype.setChecked=function(e,t,n,r){var i=this;if(this.indeterminate="half"===e,this.checked=!0===e,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var o=f(this.childNodes),s=o.all,a=o.allWithoutDisable;this.isLeaf||s||!a||(this.checked=!1,e=!1);var c=function(){if(t){for(var n=i.childNodes,o=0,s=n.length;o<s;o++){var a=n[o];r=r||!1!==e;var c=a.disabled?a.checked:r;a.setChecked(c,t,!0,r)}var l=f(n),u=l.half,h=l.all;h||(i.checked=h,i.indeterminate=u)}};if(this.shouldLoadData())return void this.loadData((function(){c(),m(i)}),{checked:!1!==e});c()}var l=this.parent;l&&0!==l.level&&(n||m(l))}},e.prototype.getChildren=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var t=this.data;if(!t)return null;var n=this.store.props,r="children";return n&&(r=n.children||"children"),void 0===t[r]&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]},e.prototype.updateChildren=function(){var e=this,t=this.getChildren()||[],n=this.childNodes.map((function(e){return e.data})),r={},i=[];t.forEach((function(e,t){var o=e[a],s=!!o&&Object(h["arrayFindIndex"])(n,(function(e){return e[a]===o}))>=0;s?r[o]={index:t,data:e}:i.push({index:t,data:e})})),this.store.lazy||n.forEach((function(t){r[t[a]]||e.removeChildByData(t)})),i.forEach((function(t){var n=t.index,r=t.data;e.insertChild({data:r},n)})),this.updateLeafState()},e.prototype.loadData=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(n).length)e&&e.call(this);else{this.loading=!0;var r=function(r){t.loaded=!0,t.loading=!1,t.childNodes=[],t.doCreateChildren(r,n),t.updateLeafState(),e&&e.call(t,r)};this.store.load(this,r)}},d(e,[{key:"label",get:function(){return g(this,"label")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return g(this,"disabled")}},{key:"nextSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}},{key:"previousSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}}]),e}(),b=y,x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _=function(){function e(t){var n=this;for(var r in w(this,e),this.currentNode=null,this.currentNodeKey=null,t)t.hasOwnProperty(r)&&(this[r]=t[r]);if(this.nodesMap={},this.root=new b({data:this.data,store:this}),this.lazy&&this.load){var i=this.load;i(this.root,(function(e){n.root.doCreateChildren(e),n._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}return e.prototype.filter=function(e){var t=this.filterNodeMethod,n=this.lazy,r=function r(i){var o=i.root?i.root.childNodes:i.childNodes;if(o.forEach((function(n){n.visible=t.call(n,e,n.data,n),r(n)})),!i.visible&&o.length){var s=!0;s=!o.some((function(e){return e.visible})),i.root?i.root.visible=!1===s:i.visible=!1===s}e&&(!i.visible||i.isLeaf||n||i.expand())};r(this)},e.prototype.setData=function(e){var t=e!==this.root.data;t?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()},e.prototype.getNode=function(e){if(e instanceof b)return e;var t="object"!==("undefined"===typeof e?"undefined":x(e))?e:l(this.key,e);return this.nodesMap[t]||null},e.prototype.insertBefore=function(e,t){var n=this.getNode(t);n.parent.insertBefore({data:e},n)},e.prototype.insertAfter=function(e,t){var n=this.getNode(t);n.parent.insertAfter({data:e},n)},e.prototype.remove=function(e){var t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))},e.prototype.append=function(e,t){var n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})},e.prototype._initDefaultCheckedNodes=function(){var e=this,t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach((function(t){var r=n[t];r&&r.setChecked(!0,!e.checkStrictly)}))},e.prototype._initDefaultCheckedNode=function(e){var t=this.defaultCheckedKeys||[];-1!==t.indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)},e.prototype.setDefaultCheckedKey=function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())},e.prototype.registerNode=function(e){var t=this.key;if(t&&e&&e.data){var n=e.key;void 0!==n&&(this.nodesMap[e.key]=e)}},e.prototype.deregisterNode=function(e){var t=this,n=this.key;n&&e&&e.data&&(e.childNodes.forEach((function(e){t.deregisterNode(e)})),delete this.nodesMap[e.key])},e.prototype.getCheckedNodes=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=function r(i){var o=i.root?i.root.childNodes:i.childNodes;o.forEach((function(i){(i.checked||t&&i.indeterminate)&&(!e||e&&i.isLeaf)&&n.push(i.data),r(i)}))};return r(this),n},e.prototype.getCheckedKeys=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(t).map((function(t){return(t||{})[e.key]}))},e.prototype.getHalfCheckedNodes=function(){var e=[],t=function t(n){var r=n.root?n.root.childNodes:n.childNodes;r.forEach((function(n){n.indeterminate&&e.push(n.data),t(n)}))};return t(this),e},e.prototype.getHalfCheckedKeys=function(){var e=this;return this.getHalfCheckedNodes().map((function(t){return(t||{})[e.key]}))},e.prototype._getAllNodes=function(){var e=[],t=this.nodesMap;for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},e.prototype.updateChildren=function(e,t){var n=this.nodesMap[e];if(n){for(var r=n.childNodes,i=r.length-1;i>=0;i--){var o=r[i];this.remove(o.data)}for(var s=0,a=t.length;s<a;s++){var c=t[s];this.append(c,n.data)}}},e.prototype._setCheckedKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=this._getAllNodes().sort((function(e,t){return t.level-e.level})),i=Object.create(null),o=Object.keys(n);r.forEach((function(e){return e.setChecked(!1,!1)}));for(var s=0,a=r.length;s<a;s++){var c=r[s],l=c.data[e].toString(),u=o.indexOf(l)>-1;if(u){var h=c.parent;while(h&&h.level>0)i[h.data[e]]=!0,h=h.parent;c.isLeaf||this.checkStrictly?c.setChecked(!0,!1):(c.setChecked(!0,!0),t&&function(){c.setChecked(!1,!1);var e=function e(t){var n=t.childNodes;n.forEach((function(t){t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(c)}())}else c.checked&&!i[l]&&c.setChecked(!1,!1)}},e.prototype.setCheckedNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.key,r={};e.forEach((function(e){r[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,r)},e.prototype.setCheckedKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=e;var n=this.key,r={};e.forEach((function(e){r[e]=!0})),this._setCheckedKeys(n,t,r)},e.prototype.setDefaultExpandedKeys=function(e){var t=this;e=e||[],this.defaultExpandedKeys=e,e.forEach((function(e){var n=t.getNode(e);n&&n.expand(null,t.autoExpandParent)}))},e.prototype.setChecked=function(e,t,n){var r=this.getNode(e);r&&r.setChecked(!!t,n)},e.prototype.getCurrentNode=function(){return this.currentNode},e.prototype.setCurrentNode=function(e){var t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0},e.prototype.setUserCurrentNode=function(e){var t=e[this.key],n=this.nodesMap[t];this.setCurrentNode(n)},e.prototype.setCurrentNodeKey=function(e){if(null===e||void 0===e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var t=this.getNode(e);t&&this.setCurrentNode(t)},e}(),S=_,M=function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":t.expanded,"is-current":t.node.isCurrent,"is-hidden":!t.node.visible,"is-focusable":!t.node.disabled,"is-checked":!t.node.disabled&&t.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.draggable},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)},contextmenu:function(t){return e.handleContextMenu(t)},dragstart:function(e){return e.stopPropagation(),t.handleDragStart(e)},dragover:function(e){return e.stopPropagation(),t.handleDragOver(e)},dragend:function(e){return e.stopPropagation(),t.handleDragEnd(e)},drop:function(e){return e.stopPropagation(),t.handleDrop(e)}}},[r("div",{staticClass:"el-tree-node__content",style:{"padding-left":(t.node.level-1)*t.tree.indent+"px"}},[r("span",{class:[{"is-leaf":t.node.isLeaf,expanded:!t.node.isLeaf&&t.expanded},"el-tree-node__expand-icon",t.tree.iconClass?t.tree.iconClass:"el-icon-caret-right"],on:{click:function(e){return e.stopPropagation(),t.handleExpandIconClick(e)}}}),t.showCheckbox?r("el-checkbox",{attrs:{indeterminate:t.node.indeterminate,disabled:!!t.node.disabled},on:{change:t.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:t.node.checked,callback:function(e){t.$set(t.node,"checked",e)},expression:"node.checked"}}):t._e(),t.node.loading?r("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):t._e(),r("node-content",{attrs:{node:t.node}})],1),r("el-collapse-transition",[!t.renderAfterExpand||t.childNodeRendered?r("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":t.expanded}},t._l(t.node.childNodes,(function(e){return r("el-tree-node",{key:t.getNodeKey(e),attrs:{"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:e},on:{"node-expand":t.handleChildNodeExpand}})})),1):t._e()])],1)},T=[];M._withStripped=!0;var E=n(28),C=n.n(E),A=n(18),L=n.n(A),R=n(4),O=n.n(R),P={name:"ElTreeNode",componentName:"ElTreeNode",mixins:[O.a],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:C.a,ElCheckbox:L.a,NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,n=t.tree,r=this.node,i=r.data,o=r.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:n.$vnode.context,node:r,data:i,store:o}):n.$scopedSlots.default?n.$scopedSlots.default({node:r,data:i}):e("span",{class:"el-tree-node__label"},[r.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(e){this.handleSelectChange(this.node.checked,e)},"node.checked":function(e){this.handleSelectChange(e,this.node.indeterminate)},"node.expanded":function(e){var t=this;this.$nextTick((function(){return t.expanded=e})),e&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(e){return l(this.tree.nodeKey,e.data)},handleSelectChange:function(e,t){this.oldChecked!==e&&this.oldIndeterminate!==t&&this.tree.$emit("check-change",this.node.data,e,t),this.oldChecked=e,this.indeterminate=t},handleClick:function(){var e=this.tree.store;e.setCurrentNode(this.node),this.tree.$emit("current-change",e.currentNode?e.currentNode.data:null,e.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(e){this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(e.stopPropagation(),e.preventDefault()),this.tree.$emit("node-contextmenu",e,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(e,t){var n=this;this.node.setChecked(t.target.checked,!this.tree.checkStrictly),this.$nextTick((function(){var e=n.tree.store;n.tree.$emit("check",n.node.data,{checkedNodes:e.getCheckedNodes(),checkedKeys:e.getCheckedKeys(),halfCheckedNodes:e.getHalfCheckedNodes(),halfCheckedKeys:e.getHalfCheckedKeys()})}))},handleChildNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,n)},handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)}},created:function(){var e=this,t=this.$parent;t.isTree?this.tree=t:this.tree=t.tree;var n=this.tree;n||console.warn("Can not find node's tree.");var r=n.props||{},i=r["children"]||"children";this.$watch("node.data."+i,(function(){e.node.updateChildren()})),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",(function(t){e.node!==t&&e.node.collapse()}))}},k=P,N=n(0),F=Object(N["a"])(k,M,T,!1,null,null,null);F.options.__file="packages/tree/src/tree-node.vue";var I=F.exports,D=n(20),B=n(2),z={name:"ElTree",mixins:[O.a],components:{ElTreeNode:I},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},props:{data:{type:Array},emptyText:{type:String,default:function(){return Object(D["t"])("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var e=this.root.childNodes;return!e||0===e.length||e.every((function(e){var t=e.visible;return!t}))}},watch:{defaultCheckedKeys:function(e){this.store.setDefaultCheckedKey(e)},defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},data:function(e){this.store.setData(e)},checkboxItems:function(e){Array.prototype.forEach.call(e,(function(e){e.setAttribute("tabindex",-1)}))},checkStrictly:function(e){this.store.checkStrictly=e}},methods:{filter:function(e){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(e)},getNodeKey:function(e){return l(this.nodeKey,e.data)},getNodePath:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var t=this.store.getNode(e);if(!t)return[];var n=[t.data],r=t.parent;while(r&&r!==this.root)n.push(r.data),r=r.parent;return n.reverse()},getCheckedNodes:function(e,t){return this.store.getCheckedNodes(e,t)},getCheckedKeys:function(e){return this.store.getCheckedKeys(e)},getCurrentNode:function(){var e=this.store.getCurrentNode();return e?e.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var e=this.getCurrentNode();return e?e[this.nodeKey]:null},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,n){this.store.setChecked(e,t,n)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(e)},setCurrentKey:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(e)},getNode:function(e){return this.store.getNode(e)},remove:function(e){this.store.remove(e)},append:function(e,t){this.store.append(e,t)},insertBefore:function(e,t){this.store.insertBefore(e,t)},insertAfter:function(e,t){this.store.insertAfter(e,t)},handleNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,n)},updateKeyChildren:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(e,t)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var e=this.$el.querySelectorAll(".is-checked[role=treeitem]");e.length?e[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(e){var t=e.target;if(-1!==t.className.indexOf("el-tree-node")){var n=e.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");var r=this.treeItemArray.indexOf(t),i=void 0;[38,40].indexOf(n)>-1&&(e.preventDefault(),i=38===n?0!==r?r-1:0:r<this.treeItemArray.length-1?r+1:0,this.treeItemArray[i].focus()),[37,39].indexOf(n)>-1&&(e.preventDefault(),t.click());var o=t.querySelector('[type="checkbox"]');[13,32].indexOf(n)>-1&&o&&(e.preventDefault(),o.click())}}},created:function(){var e=this;this.isTree=!0,this.store=new S({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var t=this.dragState;this.$on("tree-node-drag-start",(function(n,r){if("function"===typeof e.allowDrag&&!e.allowDrag(r.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed="move";try{n.dataTransfer.setData("text/plain","")}catch(i){}t.draggingNode=r,e.$emit("node-drag-start",r.node,n)})),this.$on("tree-node-drag-over",(function(n,r){var i=u(n.target,"ElTreeNode"),o=t.dropNode;o&&o!==i&&Object(B["removeClass"])(o.$el,"is-drop-inner");var s=t.draggingNode;if(s&&i){var a=!0,c=!0,l=!0,h=!0;"function"===typeof e.allowDrop&&(a=e.allowDrop(s.node,i.node,"prev"),h=c=e.allowDrop(s.node,i.node,"inner"),l=e.allowDrop(s.node,i.node,"next")),n.dataTransfer.dropEffect=c?"move":"none",(a||c||l)&&o!==i&&(o&&e.$emit("node-drag-leave",s.node,o.node,n),e.$emit("node-drag-enter",s.node,i.node,n)),(a||c||l)&&(t.dropNode=i),i.node.nextSibling===s.node&&(l=!1),i.node.previousSibling===s.node&&(a=!1),i.node.contains(s.node,!1)&&(c=!1),(s.node===i.node||s.node.contains(i.node))&&(a=!1,c=!1,l=!1);var d=i.$el.getBoundingClientRect(),p=e.$el.getBoundingClientRect(),f=void 0,m=a?c?.25:l?.45:1:-1,g=l?c?.75:a?.55:0:1,v=-9999,y=n.clientY-d.top;f=y<d.height*m?"before":y>d.height*g?"after":c?"inner":"none";var b=i.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),x=e.$refs.dropIndicator;"before"===f?v=b.top-p.top:"after"===f&&(v=b.bottom-p.top),x.style.top=v+"px",x.style.left=b.right-p.left+"px","inner"===f?Object(B["addClass"])(i.$el,"is-drop-inner"):Object(B["removeClass"])(i.$el,"is-drop-inner"),t.showDropIndicator="before"===f||"after"===f,t.allowDrop=t.showDropIndicator||h,t.dropType=f,e.$emit("node-drag-over",s.node,i.node,n)}})),this.$on("tree-node-drag-end",(function(n){var r=t.draggingNode,i=t.dropType,o=t.dropNode;if(n.preventDefault(),n.dataTransfer.dropEffect="move",r&&o){var s={data:r.node.data};"none"!==i&&r.node.remove(),"before"===i?o.node.parent.insertBefore(s,o.node):"after"===i?o.node.parent.insertAfter(s,o.node):"inner"===i&&o.node.insertChild(s),"none"!==i&&e.store.registerNode(s),Object(B["removeClass"])(o.$el,"is-drop-inner"),e.$emit("node-drag-end",r.node,o.node,i,n),"none"!==i&&e.$emit("node-drop",r.node,o.node,i,n)}r&&!o&&e.$emit("node-drag-end",r.node,null,i,n),t.showDropIndicator=!1,t.draggingNode=null,t.dropNode=null,t.allowDrop=!0}))},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")}},j=z,U=Object(N["a"])(j,r,i,!1,null,null,null);U.options.__file="packages/tree/src/tree.vue";var V=U.exports;V.install=function(e){e.component(V.name,V)};t["default"]=V},9:function(e,t){e.exports=n("7f4d")}})},6814:function(e,t){e.exports=n("93c6")},"6aa6":function(e,t,n){n("ea12"),n("db0a"),n("85f7"),n("fd22"),n("f3b8");var r={ALL:0,DESTROYED:1,NAME_CHANGED:2,SETTINGS_CHANGED:3},i=function(){this.typeName="Base Module",this.instanceName="default",this.onChangedCallbacks=[],this.eventNotifiers=[]};i.prototype.setName=function(e){if(e&&this.instanceName!==e){this.instanceName=e;for(var t=this.onChangedCallbacks.slice(),n=0;n<t.length;n++)t[n](this,r.NAME_CHANGED)}},i.prototype.settingsChanged=function(){for(var e=this.onChangedCallbacks.slice(),t=0;t<e.length;t++)e[t](this,r.SETTINGS_CHANGED)},i.prototype.exportSettings=function(){var e={};return e.dialog=this.typeName,e.name=this.instanceName,e},i.prototype.importSettings=function(e){return e.dialog==this.typeName&&(this.setName(e.name),!0)},i.prototype.publishChanges=function(e,t){for(var n=0;n<this.eventNotifiers.length;n++)this.eventNotifiers[n].publish(this,t,e)},i.prototype.getName=function(){return this.instanceName},i.prototype.destroy=function(){for(var e=this.onChangedCallbacks.slice(),t=0;t<e.length;t++)e[t](this,r.DESTROYED)},i.prototype.addChangedCallback=function(e){0==this.onChangedCallbacks.includes(e)&&this.onChangedCallbacks.push(e)},i.prototype.removeChangedCallback=function(e){var t=this.onChangedCallbacks.indexOf(e);t>-1&&this.onChangedCallbacks.splice(t,1)},i.prototype.addNotifier=function(e){this.eventNotifiers.push(e)},t.BaseModule=i,t.MODULE_CHANGE=r},"6ac9":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=77)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},2:function(e,t){e.exports=n("5924")},3:function(e,t){e.exports=n("8122")},5:function(e,t){e.exports=n("e974")},7:function(e,t){e.exports=n("8bbf")},77:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("transition",{attrs:{name:e.transition},on:{"after-enter":e.handleAfterEnter,"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&e.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[e.popperClass,e.content&&"el-popover--plain"],style:{width:e.width+"px"},attrs:{role:"tooltip",id:e.tooltipId,"aria-hidden":e.disabled||!e.showPopper?"true":"false"}},[e.title?n("div",{staticClass:"el-popover__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._t("default",[e._v(e._s(e.content))])],2)]),n("span",{ref:"wrapper",staticClass:"el-popover__reference-wrapper"},[e._t("reference")],2)],1)},i=[];r._withStripped=!0;var o=n(5),s=n.n(o),a=n(2),c=n(3),l={name:"ElPopover",mixins:[s.a],props:{trigger:{type:String,default:"click",validator:function(e){return["click","focus","hover","manual"].indexOf(e)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(c["generateId"])()}},watch:{showPopper:function(e){this.disabled||(e?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var e=this,t=this.referenceElm=this.reference||this.$refs.reference,n=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),t&&(Object(a["addClass"])(t,"el-popover__reference"),t.setAttribute("aria-describedby",this.tooltipId),t.setAttribute("tabindex",this.tabindex),n.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(a["on"])(t,"focusin",(function(){e.handleFocus();var n=t.__vue__;n&&"function"===typeof n.focus&&n.focus()})),Object(a["on"])(n,"focusin",this.handleFocus),Object(a["on"])(t,"focusout",this.handleBlur),Object(a["on"])(n,"focusout",this.handleBlur)),Object(a["on"])(t,"keydown",this.handleKeydown),Object(a["on"])(t,"click",this.handleClick)),"click"===this.trigger?(Object(a["on"])(t,"click",this.doToggle),Object(a["on"])(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(a["on"])(t,"mouseenter",this.handleMouseEnter),Object(a["on"])(n,"mouseenter",this.handleMouseEnter),Object(a["on"])(t,"mouseleave",this.handleMouseLeave),Object(a["on"])(n,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),t.querySelector("input, textarea")?(Object(a["on"])(t,"focusin",this.doShow),Object(a["on"])(t,"focusout",this.doClose)):(Object(a["on"])(t,"mousedown",this.doShow),Object(a["on"])(t,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(a["addClass"])(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(a["removeClass"])(this.referenceElm,"focusing")},handleBlur:function(){Object(a["removeClass"])(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var e=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout((function(){e.showPopper=!0}),this.openDelay):this.showPopper=!0},handleKeydown:function(e){27===e.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout((function(){e.showPopper=!1}),this.closeDelay):this.showPopper=!1},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference,n=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&n&&!n.contains(e.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var e=this.reference;Object(a["off"])(e,"click",this.doToggle),Object(a["off"])(e,"mouseup",this.doClose),Object(a["off"])(e,"mousedown",this.doShow),Object(a["off"])(e,"focusin",this.doShow),Object(a["off"])(e,"focusout",this.doClose),Object(a["off"])(e,"mousedown",this.doShow),Object(a["off"])(e,"mouseup",this.doClose),Object(a["off"])(e,"mouseleave",this.handleMouseLeave),Object(a["off"])(e,"mouseenter",this.handleMouseEnter),Object(a["off"])(document,"click",this.handleDocumentClick)}},u=l,h=n(0),d=Object(h["a"])(u,r,i,!1,null,null,null);d.options.__file="packages/popover/src/main.vue";var p=d.exports,f=function(e,t,n){var r=t.expression?t.value:t.arg,i=n.context.$refs[r];i&&(Array.isArray(i)?i[0].$refs.reference=e:i.$refs.reference=e)},m={bind:function(e,t,n){f(e,t,n)},inserted:function(e,t,n){f(e,t,n)}},g=n(7),v=n.n(g);v.a.directive("popover",m),p.install=function(e){e.directive("popover",m),e.component(p.name,p)},p.directive=m;t["default"]=p}})},"6b7c":function(e,t,n){"use strict";t.__esModule=!0;var r=n("4897");t.default={methods:{t:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.t.apply(this,t)}}}},7037:function(e,t,n){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,r(t)}n("9b22"),n("4933"),n("97d3"),n("2ff9"),n("4ccb"),n("9bb5"),n("1a25"),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},"712c":function(e,t){e.exports=n("9861")},"72aa":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=62)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},16:function(e,t){e.exports=n("4010")},3:function(e,t){e.exports=n("8122")},62:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-tabs__active-bar",class:"is-"+e.rootTabs.tabPosition,style:e.barStyle})},i=[];r._withStripped=!0;var o=n(3),s={name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{get:function(){var e=this,t={},n=0,r=0,i=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",s="width"===i?"x":"y",a=function(e){return e.toLowerCase().replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))};this.tabs.every((function(t,s){var c=Object(o["arrayFind"])(e.$parent.$refs.tabs||[],(function(e){return e.id.replace("tab-","")===t.paneName}));if(!c)return!1;if(t.active){r=c["client"+a(i)];var l=window.getComputedStyle(c);return"width"===i&&e.tabs.length>1&&(r-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),"width"===i&&(n+=parseFloat(l.paddingLeft)),!1}return n+=c["client"+a(i)],!0}));var c="translate"+a(s)+"("+n+"px)";return t[i]=r+"px",t.transform=c,t.msTransform=c,t.webkitTransform=c,t}}}},a=s,c=n(0),l=Object(c["a"])(a,r,i,!1,null,null,null);l.options.__file="packages/tabs/src/tab-bar.vue";var u=l.exports,h=n(16);function d(){}var p,f,m=function(e){return e.toLowerCase().replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))},g={name:"TabNav",components:{TabBar:u},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:d},onTabRemove:{type:Function,default:d},type:String,stretch:Boolean},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1,focusable:!0}},computed:{navStyle:function(){var e=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y";return{transform:"translate"+e+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var e=this.$refs.navScroll["offset"+m(this.sizeName)],t=this.navOffset;if(t){var n=t>e?t-e:0;this.navOffset=n}},scrollNext:function(){var e=this.$refs.nav["offset"+m(this.sizeName)],t=this.$refs.navScroll["offset"+m(this.sizeName)],n=this.navOffset;if(!(e-n<=t)){var r=e-n>2*t?n+t:e-t;this.navOffset=r}},scrollToActiveTab:function(){if(this.scrollable){var e=this.$refs.nav,t=this.$el.querySelector(".is-active");if(t){var n=this.$refs.navScroll,r=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition),i=t.getBoundingClientRect(),o=n.getBoundingClientRect(),s=r?e.offsetWidth-o.width:e.offsetHeight-o.height,a=this.navOffset,c=a;r?(i.left<o.left&&(c=a-(o.left-i.left)),i.right>o.right&&(c=a+i.right-o.right)):(i.top<o.top&&(c=a-(o.top-i.top)),i.bottom>o.bottom&&(c=a+(i.bottom-o.bottom))),c=Math.max(c,0),this.navOffset=Math.min(c,s)}}},update:function(){if(this.$refs.nav){var e=this.sizeName,t=this.$refs.nav["offset"+m(e)],n=this.$refs.navScroll["offset"+m(e)],r=this.navOffset;if(n<t){var i=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=i,this.scrollable.next=i+n<t,t-i<n&&(this.navOffset=t-n)}else this.scrollable=!1,r>0&&(this.navOffset=0)}},changeTab:function(e){var t=e.keyCode,n=void 0,r=void 0,i=void 0;-1!==[37,38,39,40].indexOf(t)&&(i=e.currentTarget.querySelectorAll("[role=tab]"),r=Array.prototype.indexOf.call(i,e.target),n=37===t||38===t?0===r?i.length-1:r-1:r<i.length-1?r+1:0,i[n].focus(),i[n].click(),this.setFocus())},setFocus:function(){this.focusable&&(this.isFocus=!0)},removeFocus:function(){this.isFocus=!1},visibilityChangeHandler:function(){var e=this,t=document.visibilityState;"hidden"===t?this.focusable=!1:"visible"===t&&setTimeout((function(){e.focusable=!0}),50)},windowBlurHandler:function(){this.focusable=!1},windowFocusHandler:function(){var e=this;setTimeout((function(){e.focusable=!0}),50)}},updated:function(){this.update()},render:function(e){var t=this,n=this.type,r=this.panes,i=this.editable,o=this.stretch,s=this.onTabClick,a=this.onTabRemove,c=this.navStyle,l=this.scrollable,u=this.scrollNext,h=this.scrollPrev,d=this.changeTab,p=this.setFocus,f=this.removeFocus,m=l?[e("span",{class:["el-tabs__nav-prev",l.prev?"":"is-disabled"],on:{click:h}},[e("i",{class:"el-icon-arrow-left"})]),e("span",{class:["el-tabs__nav-next",l.next?"":"is-disabled"],on:{click:u}},[e("i",{class:"el-icon-arrow-right"})])]:null,g=this._l(r,(function(n,r){var o,c=n.name||n.index||r,l=n.isClosable||i;n.index=""+r;var u=l?e("span",{class:"el-icon-close",on:{click:function(e){a(n,e)}}}):null,h=n.$slots.label||n.label,d=n.active?0:-1;return e("div",{class:(o={"el-tabs__item":!0},o["is-"+t.rootTabs.tabPosition]=!0,o["is-active"]=n.active,o["is-disabled"]=n.disabled,o["is-closable"]=l,o["is-focus"]=t.isFocus,o),attrs:{id:"tab-"+c,"aria-controls":"pane-"+c,role:"tab","aria-selected":n.active,tabindex:d},key:"tab-"+c,ref:"tabs",refInFor:!0,on:{focus:function(){p()},blur:function(){f()},click:function(e){f(),s(n,c,e)},keydown:function(e){!l||46!==e.keyCode&&8!==e.keyCode||a(n,e)}}},[h,u])}));return e("div",{class:["el-tabs__nav-wrap",l?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[m,e("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[e("div",{class:["el-tabs__nav","is-"+this.rootTabs.tabPosition,o&&-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"is-stretch":""],ref:"nav",style:c,attrs:{role:"tablist"},on:{keydown:d}},[n?null:e("tab-bar",{attrs:{tabs:r}}),g])])])},mounted:function(){var e=this;Object(h["addResizeListener"])(this.$el,this.update),document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("blur",this.windowBlurHandler),window.addEventListener("focus",this.windowFocusHandler),setTimeout((function(){e.scrollToActiveTab()}),0)},beforeDestroy:function(){this.$el&&this.update&&Object(h["removeResizeListener"])(this.$el,this.update),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.removeEventListener("blur",this.windowBlurHandler),window.removeEventListener("focus",this.windowFocusHandler)}},v=g,y=Object(c["a"])(v,p,f,!1,null,null,null);y.options.__file="packages/tabs/src/tab-nav.vue";var b,x,w=y.exports,_={name:"ElTabs",components:{TabNav:w},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:Function,stretch:Boolean},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(e){this.setCurrentName(e)},value:function(e){this.setCurrentName(e)},currentName:function(e){var t=this;this.$refs.nav&&this.$nextTick((function(){t.$refs.nav.$nextTick((function(e){t.$refs.nav.scrollToActiveTab()}))}))}},methods:{calcPaneInstances:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slots.default){var n=this.$slots.default.filter((function(e){return e.tag&&e.componentOptions&&"ElTabPane"===e.componentOptions.Ctor.options.name})),r=n.map((function(e){var t=e.componentInstance;return t})),i=!(r.length===this.panes.length&&r.every((function(t,n){return t===e.panes[n]})));(t||i)&&(this.panes=r)}else 0!==this.panes.length&&(this.panes=[])},handleTabClick:function(e,t,n){e.disabled||(this.setCurrentName(t),this.$emit("tab-click",e,n))},handleTabRemove:function(e,t){e.disabled||(t.stopPropagation(),this.$emit("edit",e.name,"remove"),this.$emit("tab-remove",e.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(e){var t=this,n=function(){t.currentName=e,t.$emit("input",e)};if(this.currentName!==e&&this.beforeLeave){var r=this.beforeLeave(e,this.currentName);r&&r.then?r.then((function(){n(),t.$refs.nav&&t.$refs.nav.removeFocus()}),(function(){})):!1!==r&&n()}else n()}},render:function(e){var t,n=this.type,r=this.handleTabClick,i=this.handleTabRemove,o=this.handleTabAdd,s=this.currentName,a=this.panes,c=this.editable,l=this.addable,u=this.tabPosition,h=this.stretch,d=c||l?e("span",{class:"el-tabs__new-tab",on:{click:o,keydown:function(e){13===e.keyCode&&o()}},attrs:{tabindex:"0"}},[e("i",{class:"el-icon-plus"})]):null,p={props:{currentName:s,onTabClick:r,onTabRemove:i,editable:c,type:n,panes:a,stretch:h},ref:"nav"},f=e("div",{class:["el-tabs__header","is-"+u]},[d,e("tab-nav",p)]),m=e("div",{class:"el-tabs__content"},[this.$slots.default]);return e("div",{class:(t={"el-tabs":!0,"el-tabs--card":"card"===n},t["el-tabs--"+u]=!0,t["el-tabs--border-card"]="border-card"===n,t)},["bottom"!==u?[f,m]:[m,f]])},created:function(){this.currentName||this.setCurrentName("0"),this.$on("tab-nav-update",this.calcPaneInstances.bind(null,!0))},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()}},S=_,M=Object(c["a"])(S,b,x,!1,null,null,null);M.options.__file="packages/tabs/src/tabs.vue";var T=M.exports;T.install=function(e){e.component(T.name,T)};t["default"]=T}})},7435:function(e,t){e.exports=n("0e15")},7464:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=54)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},10:function(e,t){e.exports=n("f3ad")},12:function(e,t){e.exports=n("417f")},14:function(e,t){e.exports=n("eedf")},4:function(e,t){e.exports=n("d010")},5:function(e,t){e.exports=n("e974")},54:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hide,expression:"hide"}],class:["el-color-picker",e.colorDisabled?"is-disabled":"",e.colorSize?"el-color-picker--"+e.colorSize:""]},[e.colorDisabled?n("div",{staticClass:"el-color-picker__mask"}):e._e(),n("div",{staticClass:"el-color-picker__trigger",on:{click:e.handleTrigger}},[n("span",{staticClass:"el-color-picker__color",class:{"is-alpha":e.showAlpha}},[n("span",{staticClass:"el-color-picker__color-inner",style:{backgroundColor:e.displayedColor}}),e.value||e.showPanelColor?e._e():n("span",{staticClass:"el-color-picker__empty el-icon-close"})]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.value||e.showPanelColor,expression:"value || showPanelColor"}],staticClass:"el-color-picker__icon el-icon-arrow-down"})]),n("picker-dropdown",{ref:"dropdown",class:["el-color-picker__panel",e.popperClass||""],attrs:{color:e.color,"show-alpha":e.showAlpha,predefine:e.predefine},on:{pick:e.confirmValue,clear:e.clearValue},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}})],1)},i=[];r._withStripped=!0;var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},c=function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)},l=function(e){return"string"===typeof e&&-1!==e.indexOf("%")},u=function(e,t){c(e)&&(e="100%");var n=l(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)},h={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},d=function(e){var t=e.r,n=e.g,r=e.b,i=function(e){e=Math.min(Math.round(e),255);var t=Math.floor(e/16),n=e%16;return""+(h[t]||t)+(h[n]||n)};return isNaN(t)||isNaN(n)||isNaN(r)?"":"#"+i(t)+i(n)+i(r)},p={A:10,B:11,C:12,D:13,E:14,F:15},f=function(e){return 2===e.length?16*(p[e[0].toUpperCase()]||+e[0])+(p[e[1].toUpperCase()]||+e[1]):p[e[1].toUpperCase()]||+e[1]},m=function(e,t,n){t/=100,n/=100;var r=t,i=Math.max(n,.01),o=void 0,s=void 0;return n*=2,t*=n<=1?n:2-n,r*=i<=1?i:2-i,s=(n+t)/2,o=0===n?2*r/(i+r):2*t/(n+t),{h:e,s:100*o,v:100*s}},g=function(e,t,n){e=u(e,255),t=u(t,255),n=u(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=void 0,s=void 0,a=r,c=r-i;if(s=0===r?0:c/r,r===i)o=0;else{switch(r){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4;break}o/=6}return{h:360*o,s:100*s,v:100*a}},v=function(e,t,n){e=6*u(e,360),t=u(t,100),n=u(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),c=r%6,l=[n,s,o,o,a,n][c],h=[a,n,n,s,o,o][c],d=[o,o,a,n,n,s][c];return{r:Math.round(255*l),g:Math.round(255*h),b:Math.round(255*d)}},y=function(){function e(t){for(var n in s(this,e),this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",t=t||{},t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.doOnChange()}return e.prototype.set=function(e,t){if(1!==arguments.length||"object"!==("undefined"===typeof e?"undefined":o(e)))this["_"+e]=t,this.doOnChange();else for(var n in e)e.hasOwnProperty(n)&&this.set(n,e[n])},e.prototype.get=function(e){return this["_"+e]},e.prototype.toRgb=function(){return v(this._hue,this._saturation,this._value)},e.prototype.fromString=function(e){var t=this;if(!e)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();var n=function(e,n,r){t._hue=Math.max(0,Math.min(360,e)),t._saturation=Math.max(0,Math.min(100,n)),t._value=Math.max(0,Math.min(100,r)),t.doOnChange()};if(-1!==e.indexOf("hsl")){var r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter((function(e){return""!==e})).map((function(e,t){return t>2?parseFloat(e):parseInt(e,10)}));if(4===r.length?this._alpha=Math.floor(100*parseFloat(r[3])):3===r.length&&(this._alpha=100),r.length>=3){var i=m(r[0],r[1],r[2]),o=i.h,s=i.s,a=i.v;n(o,s,a)}}else if(-1!==e.indexOf("hsv")){var c=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter((function(e){return""!==e})).map((function(e,t){return t>2?parseFloat(e):parseInt(e,10)}));4===c.length?this._alpha=Math.floor(100*parseFloat(c[3])):3===c.length&&(this._alpha=100),c.length>=3&&n(c[0],c[1],c[2])}else if(-1!==e.indexOf("rgb")){var l=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter((function(e){return""!==e})).map((function(e,t){return t>2?parseFloat(e):parseInt(e,10)}));if(4===l.length?this._alpha=Math.floor(100*parseFloat(l[3])):3===l.length&&(this._alpha=100),l.length>=3){var u=g(l[0],l[1],l[2]),h=u.h,d=u.s,p=u.v;n(h,d,p)}}else if(-1!==e.indexOf("#")){var v=e.replace("#","").trim();if(!/^(?:[0-9a-fA-F]{3}){1,2}|[0-9a-fA-F]{8}$/.test(v))return;var y=void 0,b=void 0,x=void 0;3===v.length?(y=f(v[0]+v[0]),b=f(v[1]+v[1]),x=f(v[2]+v[2])):6!==v.length&&8!==v.length||(y=f(v.substring(0,2)),b=f(v.substring(2,4)),x=f(v.substring(4,6))),8===v.length?this._alpha=Math.floor(f(v.substring(6))/255*100):3!==v.length&&6!==v.length||(this._alpha=100);var w=g(y,b,x),_=w.h,S=w.s,M=w.v;n(_,S,M)}},e.prototype.compare=function(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1},e.prototype.doOnChange=function(){var e=this._hue,t=this._saturation,n=this._value,r=this._alpha,i=this.format;if(this.enableAlpha)switch(i){case"hsl":var o=a(e,t/100,n/100);this.value="hsla("+e+", "+Math.round(100*o[1])+"%, "+Math.round(100*o[2])+"%, "+r/100+")";break;case"hsv":this.value="hsva("+e+", "+Math.round(t)+"%, "+Math.round(n)+"%, "+r/100+")";break;default:var s=v(e,t,n),c=s.r,l=s.g,u=s.b;this.value="rgba("+c+", "+l+", "+u+", "+r/100+")"}else switch(i){case"hsl":var h=a(e,t/100,n/100);this.value="hsl("+e+", "+Math.round(100*h[1])+"%, "+Math.round(100*h[2])+"%)";break;case"hsv":this.value="hsv("+e+", "+Math.round(t)+"%, "+Math.round(n)+"%)";break;case"rgb":var p=v(e,t,n),f=p.r,m=p.g,g=p.b;this.value="rgb("+f+", "+m+", "+g+")";break;default:this.value=d(v(e,t,n))}},e}(),b=y,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-color-dropdown"},[n("div",{staticClass:"el-color-dropdown__main-wrapper"},[n("hue-slider",{ref:"hue",staticStyle:{float:"right"},attrs:{color:e.color,vertical:""}}),n("sv-panel",{ref:"sl",attrs:{color:e.color}})],1),e.showAlpha?n("alpha-slider",{ref:"alpha",attrs:{color:e.color}}):e._e(),e.predefine?n("predefine",{attrs:{color:e.color,colors:e.predefine}}):e._e(),n("div",{staticClass:"el-color-dropdown__btns"},[n("span",{staticClass:"el-color-dropdown__value"},[n("el-input",{attrs:{"validate-event":!1,size:"mini"},on:{blur:e.handleConfirm},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleConfirm(t)}},model:{value:e.customInput,callback:function(t){e.customInput=t},expression:"customInput"}})],1),n("el-button",{staticClass:"el-color-dropdown__link-btn",attrs:{size:"mini",type:"text"},on:{click:function(t){e.$emit("clear")}}},[e._v("\n        "+e._s(e.t("el.colorpicker.clear"))+"\n      ")]),n("el-button",{staticClass:"el-color-dropdown__btn",attrs:{plain:"",size:"mini"},on:{click:e.confirmValue}},[e._v("\n        "+e._s(e.t("el.colorpicker.confirm"))+"\n      ")])],1)],1)])},w=[];x._withStripped=!0;var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-color-svpanel",style:{backgroundColor:e.background}},[n("div",{staticClass:"el-color-svpanel__white"}),n("div",{staticClass:"el-color-svpanel__black"}),n("div",{staticClass:"el-color-svpanel__cursor",style:{top:e.cursorTop+"px",left:e.cursorLeft+"px"}},[n("div")])])},S=[];_._withStripped=!0;var M=n(7),T=n.n(M),E=!1,C=function(e,t){if(!T.a.prototype.$isServer){var n=function(e){t.drag&&t.drag(e)},r=function e(r){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",e),document.onselectstart=null,document.ondragstart=null,E=!1,t.end&&t.end(r)};e.addEventListener("mousedown",(function(e){E||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),E=!0,t.start&&t.start(e))}))}},A={name:"el-sl-panel",props:{color:{required:!0}},computed:{colorValue:function(){var e=this.color.get("hue"),t=this.color.get("value");return{hue:e,value:t}}},watch:{colorValue:function(){this.update()}},methods:{update:function(){var e=this.color.get("saturation"),t=this.color.get("value"),n=this.$el,r=n.clientWidth,i=n.clientHeight;this.cursorLeft=e*r/100,this.cursorTop=(100-t)*i/100,this.background="hsl("+this.color.get("hue")+", 100%, 50%)"},handleDrag:function(e){var t=this.$el,n=t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;r=Math.max(0,r),r=Math.min(r,n.width),i=Math.max(0,i),i=Math.min(i,n.height),this.cursorLeft=r,this.cursorTop=i,this.color.set({saturation:r/n.width*100,value:100-i/n.height*100})}},mounted:function(){var e=this;C(this.$el,{drag:function(t){e.handleDrag(t)},end:function(t){e.handleDrag(t)}}),this.update()},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}}},L=A,R=n(0),O=Object(R["a"])(L,_,S,!1,null,null,null);O.options.__file="packages/color-picker/src/components/sv-panel.vue";var P=O.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-color-hue-slider",class:{"is-vertical":e.vertical}},[n("div",{ref:"bar",staticClass:"el-color-hue-slider__bar",on:{click:e.handleClick}}),n("div",{ref:"thumb",staticClass:"el-color-hue-slider__thumb",style:{left:e.thumbLeft+"px",top:e.thumbTop+"px"}})])},N=[];k._withStripped=!0;var F={name:"el-color-hue-slider",props:{color:{required:!0},vertical:Boolean},data:function(){return{thumbLeft:0,thumbTop:0}},computed:{hueValue:function(){var e=this.color.get("hue");return e}},watch:{hueValue:function(){this.update()}},methods:{handleClick:function(e){var t=this.$refs.thumb,n=e.target;n!==t&&this.handleDrag(e)},handleDrag:function(e){var t=this.$el.getBoundingClientRect(),n=this.$refs.thumb,r=void 0;if(this.vertical){var i=e.clientY-t.top;i=Math.min(i,t.height-n.offsetHeight/2),i=Math.max(n.offsetHeight/2,i),r=Math.round((i-n.offsetHeight/2)/(t.height-n.offsetHeight)*360)}else{var o=e.clientX-t.left;o=Math.min(o,t.width-n.offsetWidth/2),o=Math.max(n.offsetWidth/2,o),r=Math.round((o-n.offsetWidth/2)/(t.width-n.offsetWidth)*360)}this.color.set("hue",r)},getThumbLeft:function(){if(this.vertical)return 0;var e=this.$el,t=this.color.get("hue");if(!e)return 0;var n=this.$refs.thumb;return Math.round(t*(e.offsetWidth-n.offsetWidth/2)/360)},getThumbTop:function(){if(!this.vertical)return 0;var e=this.$el,t=this.color.get("hue");if(!e)return 0;var n=this.$refs.thumb;return Math.round(t*(e.offsetHeight-n.offsetHeight/2)/360)},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop()}},mounted:function(){var e=this,t=this.$refs,n=t.bar,r=t.thumb,i={drag:function(t){e.handleDrag(t)},end:function(t){e.handleDrag(t)}};C(n,i),C(r,i),this.update()}},I=F,D=Object(R["a"])(I,k,N,!1,null,null,null);D.options.__file="packages/color-picker/src/components/hue-slider.vue";var B=D.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-color-alpha-slider",class:{"is-vertical":e.vertical}},[n("div",{ref:"bar",staticClass:"el-color-alpha-slider__bar",style:{background:e.background},on:{click:e.handleClick}}),n("div",{ref:"thumb",staticClass:"el-color-alpha-slider__thumb",style:{left:e.thumbLeft+"px",top:e.thumbTop+"px"}})])},j=[];z._withStripped=!0;var U={name:"el-color-alpha-slider",props:{color:{required:!0},vertical:Boolean},watch:{"color._alpha":function(){this.update()},"color.value":function(){this.update()}},methods:{handleClick:function(e){var t=this.$refs.thumb,n=e.target;n!==t&&this.handleDrag(e)},handleDrag:function(e){var t=this.$el.getBoundingClientRect(),n=this.$refs.thumb;if(this.vertical){var r=e.clientY-t.top;r=Math.max(n.offsetHeight/2,r),r=Math.min(r,t.height-n.offsetHeight/2),this.color.set("alpha",Math.round((r-n.offsetHeight/2)/(t.height-n.offsetHeight)*100))}else{var i=e.clientX-t.left;i=Math.max(n.offsetWidth/2,i),i=Math.min(i,t.width-n.offsetWidth/2),this.color.set("alpha",Math.round((i-n.offsetWidth/2)/(t.width-n.offsetWidth)*100))}},getThumbLeft:function(){if(this.vertical)return 0;var e=this.$el,t=this.color._alpha;if(!e)return 0;var n=this.$refs.thumb;return Math.round(t*(e.offsetWidth-n.offsetWidth/2)/100)},getThumbTop:function(){if(!this.vertical)return 0;var e=this.$el,t=this.color._alpha;if(!e)return 0;var n=this.$refs.thumb;return Math.round(t*(e.offsetHeight-n.offsetHeight/2)/100)},getBackground:function(){if(this.color&&this.color.value){var e=this.color.toRgb(),t=e.r,n=e.g,r=e.b;return"linear-gradient(to right, rgba("+t+", "+n+", "+r+", 0) 0%, rgba("+t+", "+n+", "+r+", 1) 100%)"}return null},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop(),this.background=this.getBackground()}},data:function(){return{thumbLeft:0,thumbTop:0,background:null}},mounted:function(){var e=this,t=this.$refs,n=t.bar,r=t.thumb,i={drag:function(t){e.handleDrag(t)},end:function(t){e.handleDrag(t)}};C(n,i),C(r,i),this.update()}},V=U,G=Object(R["a"])(V,z,j,!1,null,null,null);G.options.__file="packages/color-picker/src/components/alpha-slider.vue";var H=G.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-color-predefine"},[n("div",{staticClass:"el-color-predefine__colors"},e._l(e.rgbaColors,(function(t,r){return n("div",{key:e.colors[r],staticClass:"el-color-predefine__color-selector",class:{selected:t.selected,"is-alpha":t._alpha<100},on:{click:function(t){e.handleSelect(r)}}},[n("div",{style:{"background-color":t.value}})])})),0)])},$=[];W._withStripped=!0;var q={props:{colors:{type:Array,required:!0},color:{required:!0}},data:function(){return{rgbaColors:this.parseColors(this.colors,this.color)}},methods:{handleSelect:function(e){this.color.fromString(this.colors[e])},parseColors:function(e,t){return e.map((function(e){var n=new b;return n.enableAlpha=!0,n.format="rgba",n.fromString(e),n.selected=n.value===t.value,n}))}},watch:{"$parent.currentColor":function(e){var t=new b;t.fromString(e),this.rgbaColors.forEach((function(e){e.selected=t.compare(e)}))},colors:function(e){this.rgbaColors=this.parseColors(e,this.color)},color:function(e){this.rgbaColors=this.parseColors(this.colors,e)}}},X=q,Y=Object(R["a"])(X,W,$,!1,null,null,null);Y.options.__file="packages/color-picker/src/components/predefine.vue";var Z=Y.exports,J=n(5),K=n.n(J),Q=n(6),ee=n.n(Q),te=n(10),ne=n.n(te),re=n(14),ie=n.n(re),oe={name:"el-color-picker-dropdown",mixins:[K.a,ee.a],components:{SvPanel:P,HueSlider:B,AlphaSlider:H,ElInput:ne.a,ElButton:ie.a,Predefine:Z},props:{color:{required:!0},showAlpha:Boolean,predefine:Array},data:function(){return{customInput:""}},computed:{currentColor:function(){var e=this.$parent;return e.value||e.showPanelColor?e.color.value:""}},methods:{confirmValue:function(){this.$emit("pick")},handleConfirm:function(){this.color.fromString(this.customInput)}},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$el},watch:{showPopper:function(e){var t=this;!0===e&&this.$nextTick((function(){var e=t.$refs,n=e.sl,r=e.hue,i=e.alpha;n&&n.update(),r&&r.update(),i&&i.update()}))},currentColor:{immediate:!0,handler:function(e){this.customInput=e}}}},se=oe,ae=Object(R["a"])(se,x,w,!1,null,null,null);ae.options.__file="packages/color-picker/src/components/picker-dropdown.vue";var ce=ae.exports,le=n(12),ue=n.n(le),he=n(4),de=n.n(he),pe={name:"ElColorPicker",mixins:[de.a],props:{value:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:String,popperClass:String,predefine:Array},inject:{elForm:{default:""},elFormItem:{default:""}},directives:{Clickoutside:ue.a},computed:{displayedColor:function(){return this.value||this.showPanelColor?this.displayedRgb(this.color,this.showAlpha):"transparent"},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},colorSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},colorDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(e){e?e&&e!==this.color.value&&this.color.fromString(e):this.showPanelColor=!1},color:{deep:!0,handler:function(){this.showPanelColor=!0}},displayedColor:function(e){if(this.showPicker){var t=new b({enableAlpha:this.showAlpha,format:this.colorFormat});t.fromString(this.value);var n=this.displayedRgb(t,this.showAlpha);e!==n&&this.$emit("active-change",e)}}},methods:{handleTrigger:function(){this.colorDisabled||(this.showPicker=!this.showPicker)},confirmValue:function(){var e=this.color.value;this.$emit("input",e),this.$emit("change",e),this.dispatch("ElFormItem","el.form.change",e),this.showPicker=!1},clearValue:function(){this.$emit("input",null),this.$emit("change",null),null!==this.value&&this.dispatch("ElFormItem","el.form.change",null),this.showPanelColor=!1,this.showPicker=!1,this.resetColor()},hide:function(){this.showPicker=!1,this.resetColor()},resetColor:function(){var e=this;this.$nextTick((function(t){e.value?e.color.fromString(e.value):e.showPanelColor=!1}))},displayedRgb:function(e,t){if(!(e instanceof b))throw Error("color should be instance of Color Class");var n=e.toRgb(),r=n.r,i=n.g,o=n.b;return t?"rgba("+r+", "+i+", "+o+", "+e.get("alpha")/100+")":"rgb("+r+", "+i+", "+o+")"}},mounted:function(){var e=this.value;e&&this.color.fromString(e),this.popperElm=this.$refs.dropdown.$el},data:function(){var e=new b({enableAlpha:this.showAlpha,format:this.colorFormat});return{color:e,showPicker:!1,showPanelColor:!1}},components:{PickerDropdown:ce}},fe=pe,me=Object(R["a"])(fe,r,i,!1,null,null,null);me.options.__file="packages/color-picker/src/main.vue";var ge=me.exports;ge.install=function(e){e.component(ge.name,ge)};t["default"]=ge},6:function(e,t){e.exports=n("6b7c")},7:function(e,t){e.exports=n("8bbf")}})},"7a0f":function(e,t,n){},"7b31":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=116)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},116:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"el-header",style:{height:e.height}},[e._t("default")],2)},i=[];r._withStripped=!0;var o={name:"ElHeader",componentName:"ElHeader",props:{height:{type:String,default:"60px"}}},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/header/src/main.vue";var l=c.exports;l.install=function(e){e.component(l.name,l)};t["default"]=l}})},"7f4d":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];void 0!==o&&(e[i]=o)}}return e}},"7fc1":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=92)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},4:function(e,t){e.exports=n("d010")},92:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[e._t("default")],2)},i=[];r._withStripped=!0;var o=n(4),s=n.n(o),a={name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[s.a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[e])}}},c=a,l=n(0),u=Object(l["a"])(c,r,i,!1,null,null,null);u.options.__file="packages/checkbox/src/checkbox-group.vue";var h=u.exports;h.install=function(e){e.component(h.name,h)};t["default"]=h}})},8038:function(e,t,n){},8122:function(e,t,n){"use strict";t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=l,t.hasOwn=u,t.toObject=d,t.getPropByPath=p,t.rafThrottle=y,t.objToArray=b;var i=n("8bbf"),o=a(i),s=n("a742");function a(e){return e&&e.__esModule?e:{default:e}}var c=Object.prototype.hasOwnProperty;function l(){}function u(e,t){return c.call(e,t)}function h(e,t){for(var n in t)e[n]=t[n];return e}function d(e){for(var t={},n=0;n<e.length;n++)e[n]&&h(t,e[n]);return t}t.getValueByPath=function(e,t){t=t||"";for(var n=t.split("."),r=e,i=null,o=0,s=n.length;o<s;o++){var a=n[o];if(!r)break;if(o===s-1){i=r[a];break}r=r[a]}return i};function p(e,t,n){var r=e;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var i=t.split("."),o=0,s=i.length;o<s-1;++o){if(!r&&!n)break;var a=i[o];if(!(a in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[a]}return{o:r,k:i[o],v:r?r[i[o]]:null}}t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var f=t.arrayFindIndex=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},m=(t.arrayFind=function(e,t){var n=f(e,t);return-1!==n?e[n]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!o.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!o.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!o.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){if("object"!==("undefined"===typeof e?"undefined":r(e)))return e;var t=["transform","transition","animation"],n=["ms-","webkit-"];return t.forEach((function(t){var r=e[t];t&&r&&n.forEach((function(n){e[n+t]=r}))})),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,s.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var n=(0,s.isObject)(e),r=(0,s.isObject)(t);return n&&r?JSON.stringify(e)===JSON.stringify(t):!n&&!r&&String(e)===String(t)}),g=t.arrayEquals=function(e,t){if(e=e||[],t=t||[],e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!m(e[n],t[n]))return!1;return!0},v=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?g(e,t):m(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"===typeof e)return!1;if("number"===typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1});function y(e){var t=!1;return function(){for(var n=this,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,i),t=!1})))}}function b(e){return Array.isArray(e)?e:v(e)?[]:[e]}},8278:function(e,t,n){var r=n("da60").default;n("db0a"),n("97d3"),n("13e3");var i=n("9206").THREE,o=function(){var e=n("cf41").WEBGL,t=document.createElement("div"),r=void 0;if(t.style.height="100%",e.isWebGLAvailable()){var i=n("9206");r=new i.Renderer(t,window),i.defaultMaterialColor=16777116,r.initialiseVisualisation(),r.playAnimation=!1}else{var o=e.getWebGLErrorMessage();t.appendChild(o)}return{renderer:r,container:t}},s=function(){n("6aa6").BaseModule.call(this),this.scene=void 0,this.rendererContainer=void 0,this.displayArea=void 0,this.graphicsHighlight=new(n("5ec5").GraphicsHighlight),this.zincRenderer=null,this.selectedScreenCoordinates=new i.Vector3,this.selectedCenter=void 0};s.prototype=Object.create(n("6aa6").BaseModule.prototype),s.prototype.getIntersectedObject=function(e){if(e)for(var t=0;t<e.length;t++)if(void 0!==e[t]&&e[t].object&&e[t].object.userData&&e[t].object.userData.isZincObject&&(e[t].object.name&&"_Unnamed"!==e[t].object.name||e[t].object.userData.isMarker))return e[t]},s.prototype.getAnnotationsFromObjects=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].userData,o=void 0;if(i)if(i.isGlyph||i.isGlyphset){var s=i;i.isGlyph&&(i.getGlyphset(),r("glyphset")),o=s.userData?s.userData.annotation:void 0,o&&o.data&&(e[n].name&&""!=e[n].name?o.data.id=e[n].name:o.data.id=s.groupName)}else o=i.userData?i.userData.annotation:void 0,o&&o.data&&(o.data.id=e[n].name);o&&t.push(o)}return t},s.prototype.setHighlightedByObjects=function(e,t,r){var i=this.graphicsHighlight.setHighlighted(e);if(r){eventType=n("9b21").EVENT_TYPE.MOVE,i&&(eventType=n("9b21").EVENT_TYPE.HIGHLIGHTED);var o=this.getAnnotationsFromObjects(e);o.length>0&&(o[0].coords=t),this.publishChanges(o,eventType)}return i},s.prototype.setHighlightedByZincObjects=function(e,t,n){var r=[];return e&&e.forEach((function(e){e&&e.morph&&r.push(e.morph)})),this.setHighlightedByObjects(r,t,n)},s.prototype.setupLiveCoordinates=function(e){if(e&&e.length>0){var t=this.scene.getBoundingBoxOfZincObjects(e),n=new i.Vector3;t.getCenter(n),void 0==this.selectedCenter?this.selectedCenter=n:(this.selectedCenter.x=n.x,this.selectedCenter.y=n.y)}else this.selectedCenter=void 0},s.prototype.objectsToZincObjects=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].userData;if(r)if(r.isGlyph||r.isGlyphset){var i=r;r.isGlyph&&(i=r.getGlyphset()),t.push(i)}else t.push(r)}return t},s.prototype.setSelectedByObjects=function(e,t,r){var i=this.graphicsHighlight.setSelected(e);if(i){var o=this.objectsToZincObjects(e);if(this.setupLiveCoordinates(o),r){var s=n("9b21").EVENT_TYPE.SELECTED,a=this.getAnnotationsFromObjects(e);a.length>0&&(a[0].coords=t),this.publishChanges(a,s)}}return i},s.prototype.setSelectedByZincObjects=function(e,t,n){var r=[];return e&&e.forEach((function(e){e&&e.morph&&r.push(e.morph)})),this.setSelectedByObjects(r,t,n)};var a=function(e){return function(t){e.push(t.getMesh())}};s.prototype.findObjectsByGroupName=function(e){for(var t=this.scene.findGeometriesWithGroupName(e),n=[],r=0;r<t.length;r++)n.push(t[r].morph);for(var i=this.scene.findGlyphsetsWithGroupName(e),o=0;o<i.length;o++)i[o].forEachGlyph(a(n));return n},s.prototype.setHighlightedByGroupName=function(e,t){var n=this.findObjectsByGroupName(e);return this.setHighlightedByObjects(n,void 0,t)},s.prototype.setSelectedByGroupName=function(e,t){var n=this.findObjectsByGroupName(e);return this.setSelectedByObjects(n,void 0,t)},s.prototype.changeBackgroundColour=function(e){var t=new i.Color(e);if(this.zincRenderer){var n=this.zincRenderer.getThreeJSRenderer();n.setClearColor(t,1)}},s.prototype.resetView=function(){this.zincRenderer&&this.zincRenderer.resetView()},s.prototype.viewAll=function(){this.zincRenderer&&this.zincRenderer.viewAll()},s.prototype.playAnimation=function(e){this.zincRenderer&&(this.zincRenderer.playAnimation=e)},s.prototype.setPlayRate=function(e){this.zincRenderer&&this.zincRenderer.setPlayRate(e)},s.prototype.getPlayRate=function(e){return this.zincRenderer?this.zincRenderer.getPlayRate():0},s.prototype.initialiseRenderer=function(e){if(void 0===this.zincRenderer||void 0===this.rendererContainer){var t=o();this.zincRenderer=t["renderer"],this.rendererContainer=t["container"]}e&&(this.displayArea=e,this.displayArea.appendChild(this.rendererContainer),this.zincRenderer&&this.zincRenderer.animate())},s.prototype.destroy=function(){this.zincRenderer&&(this.zincRenderer.dispose(),this.zincRenderer.getThreeJSRenderer().dispose(),this.zincRenderer=void 0),n("6aa6").BaseModule.prototype.destroy.call(this)},t.RendererModule=s},"831f":function(e,t){e.exports=n("9619")},"85f7":function(e,t){e.exports=n("caad")},"896a":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=72)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},13:function(e,t){e.exports=n("5128")},2:function(e,t){e.exports=n("5924")},41:function(e,t){e.exports=n("c56a")},7:function(e,t){e.exports=n("8bbf")},72:function(e,t,n){"use strict";n.r(t);var r=n(7),i=n.n(r),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[e.customClass,{"is-fullscreen":e.fullscreen}],style:{backgroundColor:e.background||""}},[n("div",{staticClass:"el-loading-spinner"},[e.spinner?n("i",{class:e.spinner}):n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),e.text?n("p",{staticClass:"el-loading-text"},[e._v(e._s(e.text))]):e._e()])])])},s=[];o._withStripped=!0;var a={data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(e){this.text=e}}},c=a,l=n(0),u=Object(l["a"])(c,o,s,!1,null,null,null);u.options.__file="packages/loading/src/loading.vue";var h=u.exports,d=n(2),p=n(13),f=n(41),m=n.n(f),g=i.a.extend(h),v={install:function(e){if(!e.prototype.$isServer){var t=function(t,r){r.value?e.nextTick((function(){r.modifiers.fullscreen?(t.originalPosition=Object(d["getStyle"])(document.body,"position"),t.originalOverflow=Object(d["getStyle"])(document.body,"overflow"),t.maskStyle.zIndex=p["PopupManager"].nextZIndex(),Object(d["addClass"])(t.mask,"is-fullscreen"),n(document.body,t,r)):(Object(d["removeClass"])(t.mask,"is-fullscreen"),r.modifiers.body?(t.originalPosition=Object(d["getStyle"])(document.body,"position"),["top","left"].forEach((function(e){var n="top"===e?"scrollTop":"scrollLeft";t.maskStyle[e]=t.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]-parseInt(Object(d["getStyle"])(document.body,"margin-"+e),10)+"px"})),["height","width"].forEach((function(e){t.maskStyle[e]=t.getBoundingClientRect()[e]+"px"})),n(document.body,t,r)):(t.originalPosition=Object(d["getStyle"])(t,"position"),n(t,t,r)))})):(m()(t.instance,(function(e){if(t.instance.hiding){t.domVisible=!1;var n=r.modifiers.fullscreen||r.modifiers.body?document.body:t;Object(d["removeClass"])(n,"el-loading-parent--relative"),Object(d["removeClass"])(n,"el-loading-parent--hidden"),t.instance.hiding=!1}}),300,!0),t.instance.visible=!1,t.instance.hiding=!0)},n=function(t,n,r){n.domVisible||"none"===Object(d["getStyle"])(n,"display")||"hidden"===Object(d["getStyle"])(n,"visibility")?n.domVisible&&!0===n.instance.hiding&&(n.instance.visible=!0,n.instance.hiding=!1):(Object.keys(n.maskStyle).forEach((function(e){n.mask.style[e]=n.maskStyle[e]})),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(d["addClass"])(t,"el-loading-parent--relative"),r.modifiers.fullscreen&&r.modifiers.lock&&Object(d["addClass"])(t,"el-loading-parent--hidden"),n.domVisible=!0,t.appendChild(n.mask),e.nextTick((function(){n.instance.hiding?n.instance.$emit("after-leave"):n.instance.visible=!0})),n.domInserted=!0)};e.directive("loading",{bind:function(e,n,r){var i=e.getAttribute("element-loading-text"),o=e.getAttribute("element-loading-spinner"),s=e.getAttribute("element-loading-background"),a=e.getAttribute("element-loading-custom-class"),c=r.context,l=new g({el:document.createElement("div"),data:{text:c&&c[i]||i,spinner:c&&c[o]||o,background:c&&c[s]||s,customClass:c&&c[a]||a,fullscreen:!!n.modifiers.fullscreen}});e.instance=l,e.mask=l.$el,e.maskStyle={},n.value&&t(e,n)},update:function(e,n){e.instance.setText(e.getAttribute("element-loading-text")),n.oldValue!==n.value&&t(e,n)},unbind:function(e,n){e.domInserted&&(e.mask&&e.mask.parentNode&&e.mask.parentNode.removeChild(e.mask),t(e,{value:!1,modifiers:n.modifiers})),e.instance&&e.instance.$destroy()}})}}},y=v,b=n(9),x=n.n(b),w=i.a.extend(h),_={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},S=void 0;w.prototype.originalPosition="",w.prototype.originalOverflow="",w.prototype.close=function(){var e=this;this.fullscreen&&(S=void 0),m()(this,(function(t){var n=e.fullscreen||e.body?document.body:e.target;Object(d["removeClass"])(n,"el-loading-parent--relative"),Object(d["removeClass"])(n,"el-loading-parent--hidden"),e.$el&&e.$el.parentNode&&e.$el.parentNode.removeChild(e.$el),e.$destroy()}),300),this.visible=!1};var M=function(e,t,n){var r={};e.fullscreen?(n.originalPosition=Object(d["getStyle"])(document.body,"position"),n.originalOverflow=Object(d["getStyle"])(document.body,"overflow"),r.zIndex=p["PopupManager"].nextZIndex()):e.body?(n.originalPosition=Object(d["getStyle"])(document.body,"position"),["top","left"].forEach((function(t){var n="top"===t?"scrollTop":"scrollLeft";r[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]+"px"})),["height","width"].forEach((function(t){r[t]=e.target.getBoundingClientRect()[t]+"px"}))):n.originalPosition=Object(d["getStyle"])(t,"position"),Object.keys(r).forEach((function(e){n.$el.style[e]=r[e]}))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i.a.prototype.$isServer){if(e=x()({},_,e),"string"===typeof e.target&&(e.target=document.querySelector(e.target)),e.target=e.target||document.body,e.target!==document.body?e.fullscreen=!1:e.body=!0,e.fullscreen&&S)return S;var t=e.body?document.body:e.target,n=new w({el:document.createElement("div"),data:e});return M(e,t,n),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(d["addClass"])(t,"el-loading-parent--relative"),e.fullscreen&&e.lock&&Object(d["addClass"])(t,"el-loading-parent--hidden"),t.appendChild(n.$el),i.a.nextTick((function(){n.visible=!0})),e.fullscreen&&(S=n),n}},E=T;t["default"]={install:function(e){e.use(y),e.prototype.$loading=E},directive:y,service:E}},9:function(e,t){e.exports=n("7f4d")}})},"8bbc":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=130)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},130:function(e,t,n){"use strict";n.r(t);var r,i,o={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(e){return-1!==["dark","light","plain"].indexOf(e)}}},methods:{handleClose:function(e){e.stopPropagation(),this.$emit("close",e)},handleClick:function(e){this.$emit("click",e)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(e){var t=this.type,n=this.tagSize,r=this.hit,i=this.effect,o=["el-tag",t?"el-tag--"+t:"",n?"el-tag--"+n:"",i?"el-tag--"+i:"",r&&"is-hit"],s=e("span",{class:o,style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&e("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?s:e("transition",{attrs:{name:"el-zoom-in-center"}},[s])}},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/tag/src/tag.vue";var l=c.exports;l.install=function(e){e.component(l.name,l)};t["default"]=l}})},"8bbf":function(e,t){e.exports=n("2b0e")},"8f55":function(e,t,n){"use strict";n("8038")},"91f0":function(e,t,n){},9206:function(e,t){e.exports=n("4d4c")},"93c3":function(e,t,n){},9475:function(e,t,n){"use strict";n("aac1")},"97d3":function(e,t){e.exports=n("d3b7")},"984d":function(e,t){t.annotation=function(){this.type="anatomical",this.data=void 0,this.isAnnotation=!0}},9944:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=125)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},125:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-drawer-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-drawer__wrapper",attrs:{tabindex:"-1"}},[n("div",{staticClass:"el-drawer__container",class:e.visible&&"el-drawer__open",attrs:{role:"document",tabindex:"-1"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[n("div",{ref:"drawer",staticClass:"el-drawer",class:[e.direction,e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,attrs:{"aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":e.title,role:"dialog",tabindex:"-1"}},[e.withHeader?n("header",{staticClass:"el-drawer__header",attrs:{id:"el-drawer__title"}},[e._t("title",[n("span",{attrs:{role:"heading",title:e.title}},[e._v(e._s(e.title))])]),e.showClose?n("button",{staticClass:"el-drawer__close-btn",attrs:{"aria-label":"close "+(e.title||"drawer"),type:"button"},on:{click:e.closeDrawer}},[n("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2):e._e(),e.rendered?n("section",{staticClass:"el-drawer__body"},[e._t("default")],2):e._e()])])])])},i=[];r._withStripped=!0;var o=n(13),s=n.n(o),a=n(4),c=n.n(a),l={name:"ElDrawer",mixins:[s.a,c.a],props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},customClass:{type:String,default:""},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},modal:{type:Boolean,default:!0},direction:{type:String,default:"rtl",validator:function(e){return-1!==["ltr","rtl","ttb","btt"].indexOf(e)}},modalAppendToBody:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:[Number,String],default:"30%"},title:{type:String,default:""},visible:{type:Boolean},wrapperClosable:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0}},computed:{isHorizontal:function(){return"rtl"===this.direction||"ltr"===this.direction},drawerSize:function(){return"number"===typeof this.size?this.size+"px":this.size}},data:function(){return{closed:!1,prevActiveElement:null}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.appendToBody&&document.body.appendChild(this.$el),this.prevActiveElement=document.activeElement):(this.closed||(this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1)),this.$nextTick((function(){t.prevActiveElement&&t.prevActiveElement.focus()})))}},methods:{afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1),this.closed=!0)},handleWrapperClick:function(){this.wrapperClosable&&this.closeDrawer()},closeDrawer:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},handleClose:function(){this.closeDrawer()}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},u=l,h=n(0),d=Object(h["a"])(u,r,i,!1,null,null,null);d.options.__file="packages/drawer/src/main.vue";var p=d.exports;p.install=function(e){e.component(p.name,p)};t["default"]=p},13:function(e,t){e.exports=n("5128")},4:function(e,t){e.exports=n("d010")}})},"9b21":function(e,t,n){n("f3b8");var r={ALL:0,SELECTED:1,HIGHLIGHTED:2,MOVE:3},i=function(e,t){this.eventType=e,this.identifiers=t},o=function(e,t,n){this.targetedID=[];var o=e,s=t;this.targetEventType=n;var a=this;void 0===n&&(this.targetEventType=r.ALL),this.getEventType=function(){return n},this.notify=function(e,t,n){if(e!==o&&(a.targetEventType===r.ALL||a.targetEventType===t)){var c=new i(t,n);s(c)}}};t.EventNotifier=function(){var e=[];this.publish=function(t,n,r){for(var i=0;i<e.length;i++)e[i].notify(t,n,r)},this.subscribe=function(t,n,r){if("function"===typeof n){var i=new o(t,n,r);return e.push(i),i}},this.unsubscribe=function(t){for(var n=0;n<e.length;n++)if(t===e[n])return void e.splice(n,1)}},t.EVENT_TYPE=r},"9b22":function(e,t){e.exports=n("a4d3")},"9bb0":function(e,t){e.exports=n("8875")},"9bb5":function(e,t){e.exports=n("3ca3")},"9d7e":function(e,t,n){"use strict";t.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){function t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return 1===n.length&&"object"===r(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),e.replace(o,(function(t,r,o,s){var a=void 0;return"{"===e[s-1]&&"}"===e[s+t.length]?o:(a=(0,i.hasOwn)(n,o)?n[o]:null,null===a||void 0===a?"":a)}))}return t};var i=n("8122"),o=/(%|)\{([0-9a-zA-Z_]+)\}/g},a1cc:function(e,t){e.exports=n("6dd8")},a578:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=102)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},102:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("i",{class:"el-icon-"+e.name})},i=[];r._withStripped=!0;var o={name:"ElIcon",props:{name:String}},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/icon/src/icon.vue";var l=c.exports;l.install=function(e){e.component(l.name,l)};t["default"]=l}})},a586:function(e,t,n){},a673:function(e,t,n){},a742:function(e,t,n){"use strict";t.__esModule=!0,t.isDefined=t.isUndefined=t.isFunction=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isString=a,t.isObject=c,t.isHtmlElement=l;var i=n("8bbf"),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return e&&e.nodeType===Node.ELEMENT_NODE}var u=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)};"object"===("undefined"===typeof Int8Array?"undefined":r(Int8Array))||!o.default.prototype.$isServer&&"function"===typeof document.childNodes||(t.isFunction=u=function(e){return"function"===typeof e||!1}),t.isFunction=u;t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return void 0!==e&&null!==e}},a786:function(e,t,n){"use strict";n("91f0")},aaa5:function(e,t,n){},aac1:function(e,t,n){},adec:function(e,t,n){},b2d6:function(e,t,n){"use strict";t.__esModule=!0,t.default={el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},empty:{description:"No Data"}}}},b5c2:function(e,t,n){},b94f:function(e,t){e.exports=n("2b3d")},bb28:function(e,t,n){},be4f:function(e,t,n){},c2cc:function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=138)}({138:function(e,t,n){"use strict";n.r(t);var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){var e=this.$parent;while(e&&"ElRow"!==e.$options.componentName)e=e.$parent;return e?e.gutter:0}},render:function(e){var t=this,n=[],i={};return this.gutter&&(i.paddingLeft=this.gutter/2+"px",i.paddingRight=i.paddingLeft),["span","offset","pull","push"].forEach((function(e){(t[e]||0===t[e])&&n.push("span"!==e?"el-col-"+e+"-"+t[e]:"el-col-"+t[e])})),["xs","sm","md","lg","xl"].forEach((function(e){if("number"===typeof t[e])n.push("el-col-"+e+"-"+t[e]);else if("object"===r(t[e])){var i=t[e];Object.keys(i).forEach((function(t){n.push("span"!==t?"el-col-"+e+"-"+t+"-"+i[t]:"el-col-"+e+"-"+i[t])}))}})),e(this.tag,{class:["el-col",n],style:i},this.$slots.default)},install:function(e){e.component(i.name,i)}};t["default"]=i}})},c56a:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!t)throw new Error("instance & callback is required");var i=!1,o=function(){i||(i=!0,t&&t.apply(null,arguments))};r?e.$once("after-leave",o):e.$on("after-leave",o),setTimeout((function(){o()}),n+100)}},c69e:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=118)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},118:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"el-main"},[e._t("default")],2)},i=[];r._withStripped=!0;var o={name:"ElMain",componentName:"ElMain"},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/main/src/main.vue";var l=c.exports;l.install=function(e){e.component(l.name,l)};t["default"]=l}})},c8a6:function(e,t){e.exports=n("ac1f")},ccb3:function(e,t){e.exports=n("b680")},cf41:function(e,t,n){n("c8a6"),n("6378"),t.WEBGL={isWebGLAvailable:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}},isWebGL2Available:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(t){return!1}},getWebGLErrorMessage:function(){return this.getErrorMessage(1)},getWebGL2ErrorMessage:function(){return this.getErrorMessage(2)},getErrorMessage:function(e){var t={1:"WebGL",2:"WebGL 2"},n={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},r='This module requires <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#008">$1</a> support but your $0 does not seem to support it.',i=document.createElement("div");return i.id="webglmessage",i.style.fontFamily="monospace",i.style.fontSize="20px",i.style.fontWeight="normal",i.style.textAlign="center",i.style.background="#fff",i.style.color="#000",i.style.padding="1.5em",i.style.width="400px",i.style.margin="5em auto 0",r=n[e]?r.replace("$0","graphics card"):r.replace("$0","browser"),r=r.replace("$1",t[e]),i.innerHTML=r,i}}},d010:function(e,t,n){"use strict";function r(e,t,n){this.$children.forEach((function(i){var o=i.$options.componentName;o===e?i.$emit.apply(i,[t].concat(n)):r.apply(i,[e,t].concat([n]))}))}t.__esModule=!0,t.default={methods:{dispatch:function(e,t,n){var r=this.$parent||this.$root,i=r.$options.componentName;while(r&&(!i||i!==e))r=r.$parent,r&&(i=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,n){r.call(this,e,t,n)}}}},d397:function(e,t,n){"use strict";function r(e){return void 0!==e&&null!==e}function i(e){var t=/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi;return t.test(e)}t.__esModule=!0,t.isDef=r,t.isKorean=i},d4df:function(e,t,n){},da60:function(e,t,n){function r(e){throw new TypeError('"'+e+'" is read-only')}n("dc50"),e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},dab3:function(e,t){e.exports=n("3c4e")},db0a:function(e,t){e.exports=n("b0c0")},dc50:function(e,t){e.exports=n("d9e2")},dcdc:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=90)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},4:function(e,t){e.exports=n("d010")},90:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"el-checkbox",class:[e.border&&e.checkboxSize?"el-checkbox--"+e.checkboxSize:"",{"is-disabled":e.isDisabled},{"is-bordered":e.border},{"is-checked":e.isChecked}],attrs:{id:e.id}},[n("span",{staticClass:"el-checkbox__input",class:{"is-disabled":e.isDisabled,"is-checked":e.isChecked,"is-indeterminate":e.indeterminate,"is-focus":e.focus},attrs:{tabindex:!!e.indeterminate&&0,role:!!e.indeterminate&&"checkbox","aria-checked":!!e.indeterminate&&"mixed"}},[n("span",{staticClass:"el-checkbox__inner"}),e.trueLabel||e.falseLabel?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e._q(e.model,e.trueLabel)},on:{change:[function(t){var n=e.model,r=t.target,i=r.checked?e.trueLabel:e.falseLabel;if(Array.isArray(n)){var o=null,s=e._i(n,o);r.checked?s<0&&(e.model=n.concat([o])):s>-1&&(e.model=n.slice(0,s).concat(n.slice(s+1)))}else e.model=i},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,name:e.name},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var n=e.model,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=e.label,s=e._i(n,o);r.checked?s<0&&(e.model=n.concat([o])):s>-1&&(e.model=n.slice(0,s).concat(n.slice(s+1)))}else e.model=i},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}})]),e.$slots.default||e.label?n("span",{staticClass:"el-checkbox__label"},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2):e._e()])},i=[];r._withStripped=!0;var o=n(4),s=n.n(o),a={name:"ElCheckbox",mixins:[s.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):(this.$emit("input",e),this.selfModel=e)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){var e=this.$parent;while(e){if("ElCheckboxGroup"===e.$options.componentName)return this._checkboxGroup=e,!0;e=e.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,n=e.min;return!(!t&&!n)&&this.model.length>=t&&!this.isChecked||this.model.length<=n&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||e}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t=this;if(!this.isLimitExceeded){var n=void 0;n=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",n,e),this.$nextTick((function(){t.isGroup&&t.dispatch("ElCheckboxGroup","change",[t._checkboxGroup.value])}))}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}}},c=a,l=n(0),u=Object(l["a"])(c,r,i,!1,null,null,null);u.options.__file="packages/checkbox/src/checkbox.vue";var h=u.exports;h.install=function(e){e.component(h.name,h)};t["default"]=h}})},dd87:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=100)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},100:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return!e.lazy||e.loaded||e.active?n("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!e.active,id:"pane-"+e.paneName,"aria-labelledby":"tab-"+e.paneName}},[e._t("default")],2):e._e()},i=[];r._withStripped=!0;var o={name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var e=this.$parent.currentName===(this.name||this.index);return e&&(this.loaded=!0),e},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/tabs/src/tab-pane.vue";var l=c.exports;l.install=function(e){e.component(l.name,l)};t["default"]=l}})},de31:function(e,t,n){},e450:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=86)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},10:function(e,t){e.exports=n("f3ad")},2:function(e,t){e.exports=n("5924")},22:function(e,t){e.exports=n("12f2")},30:function(e,t,n){"use strict";var r=n(2);t["a"]={bind:function(e,t,n){var i=null,o=void 0,s=function(){return n.context[t.expression].apply()},a=function(){Date.now()-o<100&&s(),clearInterval(i),i=null};Object(r["on"])(e,"mousedown",(function(e){0===e.button&&(o=Date.now(),Object(r["once"])(document,"mouseup",a),clearInterval(i),i=setInterval(s,100))}))}}},86:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["el-input-number",e.inputNumberSize?"el-input-number--"+e.inputNumberSize:"",{"is-disabled":e.inputNumberDisabled},{"is-without-controls":!e.controls},{"is-controls-right":e.controlsAtRight}],on:{dragstart:function(e){e.preventDefault()}}},[e.controls?n("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":e.minDisabled},attrs:{role:"button"},on:{keydown:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.decrease(t)}}},[n("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-down":"minus")})]):e._e(),e.controls?n("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":e.maxDisabled},attrs:{role:"button"},on:{keydown:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.increase(t)}}},[n("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-up":"plus")})]):e._e(),n("el-input",{ref:"input",attrs:{value:e.displayValue,placeholder:e.placeholder,disabled:e.inputNumberDisabled,size:e.inputNumberSize,max:e.max,min:e.min,name:e.name,label:e.label},on:{blur:e.handleBlur,focus:e.handleFocus,input:e.handleInput,change:e.handleInputChange},nativeOn:{keydown:[function(t){return!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.increase(t))},function(t){return!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.decrease(t))}]}})],1)},i=[];r._withStripped=!0;var o=n(10),s=n.n(o),a=n(22),c=n.n(a),l=n(30),u={name:"ElInputNumber",mixins:[c()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:l["a"]},components:{ElInput:s.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(e){return e>=0&&e===parseInt(e,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(e){var t=void 0===e?e:Number(e);if(void 0!==t){if(isNaN(t))return;if(this.stepStrictly){var n=this.getPrecision(this.step),r=Math.pow(10,n);t=Math.round(t/this.step)*r*this.step/r}void 0!==this.precision&&(t=this.toPrecision(t,this.precision))}t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),this.currentValue=t,this.userInput=null,this.$emit("input",t)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var e=this.value,t=this.step,n=this.getPrecision,r=this.precision,i=n(t);return void 0!==r?(i>r&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),r):Math.max(n(e),i)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||!!(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var e=this.currentValue;if("number"===typeof e){if(this.stepStrictly){var t=this.getPrecision(this.step),n=Math.pow(10,t);e=Math.round(e/this.step)*n*this.step/n}void 0!==this.precision&&(e=e.toFixed(this.precision))}return e}},methods:{toPrecision:function(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},getPrecision:function(e){if(void 0===e)return 0;var t=e.toString(),n=t.indexOf("."),r=0;return-1!==n&&(r=t.length-n-1),r},_increase:function(e,t){if("number"!==typeof e&&void 0!==e)return this.currentValue;var n=Math.pow(10,this.numPrecision);return this.toPrecision((n*e+n*t)/n)},_decrease:function(e,t){if("number"!==typeof e&&void 0!==e)return this.currentValue;var n=Math.pow(10,this.numPrecision);return this.toPrecision((n*e-n*t)/n)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var e=this.value||0,t=this._increase(e,this.step);this.setCurrentValue(t)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var e=this.value||0,t=this._decrease(e,this.step);this.setCurrentValue(t)}},handleBlur:function(e){this.$emit("blur",e)},handleFocus:function(e){this.$emit("focus",e)},setCurrentValue:function(e){var t=this.currentValue;"number"===typeof e&&void 0!==this.precision&&(e=this.toPrecision(e,this.precision)),e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),t!==e&&(this.userInput=null,this.$emit("input",e),this.$emit("change",e,t),this.currentValue=e)},handleInput:function(e){this.userInput=e},handleInputChange:function(e){var t=""===e?void 0:Number(e);isNaN(t)&&""!==e||this.setCurrentValue(t),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var e=this.$refs.input.$refs.input;e.setAttribute("role","spinbutton"),e.setAttribute("aria-valuemax",this.max),e.setAttribute("aria-valuemin",this.min),e.setAttribute("aria-valuenow",this.currentValue),e.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){if(this.$refs&&this.$refs.input){var e=this.$refs.input.$refs.input;e.setAttribute("aria-valuenow",this.currentValue)}}},h=u,d=n(0),p=Object(d["a"])(h,r,i,!1,null,null,null);p.options.__file="packages/input-number/src/input-number.vue";var f=p.exports;f.install=function(e){e.component(f.name,f)};t["default"]=f}})},e612:function(e,t,n){},e62d:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){if(i.default.prototype.$isServer)return 0;if(void 0!==s)return s;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),s=t-r,s};var r=n("8bbf"),i=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=void 0},e772:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=53)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},3:function(e,t){e.exports=n("8122")},33:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[n("span",[e._v(e._s(e.currentLabel))])])],2)},i=[];r._withStripped=!0;var o=n(4),s=n.n(o),a=n(3),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={mixins:[s.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var n=this.select,r=n.remote,i=n.valueKey;if(!this.created&&!r){if(i&&"object"===("undefined"===typeof e?"undefined":c(e))&&"object"===("undefined"===typeof t?"undefined":c(t))&&e[i]===t[i])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(e,t){if(this.isObject){var n=this.select.valueKey;return Object(a["getValueByPath"])(e,n)===Object(a["getValueByPath"])(t,n)}return e===t},contains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var n=this.select.valueKey;return e&&e.some((function(e){return Object(a["getValueByPath"])(e,n)===Object(a["getValueByPath"])(t,n)}))}return e&&e.indexOf(t)>-1},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(Object(a["escapeRegexpString"])(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,n=e.multiple,r=n?t:[t],i=this.select.cachedOptions.indexOf(this),o=r.indexOf(this);i>-1&&o<0&&this.select.cachedOptions.splice(i,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},u=l,h=n(0),d=Object(h["a"])(u,r,i,!1,null,null,null);d.options.__file="packages/select/src/option.vue";t["a"]=d.exports},4:function(e,t){e.exports=n("d010")},53:function(e,t,n){"use strict";n.r(t);var r=n(33);r["a"].install=function(e){e.component(r["a"].name,r["a"])},t["default"]=r["a"]}})},e974:function(e,t,n){"use strict";t.__esModule=!0;var r=n("8bbf"),i=s(r),o=n("5128");function s(e){return e&&e.__esModule?e:{default:e}}var a=i.default.prototype.$isServer?function(){}:n("6167"),c=function(e){return e.stopPropagation()};t.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function(e){this.disabled||(e?this.updatePopper():this.destroyPopper(),this.$emit("input",e))}},methods:{createPopper:function(){var e=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var t=this.popperOptions,n=this.popperElm=this.popperElm||this.popper||this.$refs.popper,r=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!r&&this.$slots.reference&&this.$slots.reference[0]&&(r=this.referenceElm=this.$slots.reference[0].elm),n&&r&&(this.visibleArrow&&this.appendArrow(n),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),t.placement=this.currentPlacement,t.offset=this.offset,t.arrowOffset=this.arrowOffset,this.popperJS=new a(r,n,t),this.popperJS.onCreate((function(t){e.$emit("created",e),e.resetTransformOrigin(),e.$nextTick(e.updatePopper)})),"function"===typeof t.onUpdate&&this.popperJS.onUpdate(t.onUpdate),this.popperJS._popper.style.zIndex=o.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",c))}},updatePopper:function(){var e=this.popperJS;e?(e.update(),e._popper&&(e._popper.style.zIndex=o.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(e){!this.popperJS||this.showPopper&&!e||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var e={top:"bottom",bottom:"top",left:"right",right:"left"},t=this.popperJS._popper.getAttribute("x-placement").split("-")[0],n=e[t];this.popperJS._popper.style.transformOrigin="string"===typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(t)>-1?"center "+n:n+" center"}},appendArrow:function(e){var t=void 0;if(!this.appended){for(var n in this.appended=!0,e.attributes)if(/^_v-/.test(e.attributes[n].name)){t=e.attributes[n].name;break}var r=document.createElement("div");t&&r.setAttribute(t,""),r.setAttribute("x-arrow",""),r.className="popper__arrow",e.appendChild(r)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",c),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},ea12:function(e,t){e.exports=n("fb6a")},ea64:function(e,t){e.exports=n("b64b")},eedf:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=95)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},95:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?n("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?n("i",{class:e.icon}):e._e(),e.$slots.default?n("span",[e._t("default")],2):e._e()])},i=[];r._withStripped=!0;var o={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.$options.propsData.hasOwnProperty("disabled")?this.disabled:(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},s=o,a=n(0),c=Object(a["a"])(s,r,i,!1,null,null,null);c.options.__file="packages/button/src/button.vue";var l=c.exports;l.install=function(e){e.component(l.name,l)};t["default"]=l}})},f0d9:function(e,t,n){"use strict";t.__esModule=!0,t.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},empty:{description:"暂无数据"}}}},f3ad:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=74)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n("2bb5")},21:function(e,t){e.exports=n("d397")},4:function(e,t){e.exports=n("d010")},74:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?n("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?n("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?n("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?n("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?n("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:n("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?n("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)},i=[];r._withStripped=!0;var o=n(4),s=n.n(o),a=n(11),c=n.n(a),l=void 0,u="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",h=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function d(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),i=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),o=h.map((function(e){return e+":"+t.getPropertyValue(e)})).join(";");return{contextStyle:o,paddingSize:r,borderSize:i,boxSizing:n}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var r=d(e),i=r.paddingSize,o=r.borderSize,s=r.boxSizing,a=r.contextStyle;l.setAttribute("style",a+";"+u),l.value=e.value||e.placeholder||"";var c=l.scrollHeight,h={};"border-box"===s?c+=o:"content-box"===s&&(c-=i),l.value="";var p=l.scrollHeight-i;if(null!==t){var f=p*t;"border-box"===s&&(f=f+i+o),c=Math.max(f,c),h.minHeight=f+"px"}if(null!==n){var m=p*n;"border-box"===s&&(m=m+i+o),c=Math.min(m,c)}return h.height=c+"px",l.parentNode&&l.parentNode.removeChild(l),l=null,h}var f=n(9),m=n.n(f),g=n(21),v={name:"ElInput",componentName:"ElInput",mixins:[s.a,c.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return m()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"===typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize,t=this.type;if("textarea"===t)if(e){var n=e.minRows,r=e.maxRows;this.textareaCalcStyle=p(this.$refs.textarea,n,r)}else this.textareaCalcStyle={minHeight:p(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(e){this.$emit("compositionstart",e),this.isComposing=!0},handleCompositionUpdate:function(e){this.$emit("compositionupdate",e);var t=e.target.value,n=t[t.length-1]||"";this.isComposing=!Object(g["isKorean"])(n)},handleCompositionEnd:function(e){this.$emit("compositionend",e),this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var n=null,r=0;r<t.length;r++)if(t[r].parentNode===this.$el){n=t[r];break}if(n){var i={suffix:"append",prefix:"prepend"},o=i[e];this.$slots[o]?n.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+o).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var e=this;this.passwordVisible=!this.passwordVisible,this.$nextTick((function(){e.focus()}))},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},y=v,b=n(0),x=Object(b["a"])(y,r,i,!1,null,null,null);x.options.__file="packages/input/src/input.vue";var w=x.exports;w.install=function(e){e.component(w.name,w)};t["default"]=w},9:function(e,t){e.exports=n("7f4d")}})},f3b8:function(e,t){e.exports=n("a434")},f4f9:function(e,t,n){},f989:function(e,t){e.exports=n("a9e3")},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"ScaffoldVuer",(function(){return Oe})),"undefined"!==typeof window){var r=window.document.currentScript,i=n("9bb0");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"scaffoldContainer",staticClass:"scaffold-container",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.3)"}},[n("map-svg-sprite-color"),n("scaffold-tooltip",{attrs:{label:e.tData.label,visible:e.tData.visible,x:e.tData.x,y:e.tData.y}}),n("div",{ref:"display",staticStyle:{height:"100%",width:"100%"},attrs:{id:"organsDisplayArea",tabindex:"-1"},on:{keydown:function(t){return t.type.indexOf("key")||66===t.keyCode?e.backgroundChangeCallback.apply(null,arguments):null}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.displayUI&&!e.isTransitioning,expression:"displayUI && !isTransitioning"}]},[e.displayWarning?n("el-popover",{ref:"warningPopover",attrs:{content:e.warningMessage,placement:"right","append-to-body":!1,trigger:"manual","popper-class":"warning-popper right-popper non-selectable"},model:{value:e.hoverVisabilities[6].value,callback:function(t){e.$set(e.hoverVisabilities[6],"value",t)},expression:"hoverVisabilities[6].value"}}):e._e(),e.displayWarning?n("i",{directives:[{name:"popover",rawName:"v-popover:warningPopover",arg:"warningPopover"}],staticClass:"el-icon-warning warning-icon",on:{mouseover:function(t){return e.showToolitip(6)},mouseout:function(t){return e.hideToolitip(6)}}},[n("span",{staticClass:"warning-text"},[e._v("Beta")])]):e._e(),n("el-popover",{ref:"checkBoxPopover",attrs:{content:"Change region visibility",placement:"right","append-to-body":!1,trigger:"manual","popper-class":"scaffold-popper right-popper non-selectable"},model:{value:e.hoverVisabilities[5].value,callback:function(t){e.$set(e.hoverVisabilities[5],"value",t)},expression:"hoverVisabilities[5].value"}}),n("tree-controls",{directives:[{name:"popover",rawName:"v-popover:checkBoxPopover",arg:"checkBoxPopover"}],ref:"treeControl",attrs:{"help-mode":e.helpMode,module:e.$module,"show-colour-picker":e.showColourPicker},on:{"object-selected":e.objectSelected,"object-hovered":e.objectHovered,"drawer-toggled":e.drawerToggled}}),n("div",{staticClass:"opacity-box"},[n("opacity-controls",{ref:"opacityControl"})],1),e.sceneData.timeVarying?n("el-popover",{ref:"sliderPopover",attrs:{content:"Move the slider to animate the region",placement:"top","append-to-body":!1,trigger:"manual","popper-class":"scaffold-popper top-popper non-selectable"},model:{value:e.hoverVisabilities[4].value,callback:function(t){e.$set(e.hoverVisabilities[4],"value",t)},expression:"hoverVisabilities[4].value"}}):e._e(),e.sceneData.timeVarying?n("div",{directives:[{name:"popover",rawName:"v-popover:sliderPopover",arg:"sliderPopover"}],staticClass:"time-slider-container",class:[e.minimisedSlider?"minimised":"",e.sliderPosition]},[n("el-tabs",{attrs:{type:"card"}},[n("el-tab-pane",{attrs:{label:"Animate scaffold"}},[n("el-row",{staticClass:"tab-content"},[e.isPlaying?n("map-svg-icon",{staticClass:"icon-button video-button",attrs:{icon:"pause"},nativeOn:{click:function(t){return e.play(!1)}}}):n("map-svg-icon",{staticClass:"video-button icon-button",attrs:{icon:"play"},nativeOn:{click:function(t){return e.play(!0)}}}),n("el-slider",{staticClass:"slider",attrs:{min:0,max:e.timeMax,value:e.sceneData.currentTime/100*e.timeMax,step:.1,"tooltip-class":"time-slider-tooltip","format-tooltip":e.formatTooltip,marks:e.timeStamps},on:{input:function(t){return e.timeChange(t)}}})],1)],1),n("el-tab-pane",{attrs:{label:"Animation data"}},[n("el-row",{staticClass:"tab-content"},[n("div",{staticClass:"animation-data"},[e._v(" Original duration: "),n("div",{staticClass:"purple"},[e._v(" "+e._s(e.orginalDuration)+" ")])]),n("div",{staticClass:"animation-data"},[e._v(" Animation duration: "),n("div",{staticClass:"purple"},[e._v(" "+e._s(e.animateDuration)+" ")])]),n("div",{staticClass:"animation-data"},[e._v(" Playback speed "),n("el-select",{staticClass:"select-box",attrs:{"popper-append-to-body":!0,value:e.currentSpeed,placeholder:"Select","popper-class":"scaffold_viewer_dropdown"},on:{change:function(t){return e.speedChanged(t)}}},e._l(e.playSpeed,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])],1)],1)],1):e._e(),n("div",{staticClass:"bottom-right-control"},[n("el-popover",{attrs:{content:"Zoom in",placement:"left","append-to-body":!1,trigger:"manual","popper-class":"scaffold-popper left-popper non-selectable"},model:{value:e.hoverVisabilities[0].value,callback:function(t){e.$set(e.hoverVisabilities[0],"value",t)},expression:"hoverVisabilities[0].value"}},[n("map-svg-icon",{staticClass:"icon-button zoomIn",attrs:{slot:"reference",icon:"zoomIn"},nativeOn:{click:function(t){return e.zoomIn()},mouseover:function(t){return e.showToolitip(0)},mouseout:function(t){return e.hideToolitip(0)}},slot:"reference"})],1),n("el-popover",{attrs:{content:"Zoom out",placement:"top-end","append-to-body":!1,trigger:"manual","popper-class":"scaffold-popper popper-zoomout non-selectable"},model:{value:e.hoverVisabilities[1].value,callback:function(t){e.$set(e.hoverVisabilities[1],"value",t)},expression:"hoverVisabilities[1].value"}},[n("map-svg-icon",{staticClass:"icon-button zoomOut",attrs:{slot:"reference",icon:"zoomOut"},nativeOn:{click:function(t){return e.zoomOut()},mouseover:function(t){return e.showToolitip(1)},mouseout:function(t){return e.hideToolitip(1)}},slot:"reference"})],1),n("el-popover",{attrs:{placement:"top","append-to-body":!1,trigger:"manual","popper-class":"scaffold-popper non-selectable"},model:{value:e.hoverVisabilities[2].value,callback:function(t){e.$set(e.hoverVisabilities[2],"value",t)},expression:"hoverVisabilities[2].value"}},[n("div",[e._v(" Fit to "),n("br"),e._v(" window ")]),n("map-svg-icon",{staticClass:"icon-button fitWindow",attrs:{slot:"reference",icon:"fitWindow"},nativeOn:{click:function(t){return e.fitWindow()},mouseover:function(t){return e.showToolitip(2)},mouseout:function(t){return e.hideToolitip(2)}},slot:"reference"})],1)],1),n("el-popover",{ref:"backgroundPopover",attrs:{placement:"top-start",width:"128","append-to-body":!1,trigger:"click","popper-class":"background-popper non-selectable"}},[n("el-row",{staticClass:"backgroundText"},[e._v(" Change background ")]),n("el-row",{staticClass:"backgroundChooser"},e._l(e.availableBackground,(function(t){return n("div",{key:t,class:["backgroundChoice",t,t==e.currentBackground?"active":""],on:{click:function(n){return e.backgroundChangeCallback(t)}}})})),0)],1),n("el-popover",{attrs:{content:"Change background color",placement:"right","append-to-body":!1,trigger:"manual","popper-class":"scaffold-popper right-popper non-selectable"},model:{value:e.hoverVisabilities[3].value,callback:function(t){e.$set(e.hoverVisabilities[3],"value",t)},expression:"hoverVisabilities[3].value"}},[n("map-svg-icon",{directives:[{name:"popover",rawName:"v-popover:backgroundPopover",arg:"backgroundPopover"}],staticClass:"icon-button background-colour",class:{open:e.drawerOpen,close:!e.drawerOpen},attrs:{slot:"reference",icon:"changeBckgd"},nativeOn:{mouseover:function(t){return e.showToolitip(3)},mouseout:function(t){return e.hideToolitip(3)}},slot:"reference"})],1)],1)],1)},a=[],c=(n("075a"),n("450d"),n("72aa")),l=n.n(c),u=(n("e612"),n("dd87")),h=n.n(u),d=(n("b5c2"),n("20cf")),p=n.n(d),f=(n("1f1a"),n("4e4b")),m=n.n(f),g=(n("7a0f"),n("0f6c")),v=n.n(g),y=(n("06f1"),n("6ac9")),b=n.n(y),x=(n("6611"),n("e772")),w=n.n(x),_=(n("be4f"),n("896a")),S=n.n(_),M=(n("f4f9"),n("c2cc")),T=n.n(M),E=(n("ccb3"),n("4ccb"),n("97d3"),n("9bb5"),n("1a25"),n("b94f"),n("712c"),n("13e3"),n("ea64"),n("8bbf")),C=n.n(E),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return void 0!=e.material?n("div",{ref:"control",staticClass:"opacity-control"},[n("el-drawer",{staticClass:"drawer-content",attrs:{"custom-class":"my-drawer",visible:e.drawerOpen,"append-to-body":!1,"modal-append-to-body":!1,size:"300","with-header":!1,"wrapper-closable":!1,modal:!1},on:{"update:visible":function(t){e.drawerOpen=t}}},[e.drawerOpen?n("div",{staticClass:"tab-button close",on:{click:e.toggleDrawer}},[n("i",{staticClass:"el-icon-arrow-right"})]):e._e(),n("el-container",{staticClass:"opacity-container"},[n("el-header",{staticClass:"header",attrs:{height:"37px"}},[n("div",[e._v("Opacity")])]),n("el-main",{staticClass:"main"},[n("div",{staticClass:"block"},[n("span",{staticClass:"display"},[e._v(e._s(e.displayString))]),n("el-slider",{staticClass:"my-slider",attrs:{step:.01,min:0,max:1,"format-tooltip":e.formatTooltip,"show-tooltip":!1},model:{value:e.material.opacity,callback:function(t){e.$set(e.material,"opacity",t)},expression:"material.opacity"}})],1)])],1)],1),e.drawerOpen?e._e():n("div",{staticClass:"tab-button open",on:{click:e.toggleDrawer}},[n("i",{staticClass:"el-icon-arrow-left"})])],1):e._e()},L=[],R=(n("de31"),n("c69e")),O=n.n(R),P=(n("aaa5"),n("a578")),k=n.n(P),N=(n("a673"),n("7b31")),F=n.n(N),I=(n("0fb4"),n("9944")),D=n.n(I),B=(n("adec"),n("3d2d")),z=n.n(B),j=n("b2d6"),U=n.n(j),V=n("4897"),G=n.n(V);G.a.use(U.a),C.a.use(z.a),C.a.use(D.a),C.a.use(F.a),C.a.use(k.a),C.a.use(O.a),C.a.use(p.a);var H={name:"OpacityControls",data:function(){return{displayString:"100%",material:void 0,drawerOpen:!0}},watch:{"material.opacity":function(){this.material&&this._zincobject.setAlpha(this.material.opacity)}},mounted:function(){this._zincobject=void 0},methods:{formatTooltip:function(e){return this.displayString=Math.floor(100*e+.5)+"%",this.displayString},toggleDrawer:function(){this.drawerOpen=!this.drawerOpen},setObject:function(e){this.material=e?e.morph.material:void 0,this._zincobject=e}}},W=H;n("21a1");function $(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}var q=$(W,A,L,!1,null,"4c00a30f",null),X=q.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"region-tooltip",style:e.position},[n("el-popover",{ref:"tooltip",attrs:{placement:"top","append-to-body":!1,trigger:"manual","popper-class":"tooltip-popper non-selectable"},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[n("div",[e._v(e._s(e.label))]),n("i",{directives:[{name:"popover",rawName:"v-popover:tooltip",arg:"tooltip"}]})])],1)},Z=[];n("f989");G.a.use(U.a),C.a.use(b.a);var J={name:"ScaffoldTooltip",props:{label:{type:String,default:""},visible:{type:Boolean,default:!1},x:{type:Number,default:200},y:{type:Number,default:200}},data:function(){return{display:!1}},computed:{position:function(){return{left:this.x+"px",top:this.y-30+"px"}}},watch:{label:{handler:function(){this.visible&&this.label&&""!==this.label?this.display=!0:this.display=!1},immediate:!0},visible:{handler:function(){this.visible&&this.label&&""!==this.label?this.display=!0:this.display=!1},immediate:!0}}},K=J,Q=(n("a786"),$(K,Y,Z,!1,null,"b9fa59b4",null)),ee=Q.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-controls",class:{open:e.drawerOpen,close:!e.drawerOpen}},[n("div",{staticClass:"traditional-container"},[n("el-row",[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"regions-display-text"},[e._v(" Regions ")])])],1),n("div",{staticClass:"tree-container"},[n("el-tree",{ref:"regionTree",attrs:{"default-expand-all":"","node-key":"id","show-checkbox":"","check-strictly":!1,data:e.treeData,"default-checked-keys":["__r/"],"expand-on-click-node":!1},on:{check:e.checkChanged},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,i=t.data;return n("span",{staticClass:"region-tree-node",class:{activeItem:e.nodeIsActive(i),hoverItem:e.nodeIsHover(i)},on:{click:function(t){return e.changeActiveByNode(i,!0)},mouseover:function(t){return e.changeHoverByNode(i,!0)}}},[i.primitives?n("el-color-picker",{class:{"show-picker":e.showColourPicker},attrs:{value:e.getColour(i),size:"small","popper-class":e.myPopperClass},on:{change:function(t){return e.setColour(i,t)}}}):e._e(),n("span",[e._v(e._s(r.label))])],1)}}])})],1)],1),n("div",{staticClass:"drawer-button",class:{open:e.drawerOpen,close:!e.drawerOpen},on:{click:e.toggleDrawer}},[n("i",{staticClass:"el-icon-arrow-left"})])])},ne=[];function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e){if(Array.isArray(e))return re(e)}n("9b22"),n("4933"),n("2ff9"),n("4362");function oe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n("ea12"),n("db0a"),n("c8a6"),n("5a3b");function se(e,t){if(e){if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}n("dc50");function ae(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ce(e){return ie(e)||oe(e)||se(e)||ae()}n("5e32");var le=n("6721"),ue=n.n(le),he=(n("a586"),n("7464")),de=n.n(he),pe=(n("d4df"),n("7fc1")),fe=n.n(pe),me=(n("560b"),n("dcdc")),ge=n.n(me),ve=(n("4c07"),n("0d58"),n("6378"),n("85f7"),n("fd22"),n("4391"),function(e){var t=[];return e&&e.forEach((function(e){e&&e.getVisibility()&&t.push({group:e.groupName,regionPath:e.region.getFullPath()})})),t}),ye=function e(t,n){n.push(t.id),t.children&&t.children.forEach((function(t){return e(t,n)}))},be=function(e,t,n){var r=e,i=[];return n&&(r=e.findChildFromPath(n)),r&&t.forEach((function(e){var t=r.findObjectsWithGroupName(e,!0);i.push.apply(i,ce(t))})),i};n("6814"),n("4e2d");G.a.use(U.a),C.a.use(ge.a),C.a.use(fe.a),C.a.use(de.a),C.a.use(v.a),C.a.use(ue.a);var xe=function(e,t){var n=e.label.toUpperCase(),r=t.label.toUpperCase();return n<r?-1:n>r?1:0},we={name:"TreeControls",props:{module:{type:Object,default:void 0},showColourPicker:Boolean},data:function(){return{treeData:[{label:"Root",id:"__r/",children:[]}],active:[{group:"",regionPath:void 0}],hover:[{group:"",regionPath:void 0}],myPopperClass:"hide-scaffold-colour-popup",drawerOpen:!0}},watch:{showColourPicker:{immediate:!0,handler:function(){this.showColourPicker?this.myPopperClass="showPicker":this.myPopperClass="hide-scaffold-colour-popup"}}},created:function(){var e=this;this.module.sceneData.geometries.forEach((function(t){e.organsAdded(t)})),this.module.sceneData.lines.forEach((function(t){e.organsAdded(t)})),this.module.sceneData.glyphsets.forEach((function(t){e.organsAdded(t)})),this.module.sceneData.pointsets.forEach((function(t){e.organsAdded(t)})),this.module.addOrganPartAddedCallback(this.organsAdded),this.__nodeNumbers=1},destroyed:function(){this.sortedPrimitiveGroups=void 0},methods:{addTreeItem:function(e,t){for(var n=this,r=0;r<e.length;r++){var i;if(e[r].id===t.id)if(t.primitives&&e[r].primitives)return void(i=e[r].primitives).push.apply(i,ce(t.primitives))}e.push(t),e.sort((function(e,t){return xe(e,t)})),this.__nodeNumbers++,this.$nextTick((function(){n.$refs.regionTree.setChecked(t.id,!0)}))},findOrCreateRegion:function(e,t,n){if(!this.treeData[0].region&&this.module&&this.module.scene&&(this.treeData[0].region=this.module.scene.getRootRegion()),t.length>0){var r=ce(t),i=e.children.find((function(e){return e.label==r[0]})),o=n+"/"+t[0],s="__r"+o;if(!i){var a=this.treeData[0].region.findChildFromPath(o);i={label:r[0],id:s,children:[],region:a},this.addTreeItem(e.children,i)}return r.shift(),this.findOrCreateRegion(i,r,o)}return e},nodeIsActive:function(e){for(var t=0;t<this.active.length;t++){var n=this.active[t];if(n.group===e.label&&(n.regionPath===n.regionPath||void 0===n.regionPath))return!0}return!1},nodeIsHover:function(e){for(var t=0;t<this.hover.length;t++){var n=this.hover[t];if(n.group===e.label&&(n.regionPath===n.regionPath||void 0===n.regionPath))return!0}return!1},organsAdded:function(e){var t=e.region;if(t){var n=t.getFullSeparatedPath(),r=this.findOrCreateRegion(this.treeData[0],n,"");if(e.groupName&&r){r.children||(r.children=[]);var i=r.id.replace("__r/","")+"/"+e.groupName,o={label:e.groupName,id:i,primitives:[e],regionPath:e.region.getFullPath()};this.addTreeItem(r.children,o)}}},checkChanged:function(e,t){var n=this.module.scene.getRootRegion();n.hideAllChildren(),t.checkedNodes.forEach((function(e){e.region&&e.region.setVisibility(!0),e.primitives&&e.primitives.forEach((function(e){e.setVisibility(!0)}))})),t.halfCheckedNodes.forEach((function(e){e.region&&e.region.setVisibility(!0)}))},changeActiveByPrimitives:function(e,t){if(e&&e.length>0){var n;this.active=[];var r=ve(e);(n=this.active).push.apply(n,ce(r)),this.$emit("object-selected",e,t)}else this.removeActive(t);this.removeHover(t)},changeHoverByPrimitives:function(e,t){if(e&&e.length>0){var n;this.hover=[];var r=ve(e);(n=this.hover).push.apply(n,ce(r)),this.$emit("object-hovered",e,t)}else this.removeHover(t)},changeActiveByNames:function(e,t,n){var r=this.module.scene.getRootRegion(),i=be(r,e,t);this.changeActiveByPrimitives(i,n)},changeHoverByNames:function(e,t,n){var r=this.module.scene.getRootRegion(),i=be(r,e,t);this.changeHoverByPrimitives(i,n)},changeActiveByNode:function(e,t){e.primitives&&this.changeActiveByPrimitives(e.primitives,t)},changeHoverByNode:function(e,t){e.primitives&&this.changeHoverByPrimitives(e.primitives,t)},removeActive:function(e){this.active=[],this.$emit("object-selected",void 0,e)},removeHover:function(e){this.hover=[],this.$emit("object-hovered",void 0,e)},clear:function(){this.active.group="",this.active.regionPath=void 0,this.hover.group="",this.hover.regionPath=void 0,this.$refs.regionTree.updateKeyChildren("__r/",[]),this.$emit("object-selected",void 0)},getColour:function(e){if(e){var t=e.primitives[0];if(t){var n=t.getColourHex();if(n)return"#"+n}}return"#FFFFFF"},setColour:function(e,t){e&&e.primitives&&e.primitives.forEach((function(e){var n=t.replace("#","0x");e.setColourHex(n)}))},viewAll:function(){this.module.viewAll()},visibilityToggle:function(e,t){this.module.changeOrganPartsVisibility(e,t),0==t&&(this.activeRegion===e&&this.removeActive(!0),this.hoverRegion===e&&this.removeHover(!0))},toggleDrawer:function(){this.drawerOpen=!this.drawerOpen,this.$emit("drawer-toggled",this.drawerOpen)},setTreeVisibility:function(e,t){var n=this,r=!1;t.includes(e.id)&&(r=!0),e.region&&e.region.setVisibility(r),e.primitives&&e.primitives.forEach((function(e){return e.setVisibility(r)})),e.children&&e.children.forEach((function(e){return n.setTreeVisibility(e,t)}))},checkAllKeys:function(){var e=[];ye(this.treeData[0],e),this.setTreeVisibility(this.treeData[0],e),this.$refs.regionTree.setCheckedKeys(e)},getState:function(){var e=this.$refs.regionTree.getCheckedKeys();return e.length===this.__nodeNumbers?{checkAll:!0,version:"2.0"}:{checkedItems:e,version:"2.0"}},setState:function(e){if(e)if(e.checkAll)this.checkAllKeys();else if(e.checkedItems){var t,n=[];if("2.0"!==e.version)n=e.checkedItems.map((function(e){return"/"+e})),n.shift("__r/");else(t=n).push.apply(t,ce(e.checkedItems));this.setTreeVisibility(this.treeData[0],n),this.$refs.regionTree.setCheckedKeys(n)}}}},_e=we,Se=(n("9475"),n("8f55"),$(_e,te,ne,!1,null,"7d6a9a0b",null)),Me=Se.exports,Te=n("429c");G.a.use(U.a),C.a.use(T.a),C.a.use(S.a.directive),C.a.use(w.a),C.a.use(b.a),C.a.use(v.a),C.a.use(m.a),C.a.use(p.a),C.a.use(h.a),C.a.use(l.a);var Ee=n("53d7").OrgansViewer,Ce=n("9b21").EventNotifier,Ae={name:"ScaffoldVuer",components:{MapSvgIcon:Te["MapSvgIcon"],MapSvgSpriteColor:Te["MapSvgSpriteColor"],OpacityControls:X,ScaffoldTooltip:ee,TreeControls:Me},props:{url:{type:String,default:""},showColourPicker:{type:Boolean,default:!1},displayUI:{type:Boolean,default:!0},displayAtStartUp:{type:Boolean,default:!0},helpMode:{type:Boolean,default:!1},displayWarning:{type:Boolean,default:!0},warningMessage:{type:String,default:"Beta feature - under active development"},displayMarkers:{type:Boolean,default:!0},displayMinimap:{type:Boolean,default:!1},format:{type:String,default:"metadata"},minimapSettings:{type:Object,default:function(){return{x_offset:16,y_offset:16,width:128,height:128,align:"top-right"}}},state:{type:Object,default:void 0},region:{type:String,default:""},viewURL:{type:String,default:""},render:{type:Boolean,default:!0}},data:function(){return{sceneData:this.$module.sceneData,isPlaying:!1,isTransitioning:!1,tooltipAppendToBody:!1,hoverVisabilities:[{value:!1},{value:!1},{value:!1},{value:!1},{value:!1},{value:!1},{value:!1}],inHelp:!1,loading:!1,duration:3e3,drawerOpen:!0,currentBackground:"white",availableBackground:["white","lightskyblue","black"],minimisedSlider:!1,sliderPosition:"",timeMax:100,orginalDuration:"",animateDuration:"6secs",playSpeed:[{value:.1,label:"0.1x"},{value:.5,label:"0.5x"},{value:1,label:"1x"},{value:2,label:"2x"},{value:5,label:"5x"},{value:10,label:"10x"}],currentSpeed:1,timeStamps:{},defaultCheckedKeys:[],tData:{label:"",visible:!1,x:200,y:200},fileFormat:"metadata"}},watch:{format:{handler:function(e){this.fileFormat=e},immediate:!0},url:{handler:function(e){void 0!==this.state&&void 0!==this.state.url||this.setURL(e)},immediate:!0},region:{handler:function(e){this.state||this.viewURL||this.setFocusedRegion(e)},immediate:!0},state:{handler:function(e){this.setState(e)},immediate:!0,deep:!0},viewURL:{handler:function(e){this.updateViewURL(e)},immediate:!0},helpMode:function(e){this.setHelpMode(e)},displayMarkers:function(e){this.$module.scene.displayMarkers=e},displayMinimap:function(e){this.$module.scene.displayMinimap=e},"sceneData.currentTime":function(){this.$emit("timeChanged",this.sceneData.currentTime)},duration:function(){this.$module.scene.setDuration(this.duration)},minimapSettings:{deep:!0,handler:"updateMinimapScissor"},render:function(e){this.toggleRendering(e)}},beforeCreate:function(){this.$module=new Ee,this.isReady=!1,this.selectedObjects=[],this.hoveredObjects=[],this.currentBackground="white",this._currentURL=void 0,this.availableBackground=["white","black","lightskyblue"]},mounted:function(){var e=new Ce;e.subscribe(this,this.eventNotifierCallback),this.$module.addNotifier(e),this.$module.addOrganPartAddedCallback(this.organsAdded),this.$module.initialiseRenderer(this.$refs.display),this.toggleRendering(this.render),this.ro=new ResizeObserver(this.adjustLayout).observe(this.$refs.scaffoldContainer),this.defaultRate=this.$module.getPlayRate()},beforeDestroy:function(){this.ro&&this.ro.disconnect(),this.$module.destroy(),this.$module=void 0},methods:{organsAdded:function(){this.loading=!1},backgroundChangeCallback:function(e){this.currentBackground=e,this.$module.zincRenderer.getThreeJSRenderer().setClearColor(this.currentBackground,1)},captureScreenshotCallback:function(){this.$module.zincRenderer.removePostRenderCallbackFunction(this.captureID);var e=this.$module.zincRenderer.getThreeJSRenderer().domElement.toDataURL("image/png"),t=document.createElement("a");document.body.append(t),this.captureFilename?t.download=this.captureFilename:t.download="screenshot.png",t.href=e,t.click(),t.remove()},captureScreenshot:function(e){this.captureFilename=e,this.captureID=this.$module.zincRenderer.addPostRenderCallbackFunction(this.captureScreenshotCallback)},formatTooltip:function(e){if(this.timeMax>=1e3&&e){var t=(e%6e4/1e3).toFixed(2)+"s",n=e>6e4?(e/6e4).toFixed(0)+"m ":"";return n+t}return e?e.toFixed(2)+" ms":"0 ms"},fitWindow:function(){this.$module.scene&&this.$module.scene.viewAll()},zoomIn:function(){this.$module.scene&&this.$module.scene.changeZoomByScrollRateUnit(-1)},zoomOut:function(){this.$module.scene&&this.$module.scene.changeZoomByScrollRateUnit(1)},speedChanged:function(e){this.currentSpeed=e,this.$module.setPlayRate(this.defaultRate*this.currentSpeed)},stopFreeSpin:function(){var e=this.$module.scene.getZincCameraControls();e.stopAutoTumble(),this.isTransitioning=!1},findObjectsWithGroupName:function(e){var t=[];return e&&""!=e&&this.$module.scene&&(t=this.$module.scene.findObjectsWithGroupName(e)),t},viewRegion:function(e){var t=this.$module.scene.getRootRegion(),n=Array.isArray(e)?e:[e],r=be(t,n,""),i=this.$module.scene.getBoundingBoxOfZincObjects(r);return!!i&&(this.$module.isSyncControl()?this.$module.setSyncControlZoomToBox(i):this.$module.scene.viewAllWithBoundingBox(i),!0)},setFocusedRegion:function(e){e&&(this.isReady?this.viewRegion(e):this.$module.setFinishDownloadCallback(this.setURLFinishCallback({region:e})))},updateViewURL:function(e){if(e)if(this.isReady){var t=new URL(e,this.url);this.$module.scene.loadViewURL(t)}else this.$module.setFinishDownloadCallback(this.setURLFinishCallback({viewURL:e}))},getRendererInfo:function(){if(this.$module.zincRenderer)return this.$module.zincRenderer.getThreeJSRenderer().info},freeSpin:function(){if(this.$module.scene){var e=this.$module.scene.getZincCameraControls();this.isTransitioning=!0,e.enableAutoTumble(),e.autoTumble([1,0],Math.PI,!0),setTimeout(this.stopFreeSpin,4e3)}},eventNotifierCallback:function(e){var t=[],n=void 0;if(1!=e.eventType&&2!=e.eventType||e.identifiers.forEach((function(e){if(e){var n=e.data.id?e.data.id:e.data.group;t.push(n)}})),1==e.eventType)this.$refs.treeControl&&(t.length>0?this.$refs.treeControl.changeActiveByNames(t,n,!1):this.$refs.treeControl.removeActive(!0)),this.$emit("scaffold-selected",e.identifiers);else if(2==e.eventType){if(this.tData.visible=!1,this.$refs.treeControl&&(t.length>0?this.$refs.treeControl.changeHoverByNames(t,n,!1):this.$refs.treeControl.removeHover(!0)),e.identifiers.length>0&&e.identifiers[0]){var r=e.identifiers[0].data.id?e.identifiers[0].data.id:e.identifiers[0].data.group;e.identifiers[0].coords&&(this.tData.visible=!0,this.tData.label=r,this.tData.x=e.identifiers[0].coords.x,this.tData.y=e.identifiers[0].coords.y)}this.$emit("scaffold-highlighted",e.identifiers)}else if(3==e.eventType&&e.identifiers.length>0&&e.identifiers[0]&&e.identifiers[0].coords){var i=this.$refs.scaffoldContainer.getBoundingClientRect();this.tData.x=e.identifiers[0].coords.x-i.left,this.tData.y=e.identifiers[0].coords.y-i.top}},getCoordinatesOfSelected:function(){if(this.selectedObjects&&this.selectedObjects.length>0)return this.$module.scene.getObjectsScreenXY([this.selectedObjects])},getDynamicSelectedCoordinates:function(){return this.$module.selectedScreenCoordinates},timeChange:function(e){var t=e/this.timeMax*100;t!=this.sceneData.currentTime&&this.$module.updateTime(t)},objectSelected:function(e,t){this.selectedObjects=e,this.selectedObjects&&this.$refs.opacityControl.setObject(this.selectedObjects[0]),e?this.$module.setSelectedByZincObjects(e,void 0,t):this.$module.setSelectedByObjects([],void 0,t)},objectHovered:function(e,t){this.hoveredObjects=e,e?this.$module.setHighlightedByZincObjects(e,void 0,t):this.$module.setHighlightedByObjects([],void 0,t)},changeActiveByName:function(e,t,n){var r=Array.isArray(e);if(void 0===e||r&&0===e.length)this.$refs.treeControl.removeActive(n);else{var i=e;r||(i=[i]),this.$refs.treeControl.changeActiveByNames(i,t,n)}},changeHighlightedByName:function(e,t,n){var r=Array.isArray(e);if(void 0===e||r&&0===e.length)this.$refs.treeControl.removeHover(n);else{var i=e;r||(i=[i]),this.$refs.treeControl.changeHoverByNames(i,t,n)}},play:function(e){this.$module.playAnimation(e),this.isPlaying=e},setHelpMode:function(e){e?(this.inHelp=!0,this.hoverVisabilities.forEach((function(e){e.value=!0}))):(this.inHelp=!1,this.hoverVisabilities.forEach((function(e){e.value=!1})))},showToolitip:function(e){var t=this;this.inHelp||(this.tooltipWait=setTimeout((function(){t.hoverVisabilities[e].value=!0}),500))},hideToolitip:function(e){this.inHelp||(this.hoverVisabilities[e].value=!1,clearTimeout(this.tooltipWait))},updateMinimapScissor:function(){var e=this;Object.keys(this.minimapSettings).forEach((function(t){e.$module.scene.minimapScissor[t]=e.minimapSettings[t]})),this.$module.scene.minimapScissor.updateRequired=!0},updateSettingsfromScene:function(){this.currentSpeed=1,this.$module.setPlayRate(this.defaultRate),this.orginalDuration=this.$module.scene.getMetadataTag("OriginalDuration"),this.animateDuration=this.$module.scene.getMetadataTag("Duration");var e=this.$module.scene.getMetadataTag("TimeStamps");for(var t in this.timeStamps={},e)this.timeStamps[e[t]]=t;this.timeMax=this.$module.scene.getDuration()},setURLFinishCallback:function(e){var t=this;return function(){if(e){if(e.viewport)t.$module.scene.getZincCameraControls().setCurrentCameraSettings(e.viewport);else if(e.viewURL&&""!==e.viewURL){var n=new URL(e.viewURL,t.url);t.$module.scene.loadViewURL(n)}else e.region&&""!==e.region&&t.viewRegion(e.region);e.visibility&&t.$nextTick((function(){t.$refs.treeControl.setState(e.visibility)}))}t.updateSettingsfromScene(),t.$module.updateTime(.01),t.$module.updateTime(0),t.$module.unsetFinishDownloadCallback(),t.$emit("on-ready"),t.isReady=!0}},getState:function(){var e={format:this.fileFormat,url:this._currentURL,viewport:void 0,visibility:void 0};if(this.$refs.treeControl&&(e.visibility=this.$refs.treeControl.getState()),this.$module.scene){var t=this.$module.scene.getZincCameraControls();e.viewport=t.getCurrentViewport()}return e},setState:function(e){e&&(e.url&&e.url!==this._currentURL?this.setURLAndState(e.url,{fileFormat:e.fileFormat,viewport:e.viewport,visibility:e.visibility}):(e.viewport||e.visibility)&&(this.isReady&&this.$module.scene?(e.viewport&&this.$module.scene.getZincCameraControls().setCurrentCameraSettings(e.viewport),e.visibility&&this.$refs.treeControl.setState(e.visibility)):this.$module.setFinishDownloadCallback(this.setURLFinishCallback({viewport:e.viewport,visibility:e.visibility}))))},exportGLTF:function(e){return this.$module.scene.exportGLTF(e)},setURLAndState:function(e,t){if(e!=this._currentURL){t&&t.format&&(this.fileFormat=t.format);var n=t&&t.viewport?t.viewport:void 0,r=t&&t.visibility?t.visibility:void 0;this._currentURL=e,this.$refs.treeControl&&this.$refs.treeControl.clear(),this.loading=!0,this.isReady=!1,this.$module.setFinishDownloadCallback(this.setURLFinishCallback({viewport:n,region:this.region,viewURL:this.viewURL,visibility:r})),"gltf"===this.fileFormat?this.$module.loadGLTFFromURL(e,"scene",!0):this.$module.loadOrgansFromURL(e,void 0,void 0,"scene",void 0,!0),this.$module.scene.displayMarkers=this.displayMarkers,this.$module.scene.displayMinimap=this.displayMinimap,this.updateMinimapScissor()}},setURL:function(e){this.setURLAndState(e,void 0)},drawerToggled:function(e){pppp,this.drawerOpen=e,this.adjustLayout()},adjustLayout:function(){var e=this.$refs.scaffoldContainer.clientWidth;this.minimisedSlider=e<812,this.minimisedSlider?this.sliderPosition=this.drawerOpen?"right":"left":this.sliderPosition=""},toggleRendering:function(e){this.$module.zincRenderer&&(e?this.$module.zincRenderer.animate():this.$module.zincRenderer.stopAnimate())},forceResize:function(){this.$module.zincRenderer&&this.$module.zincRenderer.onWindowResize()},syncControlCallback:function(){var e=this.$module.NDCCameraControl.getPanZoom();this.$emit("scaffold-navigated",e)},toggleSyncControl:function(e,t){this.$module.toggleSyncControl(e,t),this.$module.setSyncControlCallback(this.syncControlCallback)}}},Le=Ae,Re=(n("5f71"),n("642d"),$(Le,s,a,!1,null,"3340a547",null)),Oe=Re.exports},fd22:function(e,t){e.exports=n("2532")}})},"0b07":function(e,t,n){var r=n("34ac"),i=n("3698");function o(e,t){var n=i(e,t);return r(n)?n:void 0}e.exports=o},"0b42":function(e,t,n){var r=n("e8b5"),i=n("68ee"),o=n("861d"),s=n("b622"),a=s("species"),c=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,i(t)&&(t===c||r(t.prototype))?t=void 0:o(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?c:t}},"0cb2":function(e,t,n){var r=n("e330"),i=n("7b0b"),o=Math.floor,s=r("".charAt),a=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,d){var p=n+e.length,f=r.length,m=u;return void 0!==h&&(h=i(h),m=l),a(d,m,(function(i,a){var l;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,p);case"<":l=h[c(a,1,-1)];break;default:var u=+a;if(0===u)return i;if(u>f){var d=o(u/10);return 0===d?i:d<=f?void 0===r[d-1]?s(a,1):r[d-1]+s(a,1):i}l=r[u-1]}return void 0===l?"":l}))}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d24":function(e,t,n){(function(e){var r=n("2b3e"),i=n("07c7"),o=t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o,c=a?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||i;e.exports=u}).call(this,n("62e4")(e))},"0d3b":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("c430"),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"0d51":function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},"0e15":function(e,t,n){var r=n("597f");e.exports=function(e,t,n){return void 0===n?r(e,t,!1):r(e,n,!1!==t)}},"107c":function(e,t,n){var r=n("d039"),i=n("da84"),o=i.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1148:function(e,t,n){"use strict";var r=n("5926"),i=n("577e"),o=n("1d80"),s=RangeError;e.exports=function(e){var t=i(o(this)),n="",a=r(e);if(a<0||a==1/0)throw s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},1290:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},1310:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},1368:function(e,t,n){var r=n("da03"),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function o(e){return!!i&&i in e}e.exports=o},"13d2":function(e,t,n){var r=n("d039"),i=n("1626"),o=n("1a2d"),s=n("83ab"),a=n("5e77").CONFIGURABLE,c=n("8925"),l=n("69f3"),u=l.enforce,h=l.get,d=Object.defineProperty,p=s&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),f=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||a&&e.name!==t)&&(s?d(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&o(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=u(e);return o(r,"source")||(r.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&h(this).source||c(this)}),"toString")},"14c3":function(e,t,n){var r=n("c65b"),i=n("825a"),o=n("1626"),s=n("c6b6"),a=n("9263"),c=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var l=r(n,e,t);return null!==l&&i(l),l}if("RegExp"===s(e))return r(a,e,t);throw c("RegExp#exec called on incompatible receiver")}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("785a"),s=n("17c2"),a=n("9112"),c=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var l in i)i[l]&&c(r[l]&&r[l].prototype);c(o)},1626:function(e,t){e.exports=function(e){return"function"==typeof e}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=i("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},1838:function(e,t,n){var r=n("c05f"),i=n("9b02"),o=n("8604"),s=n("f608"),a=n("08cc"),c=n("20ec"),l=n("f4d6"),u=1,h=2;function d(e,t){return s(e)&&a(t)?c(l(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?o(n,e):r(t,s,u|h)}}e.exports=d},"18d8":function(e,t,n){var r=n("234d"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=s},"19aa":function(e,t,n){var r=n("3a9b"),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},"1a2d":function(e,t,n){var r=n("e330"),i=n("7b0b"),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},"1a8c":function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c3c":function(e,t,n){var r=n("9e69"),i=n("2474"),o=n("9638"),s=n("a2be"),a=n("edfa"),c=n("ac41"),l=1,u=2,h="[object Boolean]",d="[object Date]",p="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",_=r?r.prototype:void 0,S=_?_.valueOf:void 0;function M(e,t,n,r,_,M,T){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!M(new i(e),new i(t)));case h:case d:case m:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case f:var E=a;case v:var C=r&l;if(E||(E=c),e.size!=t.size&&!C)return!1;var A=T.get(e);if(A)return A==t;r|=u,T.set(e,t);var L=s(E(e),E(t),r,_,M,T);return T["delete"](e),L;case b:if(S)return S.call(e)==S.call(t)}return!1}e.exports=M},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cec":function(e,t,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"Promise");e.exports=o},"1d80":function(e,t){var n=TypeError;e.exports=function(e){if(void 0==e)throw n("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1efc":function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},"1fc8":function(e,t,n){var r=n("4245");function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}e.exports=i},"20ec":function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},2164:function(e,t,n){var r=n("cae7");function i(e,t,n){var i=-1,o=e.criteria,s=t.criteria,a=o.length,c=n.length;while(++i<a){var l=r(o[i],s[i]);if(l){if(i>=c)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}e.exports=i},"234d":function(e,t,n){var r=n("e380"),i=500;function o(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}e.exports=o},"23cb":function(e,t,n){var r=n("5926"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("cb2d"),a=n("6374"),c=n("e893"),l=n("94ca");e.exports=function(e,t){var n,u,h,d,p,f,m=e.target,g=e.global,v=e.stat;if(u=g?r:v?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(h in t){if(p=t[h],e.dontCallGetSet?(f=i(u,h),d=f&&f.value):d=u[h],n=l(g?h:m+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),s(u,h,p,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"242e":function(e,t,n){var r=n("72af"),i=n("ec69");function o(e,t){return e&&r(e,t,i)}e.exports=o},2474:function(e,t,n){var r=n("2b3e"),i=r.Uint8Array;e.exports=i},2478:function(e,t,n){var r=n("4245");function i(e){return r(this,e).get(e)}e.exports=i},2524:function(e,t,n){var r=n("6044"),i="__lodash_hash_undefined__";function o(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}e.exports=o},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("5a34"),s=n("1d80"),a=n("577e"),c=n("ab13"),l=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(a(s(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},"253c":function(e,t,n){var r=n("3729"),i=n("1310"),o="[object Arguments]";function s(e){return i(e)&&r(e)==o}e.exports=s},"26e8":function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},2877:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,"a",(function(){return r}))},"28c9":function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},"29f3":function(e,t){var n=Object.prototype,r=n.toString;function i(e){return r.call(e)}e.exports=i},"2a62":function(e,t,n){var r=n("c65b"),i=n("825a"),o=n("dc4a");e.exports=function(e,t,n){var s,a;i(e);try{if(s=o(e,"return"),!s){if("throw"===t)throw n;return n}s=r(s,e)}catch(c){a=!0,s=c}if("throw"===t)throw n;if(a)throw s;return i(s),n}},"2ad6":function(e,t,n){"use strict";var r,i;(function(o,s){r=s,i="function"===typeof r?r.call(t,n,t,e):r,void 0===i||(e.exports=i)})("undefined"!==typeof window&&window,(function(){if("undefined"===typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||function(t){e.clearTimeout(t)};function r(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!==typeof jQuery&&e instanceof jQuery||"undefined"!==typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function i(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function o(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var s=function(e,a){var c=0;function l(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var i=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&i.push(n[e]);n=i},this.length=function(){return n.length}}function u(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new l,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var r={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},s={position:"absolute",left:"0px",top:"0px",transition:"0s"};o(e.resizeSensor,r);var a=document.createElement("div");a.className="resize-sensor-expand",o(a,r);var u=document.createElement("div");o(u,s),a.appendChild(u);var h=document.createElement("div");h.className="resize-sensor-shrink",o(h,r);var d=document.createElement("div");o(d,s),o(d,{width:"200%",height:"200%"}),h.appendChild(d),e.resizeSensor.appendChild(a),e.resizeSensor.appendChild(h),e.appendChild(e.resizeSensor);var p=window.getComputedStyle(e),f=p?p.getPropertyValue("position"):null;"absolute"!==f&&"relative"!==f&&"fixed"!==f&&"sticky"!==f&&(e.style.position="relative");var m=!1,g=0,v=i(e),y=0,b=0,x=!0;c=0;var w=function(){var t=e.offsetWidth,n=e.offsetHeight;u.style.width=t+10+"px",u.style.height=n+10+"px",a.scrollLeft=t+10,a.scrollTop=n+10,h.scrollLeft=t+10,h.scrollTop=n+10},_=function(){if(x){var n=0===e.offsetWidth&&0===e.offsetHeight;if(n)return void(c||(c=t((function(){c=0,_()}))));x=!1}w()};e.resizeSensor.resetSensor=_;var S=function(){g=0,m&&(y=v.width,b=v.height,e.resizedAttached&&e.resizedAttached.call(v))},M=function(){v=i(e),m=v.width!==y||v.height!==b,m&&!g&&(g=t(S)),_()},T=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};T(a,"scroll",M),T(h,"scroll",M),c=t((function(){c=0,_()}))}}r(e,(function(e){u(e,a)})),this.detach=function(t){c||(n(c),c=0),s.detach(e,t)},this.reset=function(){e.resizeSensor.resetSensor()}};if(s.reset=function(e){r(e,(function(e){e.resizeSensor.resetSensor()}))},s.detach=function(e,t){r(e,(function(e){e&&(e.resizedAttached&&"function"===typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!==typeof MutationObserver){var a=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,r=0;r<n.length;r++)n[r].resizeSensor&&s.reset(n[r])}));document.addEventListener("DOMContentLoaded",(function(e){a.observe(document.body,{childList:!0,subtree:!0})}))}return s}))},"2b03":function(e,t){function n(e,t,n,r){var i=e.length,o=n+(r?1:-1);while(r?o--:++o<i)if(t(e[o],o,e))return o;return-1}e.exports=n},"2b0e":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"EffectScope",(function(){return Et})),n.d(t,"computed",(function(){return ft})),n.d(t,"customRef",(function(){return ot})),n.d(t,"default",(function(){return eo})),n.d(t,"defineAsyncComponent",(function(){return Qn})),n.d(t,"defineComponent",(function(){return mr})),n.d(t,"del",(function(){return ze})),n.d(t,"effectScope",(function(){return Ct})),n.d(t,"getCurrentInstance",(function(){return ge})),n.d(t,"getCurrentScope",(function(){return Lt})),n.d(t,"h",(function(){return In})),n.d(t,"inject",(function(){return kt})),n.d(t,"isProxy",(function(){return qe})),n.d(t,"isReactive",(function(){return He})),n.d(t,"isReadonly",(function(){return $e})),n.d(t,"isRef",(function(){return Je})),n.d(t,"isShallow",(function(){return We})),n.d(t,"markRaw",(function(){return Ye})),n.d(t,"mergeDefaults",(function(){return _n})),n.d(t,"nextTick",(function(){return Zn})),n.d(t,"onActivated",(function(){return lr})),n.d(t,"onBeforeMount",(function(){return nr})),n.d(t,"onBeforeUnmount",(function(){return sr})),n.d(t,"onBeforeUpdate",(function(){return ir})),n.d(t,"onDeactivated",(function(){return ur})),n.d(t,"onErrorCaptured",(function(){return cr})),n.d(t,"onMounted",(function(){return rr})),n.d(t,"onRenderTracked",(function(){return dr})),n.d(t,"onRenderTriggered",(function(){return pr})),n.d(t,"onScopeDispose",(function(){return Rt})),n.d(t,"onServerPrefetch",(function(){return hr})),n.d(t,"onUnmounted",(function(){return ar})),n.d(t,"onUpdated",(function(){return or})),n.d(t,"provide",(function(){return Ot})),n.d(t,"proxyRefs",(function(){return rt})),n.d(t,"reactive",(function(){return Ue})),n.d(t,"readonly",(function(){return ut})),n.d(t,"ref",(function(){return Ke})),n.d(t,"set",(function(){return Be})),n.d(t,"shallowReactive",(function(){return Ve})),n.d(t,"shallowReadonly",(function(){return pt})),n.d(t,"shallowRef",(function(){return Qe})),n.d(t,"toRaw",(function(){return Xe})),n.d(t,"toRef",(function(){return at})),n.d(t,"toRefs",(function(){return st})),n.d(t,"triggerRef",(function(){return tt})),n.d(t,"unref",(function(){return nt})),n.d(t,"useAttrs",(function(){return bn})),n.d(t,"useCssModule",(function(){return Jn})),n.d(t,"useCssVars",(function(){return Kn})),n.d(t,"useListeners",(function(){return xn})),n.d(t,"useSlots",(function(){return yn})),n.d(t,"version",(function(){return fr})),n.d(t,"watch",(function(){return Mt})),n.d(t,"watchEffect",(function(){return bt})),n.d(t,"watchPostEffect",(function(){return xt})),n.d(t,"watchSyncEffect",(function(){return wt}));
/*!
 * Vue.js v2.7.8
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),i=Array.isArray;function o(e){return void 0===e||null===e}function s(e){return void 0!==e&&null!==e}function a(e){return!0===e}function c(e){return!1===e}function l(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function u(e){return"function"===typeof e}function h(e){return null!==e&&"object"===typeof e}var d=Object.prototype.toString;function p(e){return"[object Object]"===d.call(e)}function f(e){return"[object RegExp]"===d.call(e)}function m(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function g(e){return s(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function v(e){return null==e?"":Array.isArray(e)||p(e)&&e.toString===d?JSON.stringify(e,null,2):String(e)}function y(e){var t=parseFloat(e);return isNaN(t)?e:t}function b(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}b("slot,component",!0);var x=b("key,ref,slot,slot-scope,is");function w(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function S(e,t){return _.call(e,t)}function M(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var T=/-(\w)/g,E=M((function(e){return e.replace(T,(function(e,t){return t?t.toUpperCase():""}))})),C=M((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),A=/\B([A-Z])/g,L=M((function(e){return e.replace(A,"-$1").toLowerCase()}));function R(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function O(e,t){return e.bind(t)}var P=Function.prototype.bind?O:R;function k(e,t){t=t||0;var n=e.length-t,r=new Array(n);while(n--)r[n]=e[n+t];return r}function N(e,t){for(var n in t)e[n]=t[n];return e}function F(e){for(var t={},n=0;n<e.length;n++)e[n]&&N(t,e[n]);return t}function I(e,t,n){}var D=function(e,t,n){return!1},B=function(e){return e};function z(e,t){if(e===t)return!0;var n=h(e),r=h(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,n){return z(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return z(e[n],t[n])}))}catch(c){return!1}}function j(e,t){for(var n=0;n<e.length;n++)if(z(e[n],t))return n;return-1}function U(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function V(e,t){return e===t?0===e&&1/e!==1/t:e===e||t===t}var G="data-server-rendered",H=["component","directive","filter"],W=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:I,parsePlatformTagName:B,mustUseProp:D,async:!0,_lifecycleHooks:W},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function X(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function Y(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var Z=new RegExp("[^".concat(q.source,".$_\\d]"));function J(e){if(!Z.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var K="__proto__"in{},Q="undefined"!==typeof window,ee=Q&&window.navigator.userAgent.toLowerCase(),te=ee&&/msie|trident/.test(ee),ne=ee&&ee.indexOf("msie 9.0")>0,re=ee&&ee.indexOf("edge/")>0;ee&&ee.indexOf("android");var ie=ee&&/iphone|ipad|ipod|ios/.test(ee);ee&&/chrome\/\d+/.test(ee),ee&&/phantomjs/.test(ee);var oe,se=ee&&ee.match(/firefox\/(\d+)/),ae={}.watch,ce=!1;if(Q)try{var le={};Object.defineProperty(le,"passive",{get:function(){ce=!0}}),window.addEventListener("test-passive",null,le)}catch(tc){}var ue=function(){return void 0===oe&&(oe=!Q&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),oe},he=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function de(e){return"function"===typeof e&&/native code/.test(e.toString())}var pe,fe="undefined"!==typeof Symbol&&de(Symbol)&&"undefined"!==typeof Reflect&&de(Reflect.ownKeys);pe="undefined"!==typeof Set&&de(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var me=null;function ge(){return me&&{proxy:me}}function ve(e){void 0===e&&(e=null),e||me&&me._scope.off(),me=e,e&&e._scope.on()}var ye=function(){function e(e,t,n,r,i,o,s,a){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),be=function(e){void 0===e&&(e="");var t=new ye;return t.text=e,t.isComment=!0,t};function xe(e){return new ye(void 0,void 0,void 0,String(e))}function we(e){var t=new ye(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var _e=0,Se=function(){function e(){this.id=_e++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){w(this.subs,e)},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){var t=this.subs.slice();for(var n=0,r=t.length;n<r;n++){t[n].update()}},e}();Se.target=null;var Me=[];function Te(e){Me.push(e),Se.target=e}function Ee(){Me.pop(),Se.target=Me[Me.length-1]}var Ce=Array.prototype,Ae=Object.create(Ce),Le=["push","pop","shift","unshift","splice","sort","reverse"];Le.forEach((function(e){var t=Ce[e];Y(Ae,e,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&s.observeArray(i),s.dep.notify(),o}))}));var Re=Object.getOwnPropertyNames(Ae),Oe={},Pe=!0;function ke(e){Pe=e}var Ne={notify:I,depend:I,addSub:I,removeSub:I},Fe=function(){function e(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.value=e,this.shallow=t,this.mock=n,this.dep=n?Ne:new Se,this.vmCount=0,Y(e,"__ob__",this),i(e)){if(!n)if(K)e.__proto__=Ae;else for(var r=0,o=Re.length;r<o;r++){var s=Re[r];Y(e,s,Ae[s])}t||this.observeArray(e)}else{var a=Object.keys(e);for(r=0;r<a.length;r++){s=a[r];De(e,s,Oe,void 0,t,n)}}}return e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ie(e[t],!1,this.mock)},e}();function Ie(e,t,n){var r;if(!(!h(e)||Je(e)||e instanceof ye))return S(e,"__ob__")&&e.__ob__ instanceof Fe?r=e.__ob__:!Pe||!n&&ue()||!i(e)&&!p(e)||!Object.isExtensible(e)||e.__v_skip||(r=new Fe(e,t,n)),r}function De(e,t,n,r,o,s){var a=new Se,c=Object.getOwnPropertyDescriptor(e,t);if(!c||!1!==c.configurable){var l=c&&c.get,u=c&&c.set;l&&!u||n!==Oe&&2!==arguments.length||(n=e[t]);var h=!o&&Ie(n,!1,s);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=l?l.call(e):n;return Se.target&&(a.depend(),h&&(h.dep.depend(),i(t)&&je(t))),Je(t)&&!o?t.value:t},set:function(t){var r=l?l.call(e):n;if(V(r,t)){if(u)u.call(e,t);else{if(l)return;if(!o&&Je(r)&&!Je(t))return void(r.value=t);n=t}h=!o&&Ie(t,!1,s),a.notify()}}}),a}}function Be(e,t,n){if(!$e(e)){var r=e.__ob__;return i(e)&&m(t)?(e.length=Math.max(e.length,t),e.splice(t,1,n),r&&!r.shallow&&r.mock&&Ie(n,!1,!0),n):t in e&&!(t in Object.prototype)?(e[t]=n,n):e._isVue||r&&r.vmCount?n:r?(De(r.value,t,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(e[t]=n,n)}}function ze(e,t){if(i(e)&&m(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||$e(e)||S(e,t)&&(delete e[t],n&&n.dep.notify())}}function je(e){for(var t=void 0,n=0,r=e.length;n<r;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),i(t)&&je(t)}function Ue(e){return Ge(e,!1),e}function Ve(e){return Ge(e,!0),Y(e,"__v_isShallow",!0),e}function Ge(e,t){if(!$e(e)){Ie(e,t,ue());0}}function He(e){return $e(e)?He(e["__v_raw"]):!(!e||!e.__ob__)}function We(e){return!(!e||!e.__v_isShallow)}function $e(e){return!(!e||!e.__v_isReadonly)}function qe(e){return He(e)||$e(e)}function Xe(e){var t=e&&e["__v_raw"];return t?Xe(t):e}function Ye(e){return Y(e,"__v_skip",!0),e}var Ze="__v_isRef";function Je(e){return!(!e||!0!==e.__v_isRef)}function Ke(e){return et(e,!1)}function Qe(e){return et(e,!0)}function et(e,t){if(Je(e))return e;var n={};return Y(n,Ze,!0),Y(n,"__v_isShallow",t),Y(n,"dep",De(n,"value",e,null,t,ue())),n}function tt(e){e.dep&&e.dep.notify()}function nt(e){return Je(e)?e.value:e}function rt(e){if(He(e))return e;for(var t={},n=Object.keys(e),r=0;r<n.length;r++)it(t,e,n[r]);return t}function it(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];if(Je(e))return e.value;var r=e&&e.__ob__;return r&&r.dep.depend(),e},set:function(e){var r=t[n];Je(r)&&!Je(e)?r.value=e:t[n]=e}})}function ot(e){var t=new Se,n=e((function(){t.depend()}),(function(){t.notify()})),r=n.get,i=n.set,o={get value(){return r()},set value(e){i(e)}};return Y(o,Ze,!0),o}function st(e){var t=i(e)?new Array(e.length):{};for(var n in e)t[n]=at(e,n);return t}function at(e,t,n){var r=e[t];if(Je(r))return r;var i={get value(){var r=e[t];return void 0===r?n:r},set value(n){e[t]=n}};return Y(i,Ze,!0),i}var ct="__v_rawToReadonly",lt="__v_rawToShallowReadonly";function ut(e){return ht(e,!1)}function ht(e,t){if(!p(e))return e;if($e(e))return e;var n=t?lt:ct,r=e[n];if(r)return r;var i=Object.create(Object.getPrototypeOf(e));Y(e,n,i),Y(i,"__v_isReadonly",!0),Y(i,"__v_raw",e),Je(e)&&Y(i,Ze,!0),(t||We(e))&&Y(i,"__v_isShallow",!0);for(var o=Object.keys(e),s=0;s<o.length;s++)dt(i,e,o[s],t);return i}function dt(e,t,n,r){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];return r||!p(e)?e:ut(e)},set:function(){}})}function pt(e){return ht(e,!0)}function ft(e,t){var n,r,i=u(e);i?(n=e,r=I):(n=e.get,r=e.set);var o=ue()?null:new wr(me,n,I,{lazy:!0});var s={effect:o,get value(){return o?(o.dirty&&o.evaluate(),Se.target&&o.depend(),o.value):n()},set value(e){r(e)}};return Y(s,Ze,!0),Y(s,"__v_isReadonly",i),s}var mt="watcher",gt="".concat(mt," callback"),vt="".concat(mt," getter"),yt="".concat(mt," cleanup");function bt(e,t){return Tt(e,null,t)}function xt(e,t){return Tt(e,null,{flush:"post"})}function wt(e,t){return Tt(e,null,{flush:"sync"})}var _t,St={};function Mt(e,t,n){return Tt(e,t,n)}function Tt(e,t,n){var o=void 0===n?r:n,s=o.immediate,a=o.deep,c=o.flush,l=void 0===c?"pre":c;o.onTrack,o.onTrigger;var h,d,p=me,f=function(e,t,n){return void 0===n&&(n=null),Bn(e,null,n,p,t)},m=!1,g=!1;if(Je(e)?(h=function(){return e.value},m=We(e)):He(e)?(h=function(){return e.__ob__.dep.depend(),e},a=!0):i(e)?(g=!0,m=e.some((function(e){return He(e)||We(e)})),h=function(){return e.map((function(e){return Je(e)?e.value:He(e)?vr(e):u(e)?f(e,vt):void 0}))}):h=u(e)?t?function(){return f(e,vt)}:function(){if(!p||!p._isDestroyed)return d&&d(),f(e,mt,[y])}:I,t&&a){var v=h;h=function(){return vr(v())}}var y=function(e){d=b.onStop=function(){f(e,yt)}};if(ue())return y=I,t?s&&f(t,gt,[h(),g?[]:void 0,y]):h(),I;var b=new wr(me,h,I,{lazy:!0});b.noRecurse=!t;var x=g?[]:St;return b.run=function(){if(b.active||"pre"===l&&p&&p._isBeingDestroyed)if(t){var e=b.get();(a||m||(g?e.some((function(e,t){return V(e,x[t])})):V(e,x)))&&(d&&d(),f(t,gt,[e,x===St?void 0:x,y]),x=e)}else b.get()},"sync"===l?b.update=b.run:"post"===l?(b.post=!0,b.update=function(){return Qr(b)}):b.update=function(){if(p&&p===me&&!p._isMounted){var e=p._preWatchers||(p._preWatchers=[]);e.indexOf(b)<0&&e.push(b)}else Qr(b)},t?s?b.run():x=b.get():"post"===l&&p?p.$once("hook:mounted",(function(){return b.get()})):b.get(),function(){b.teardown()}}var Et=function(){function e(e){void 0===e&&(e=!1),this.active=!0,this.effects=[],this.cleanups=[],!e&&_t&&(this.parent=_t,this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=_t;try{return _t=this,e()}finally{_t=t}}else 0},e.prototype.on=function(){_t=this},e.prototype.off=function(){_t=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}},e}();function Ct(e){return new Et(e)}function At(e,t){void 0===t&&(t=_t),t&&t.active&&t.effects.push(e)}function Lt(){return _t}function Rt(e){_t&&_t.cleanups.push(e)}function Ot(e,t){me&&(Pt(me)[e]=t)}function Pt(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}function kt(e,t,n){void 0===n&&(n=!1);var r=me;if(r){var i=r.$parent&&r.$parent._provided;if(i&&e in i)return i[e];if(arguments.length>1)return n&&u(t)?t.call(r):t}else 0}var Nt=M((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var r="!"===e.charAt(0);return e=r?e.slice(1):e,{name:e,once:n,capture:r,passive:t}}));function Ft(e,t){function n(){var e=n.fns;if(!i(e))return Bn(e,null,arguments,t,"v-on handler");for(var r=e.slice(),o=0;o<r.length;o++)Bn(r[o],null,arguments,t,"v-on handler")}return n.fns=e,n}function It(e,t,n,r,i,s){var c,l,u,h;for(c in e)l=e[c],u=t[c],h=Nt(c),o(l)||(o(u)?(o(l.fns)&&(l=e[c]=Ft(l,s)),a(h.once)&&(l=e[c]=i(h.name,l,h.capture)),n(h.name,l,h.capture,h.passive,h.params)):l!==u&&(u.fns=l,e[c]=u));for(c in t)o(e[c])&&(h=Nt(c),r(h.name,t[c],h.capture))}function Dt(e,t,n){var r;e instanceof ye&&(e=e.data.hook||(e.data.hook={}));var i=e[t];function c(){n.apply(this,arguments),w(r.fns,c)}o(i)?r=Ft([c]):s(i.fns)&&a(i.merged)?(r=i,r.fns.push(c)):r=Ft([i,c]),r.merged=!0,e[t]=r}function Bt(e,t,n){var r=t.options.props;if(!o(r)){var i={},a=e.attrs,c=e.props;if(s(a)||s(c))for(var l in r){var u=L(l);zt(i,c,l,u,!0)||zt(i,a,l,u,!1)}return i}}function zt(e,t,n,r,i){if(s(t)){if(S(t,n))return e[n]=t[n],i||delete t[n],!0;if(S(t,r))return e[n]=t[r],i||delete t[r],!0}return!1}function jt(e){for(var t=0;t<e.length;t++)if(i(e[t]))return Array.prototype.concat.apply([],e);return e}function Ut(e){return l(e)?[xe(e)]:i(e)?Gt(e):void 0}function Vt(e){return s(e)&&s(e.text)&&c(e.isComment)}function Gt(e,t){var n,r,c,u,h=[];for(n=0;n<e.length;n++)r=e[n],o(r)||"boolean"===typeof r||(c=h.length-1,u=h[c],i(r)?r.length>0&&(r=Gt(r,"".concat(t||"","_").concat(n)),Vt(r[0])&&Vt(u)&&(h[c]=xe(u.text+r[0].text),r.shift()),h.push.apply(h,r)):l(r)?Vt(u)?h[c]=xe(u.text+r):""!==r&&h.push(xe(r)):Vt(r)&&Vt(u)?h[c]=xe(u.text+r.text):(a(e._isVList)&&s(r.tag)&&o(r.key)&&s(t)&&(r.key="__vlist".concat(t,"_").concat(n,"__")),h.push(r)));return h}function Ht(e,t){var n,r,o,a,c=null;if(i(e)||"string"===typeof e)for(c=new Array(e.length),n=0,r=e.length;n<r;n++)c[n]=t(e[n],n);else if("number"===typeof e)for(c=new Array(e),n=0;n<e;n++)c[n]=t(n+1,n);else if(h(e))if(fe&&e[Symbol.iterator]){c=[];var l=e[Symbol.iterator](),u=l.next();while(!u.done)c.push(t(u.value,c.length)),u=l.next()}else for(o=Object.keys(e),c=new Array(o.length),n=0,r=o.length;n<r;n++)a=o[n],c[n]=t(e[a],a,n);return s(c)||(c=[]),c._isVList=!0,c}function Wt(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=N(N({},r),n)),i=o(n)||(u(t)?t():t)):i=this.$slots[e]||(u(t)?t():t);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function $t(e){return Ci(this.$options,"filters",e,!0)||B}function qt(e,t){return i(e)?-1===e.indexOf(t):e!==t}function Xt(e,t,n,r,i){var o=$.keyCodes[t]||n;return i&&r&&!$.keyCodes[t]?qt(i,r):o?qt(o,e):r?L(r)!==t:void 0===e}function Yt(e,t,n,r,o){if(n)if(h(n)){i(n)&&(n=F(n));var s=void 0,a=function(i){if("class"===i||"style"===i||x(i))s=e;else{var a=e.attrs&&e.attrs.type;s=r||$.mustUseProp(t,a,i)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=E(i),l=L(i);if(!(c in s)&&!(l in s)&&(s[i]=n[i],o)){var u=e.on||(e.on={});u["update:".concat(i)]=function(e){n[i]=e}}};for(var c in n)a(c)}else;return e}function Zt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),Kt(r,"__static__".concat(e),!1)),r}function Jt(e,t,n){return Kt(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function Kt(e,t,n){if(i(e))for(var r=0;r<e.length;r++)e[r]&&"string"!==typeof e[r]&&Qt(e[r],"".concat(t,"_").concat(r),n);else Qt(e,t,n)}function Qt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function en(e,t){if(t)if(p(t)){var n=e.on=e.on?N({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function tn(e,t,n,r){t=t||{$stable:!n};for(var o=0;o<e.length;o++){var s=e[o];i(s)?tn(s,t,n):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return r&&(t.$key=r),t}function nn(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function rn(e,t){return"string"===typeof e?t+e:e}function on(e){e._o=Jt,e._n=y,e._s=v,e._l=Ht,e._t=Wt,e._q=z,e._i=j,e._m=Zt,e._f=$t,e._k=Xt,e._b=Yt,e._v=xe,e._e=be,e._u=tn,e._g=en,e._d=nn,e._p=rn}function sn(e,t){if(!e||!e.length)return{};for(var n={},r=0,i=e.length;r<i;r++){var o=e[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in n)n[l].every(an)&&delete n[l];return n}function an(e){return e.isComment&&!e.asyncFactory||" "===e.text}function cn(e){return e.isComment&&e.asyncFactory}function ln(e,t,n,i){var o,s=Object.keys(n).length>0,a=t?!!t.$stable:!s,c=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&i&&i!==r&&c===i.$key&&!s&&!i.$hasNormal)return i;for(var l in o={},t)t[l]&&"$"!==l[0]&&(o[l]=un(e,n,l,t[l]))}else o={};for(var u in n)u in o||(o[u]=hn(n,u));return t&&Object.isExtensible(t)&&(t._normalized=o),Y(o,"$stable",a),Y(o,"$key",c),Y(o,"$hasNormal",s),o}function un(e,t,n,r){var o=function(){var t=me;ve(e);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!i(n)?[n]:Ut(n);var o=n&&n[0];return ve(t),n&&(!o||1===n.length&&o.isComment&&!cn(o))?void 0:n};return r.proxy&&Object.defineProperty(t,n,{get:o,enumerable:!0,configurable:!0}),o}function hn(e,t){return function(){return e[t]}}function dn(e){var t=e.$options,n=t.setup;if(n){var r=e._setupContext=pn(e);ve(e),Te();var i=Bn(n,null,[e._props||Ve({}),r],e,"setup");if(Ee(),ve(),u(i))t.render=i;else if(h(i))if(e._setupState=i,i.__sfc){var o=e._setupProxy={};for(var s in i)"__sfc"!==s&&it(o,i,s)}else for(var s in i)X(s)||it(e,i,s);else 0}}function pn(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};Y(t,"_v_attr_proxy",!0),fn(t,e.$attrs,r,e,"$attrs")}return e._attrsProxy},get listeners(){if(!e._listenersProxy){var t=e._listenersProxy={};fn(t,e.$listeners,r,e,"$listeners")}return e._listenersProxy},get slots(){return gn(e)},emit:P(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return it(e,t,n)}))}}}function fn(e,t,n,r,i){var o=!1;for(var s in t)s in e?t[s]!==n[s]&&(o=!0):(o=!0,mn(e,s,r,i));for(var s in e)s in t||(o=!0,delete e[s]);return o}function mn(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[r][t]}})}function gn(e){return e._slotsProxy||vn(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function vn(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}function yn(){return wn().slots}function bn(){return wn().attrs}function xn(){return wn().listeners}function wn(){var e=me;return e._setupContext||(e._setupContext=pn(e))}function _n(e,t){var n=i(e)?e.reduce((function(e,t){return e[t]={},e}),{}):e;for(var r in t){var o=n[r];o?i(o)||u(o)?n[r]={type:o,default:t[r]}:o.default=t[r]:null===o&&(n[r]={default:t[r]})}return n}function Sn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=sn(t._renderChildren,i),e.$scopedSlots=n?ln(e.$parent,n.data.scopedSlots,e.$slots):r,e._c=function(t,n,r,i){return Pn(e,t,n,r,i,!1)},e.$createElement=function(t,n,r,i){return Pn(e,t,n,r,i,!0)};var o=n&&n.data;De(e,"$attrs",o&&o.attrs||r,null,!0),De(e,"$listeners",t._parentListeners||r,null,!0)}var Mn=null;function Tn(e){on(e.prototype),e.prototype.$nextTick=function(e){return Zn(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,r=n.render,o=n._parentVnode;o&&t._isMounted&&(t.$scopedSlots=ln(t.$parent,o.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&vn(t._slotsProxy,t.$scopedSlots)),t.$vnode=o;try{ve(t),Mn=t,e=r.call(t._renderProxy,t.$createElement)}catch(tc){Dn(tc,t,"render"),e=t._vnode}finally{Mn=null,ve()}return i(e)&&1===e.length&&(e=e[0]),e instanceof ye||(e=be()),e.parent=o,e}}function En(e,t){return(e.__esModule||fe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),h(e)?t.extend(e):e}function Cn(e,t,n,r,i){var o=be();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}function An(e,t){if(a(e.error)&&s(e.errorComp))return e.errorComp;if(s(e.resolved))return e.resolved;var n=Mn;if(n&&s(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),a(e.loading)&&s(e.loadingComp))return e.loadingComp;if(n&&!s(e.owners)){var r=e.owners=[n],i=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return w(r,n)}));var u=function(e){for(var t=0,n=r.length;t<n;t++)r[t].$forceUpdate();e&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},d=U((function(n){e.resolved=En(n,t),i?r.length=0:u(!0)})),p=U((function(t){s(e.errorComp)&&(e.error=!0,u(!0))})),f=e(d,p);return h(f)&&(g(f)?o(e.resolved)&&f.then(d,p):g(f.component)&&(f.component.then(d,p),s(f.error)&&(e.errorComp=En(f.error,t)),s(f.loading)&&(e.loadingComp=En(f.loading,t),0===f.delay?e.loading=!0:c=setTimeout((function(){c=null,o(e.resolved)&&o(e.error)&&(e.loading=!0,u(!1))}),f.delay||200)),s(f.timeout)&&(l=setTimeout((function(){l=null,o(e.resolved)&&p(null)}),f.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}function Ln(e){if(i(e))for(var t=0;t<e.length;t++){var n=e[t];if(s(n)&&(s(n.componentOptions)||cn(n)))return n}}var Rn=1,On=2;function Pn(e,t,n,r,o,s){return(i(n)||l(n))&&(o=r,r=n,n=void 0),a(s)&&(o=On),kn(e,t,n,r,o)}function kn(e,t,n,r,o){if(s(n)&&s(n.__ob__))return be();if(s(n)&&s(n.is)&&(t=n.is),!t)return be();var a,c;if(i(r)&&u(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===On?r=Ut(r):o===Rn&&(r=jt(r)),"string"===typeof t){var l=void 0;c=e.$vnode&&e.$vnode.ns||$.getTagNamespace(t),a=$.isReservedTag(t)?new ye($.parsePlatformTagName(t),n,r,void 0,void 0,e):n&&n.pre||!s(l=Ci(e.$options,"components",t))?new ye(t,n,r,void 0,void 0,e):ui(l,n,e,r,t)}else a=ui(t,n,e,r);return i(a)?a:s(a)?(s(c)&&Nn(a,c),s(n)&&Fn(n),a):be()}function Nn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),s(e.children))for(var r=0,i=e.children.length;r<i;r++){var c=e.children[r];s(c.tag)&&(o(c.ns)||a(n)&&"svg"!==c.tag)&&Nn(c,t,n)}}function Fn(e){h(e.style)&&vr(e.style),h(e.class)&&vr(e.class)}function In(e,t,n){return Pn(me,e,t,n,2,!0)}function Dn(e,t,n){Te();try{if(t){var r=t;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,e,t,n);if(s)return}catch(tc){zn(tc,r,"errorCaptured hook")}}}zn(e,t,n)}finally{Ee()}}function Bn(e,t,n,r,i){var o;try{o=n?e.apply(t,n):e.call(t),o&&!o._isVue&&g(o)&&!o._handled&&(o.catch((function(e){return Dn(e,r,i+" (Promise/async)")})),o._handled=!0)}catch(tc){Dn(tc,r,i)}return o}function zn(e,t,n){if($.errorHandler)try{return $.errorHandler.call(null,e,t,n)}catch(tc){tc!==e&&jn(tc,null,"config.errorHandler")}jn(e,t,n)}function jn(e,t,n){if(!Q||"undefined"===typeof console)throw e;console.error(e)}var Un,Vn=!1,Gn=[],Hn=!1;function Wn(){Hn=!1;var e=Gn.slice(0);Gn.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&de(Promise)){var $n=Promise.resolve();Un=function(){$n.then(Wn),ie&&setTimeout(I)},Vn=!0}else if(te||"undefined"===typeof MutationObserver||!de(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Un="undefined"!==typeof setImmediate&&de(setImmediate)?function(){setImmediate(Wn)}:function(){setTimeout(Wn,0)};else{var qn=1,Xn=new MutationObserver(Wn),Yn=document.createTextNode(String(qn));Xn.observe(Yn,{characterData:!0}),Un=function(){qn=(qn+1)%2,Yn.data=String(qn)},Vn=!0}function Zn(e,t){var n;if(Gn.push((function(){if(e)try{e.call(t)}catch(tc){Dn(tc,t,"nextTick")}else n&&n(t)})),Hn||(Hn=!0,Un()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}function Jn(e){if(void 0===e&&(e="$style"),!me)return r;var t=me[e];return t||r}function Kn(e){if(Q){var t=me;t&&xt((function(){var n=t.$el,r=e(t,t._setupProxy);if(n&&1===n.nodeType){var i=n.style;for(var o in r)i.setProperty("--".concat(o),r[o])}}))}}function Qn(e){u(e)&&(e={loader:e});var t=e.loader,n=e.loadingComponent,r=e.errorComponent,i=e.delay,o=void 0===i?200:i,s=e.timeout,a=(e.suspensible,e.onError);var c=null,l=0,h=function(){return l++,c=null,d()},d=function(){var e;return c||(e=c=t().catch((function(e){if(e=e instanceof Error?e:new Error(String(e)),a)return new Promise((function(t,n){var r=function(){return t(h())},i=function(){return n(e)};a(e,r,i,l+1)}));throw e})).then((function(t){return e!==c&&c?c:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),t)})))};return function(){var e=d();return{component:e,delay:o,timeout:s,error:r,loading:n}}}function er(e){return function(t,n){if(void 0===n&&(n=me),n)return tr(n,e,t)}}function tr(e,t,n){var r=e.$options;r[t]=bi(r[t],n)}var nr=er("beforeMount"),rr=er("mounted"),ir=er("beforeUpdate"),or=er("updated"),sr=er("beforeDestroy"),ar=er("destroyed"),cr=er("errorCaptured"),lr=er("activated"),ur=er("deactivated"),hr=er("serverPrefetch"),dr=er("renderTracked"),pr=er("renderTriggered"),fr="2.7.8";function mr(e){return e}var gr=new pe;function vr(e){return yr(e,gr),gr.clear(),e}function yr(e,t){var n,r,o=i(e);if(!(!o&&!h(e)||Object.isFrozen(e)||e instanceof ye)){if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(o){n=e.length;while(n--)yr(e[n],t)}else if(Je(e))yr(e.value,t);else{r=Object.keys(e),n=r.length;while(n--)yr(e[r[n]],t)}}}var br,xr=0,wr=function(){function e(e,t,n,r,i){At(this,_t||(e?e._scope:void 0)),(this.vm=e)&&i&&(e._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++xr,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pe,this.newDepIds=new pe,this.expression="",u(t)?this.getter=t:(this.getter=J(t),this.getter||(this.getter=I)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;Te(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(tc){if(!this.user)throw tc;Dn(tc,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&vr(e),Ee(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Qr(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||h(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');Bn(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function _r(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Er(e,t)}function Sr(e,t){br.$on(e,t)}function Mr(e,t){br.$off(e,t)}function Tr(e,t){var n=br;return function r(){var i=t.apply(null,arguments);null!==i&&n.$off(e,r)}}function Er(e,t,n){br=e,It(t,n||{},Sr,Mr,Tr,e),br=void 0}function Cr(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(i(e))for(var o=0,s=e.length;o<s;o++)r.$on(e[o],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(i(e)){for(var r=0,o=e.length;r<o;r++)n.$off(e[r],t);return n}var s,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;var c=a.length;while(c--)if(s=a[c],s===t||s.fn===t){a.splice(c,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?k(n):n;for(var r=k(arguments,1),i='event handler for "'.concat(e,'"'),o=0,s=n.length;o<s;o++)Bn(n[o],t,r,t,i)}return t}}var Ar=null;function Lr(e){var t=Ar;return Ar=e,function(){Ar=t}}function Rr(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._provided=n?n._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Or(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=Lr(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Dr(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||w(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Dr(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Pr(e,t,n){var r;e.$el=t,e.$options.render||(e.$options.render=be),Dr(e,"beforeMount"),r=function(){e._update(e._render(),n)};var i={before:function(){e._isMounted&&!e._isDestroyed&&Dr(e,"beforeUpdate")}};new wr(e,r,I,i,!0),n=!1;var o=e._preWatchers;if(o)for(var s=0;s<o.length;s++)o[s].run();return null==e.$vnode&&(e._isMounted=!0,Dr(e,"mounted")),e}function kr(e,t,n,i,o){var s=i.data.scopedSlots,a=e.$scopedSlots,c=!!(s&&!s.$stable||a!==r&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key||!s&&e.$scopedSlots.$key),l=!!(o||e.$options._renderChildren||c),u=e.$vnode;e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o;var h=i.data.attrs||r;e._attrsProxy&&fn(e._attrsProxy,h,u.data&&u.data.attrs||r,e,"$attrs")&&(l=!0),e.$attrs=h,n=n||r;var d=e.$options._parentListeners;if(e._listenersProxy&&fn(e._listenersProxy,n,d||r,e,"$listeners"),e.$listeners=e.$options._parentListeners=n,Er(e,n,d),t&&e.$options.props){ke(!1);for(var p=e._props,f=e.$options._propKeys||[],m=0;m<f.length;m++){var g=f[m],v=e.$options.props;p[g]=Ai(g,v,t,e)}ke(!0),e.$options.propsData=t}l&&(e.$slots=sn(o,i.context),e.$forceUpdate())}function Nr(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Fr(e,t){if(t){if(e._directInactive=!1,Nr(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Fr(e.$children[n]);Dr(e,"activated")}}function Ir(e,t){if((!t||(e._directInactive=!0,!Nr(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Ir(e.$children[n]);Dr(e,"deactivated")}}function Dr(e,t,n,r){void 0===r&&(r=!0),Te();var i=me;r&&ve(e);var o=e.$options[t],s="".concat(t," hook");if(o)for(var a=0,c=o.length;a<c;a++)Bn(o[a],e,n||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),r&&ve(i),Ee()}var Br=[],zr=[],jr={},Ur=!1,Vr=!1,Gr=0;function Hr(){Gr=Br.length=zr.length=0,jr={},Ur=Vr=!1}var Wr=0,$r=Date.now;if(Q&&!te){var qr=window.performance;qr&&"function"===typeof qr.now&&$r()>document.createEvent("Event").timeStamp&&($r=function(){return qr.now()})}var Xr=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Yr(){var e,t;for(Wr=$r(),Vr=!0,Br.sort(Xr),Gr=0;Gr<Br.length;Gr++)e=Br[Gr],e.before&&e.before(),t=e.id,jr[t]=null,e.run();var n=zr.slice(),r=Br.slice();Hr(),Kr(n),Zr(r),he&&$.devtools&&he.emit("flush")}function Zr(e){var t=e.length;while(t--){var n=e[t],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&Dr(r,"updated")}}function Jr(e){e._inactive=!1,zr.push(e)}function Kr(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Fr(e[t],!0)}function Qr(e){var t=e.id;if(null==jr[t]&&(e!==Se.target||!e.noRecurse)){if(jr[t]=!0,Vr){var n=Br.length-1;while(n>Gr&&Br[n].id>e.id)n--;Br.splice(n+1,0,e)}else Br.push(e);Ur||(Ur=!0,Zn(Yr))}}function ei(e){var t=e.$options.provide;if(t){var n=u(t)?t.call(e):t;if(!h(n))return;for(var r=Pt(e),i=fe?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var s=i[o];Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}}}function ti(e){var t=ni(e.$options.inject,e);t&&(ke(!1),Object.keys(t).forEach((function(n){De(e,n,t[n])})),ke(!0))}function ni(e,t){if(e){for(var n=Object.create(null),r=fe?Reflect.ownKeys(e):Object.keys(e),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var s=e[o].from;if(s in t._provided)n[o]=t._provided[s];else if("default"in e[o]){var a=e[o].default;n[o]=u(a)?a.call(t):a}else 0}}return n}}function ri(e,t,n,o,s){var c,l=this,u=s.options;S(o,"_uid")?(c=Object.create(o),c._original=o):(c=o,o=o._original);var h=a(u._compiled),d=!h;this.data=e,this.props=t,this.children=n,this.parent=o,this.listeners=e.on||r,this.injections=ni(u.inject,o),this.slots=function(){return l.$slots||ln(o,e.scopedSlots,l.$slots=sn(n,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ln(o,e.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=ln(o,e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,n,r){var s=Pn(c,e,t,n,r,d);return s&&!i(s)&&(s.fnScopeId=u._scopeId,s.fnContext=o),s}:this._c=function(e,t,n,r){return Pn(c,e,t,n,r,d)}}function ii(e,t,n,o,a){var c=e.options,l={},u=c.props;if(s(u))for(var h in u)l[h]=Ai(h,u,t||r);else s(n.attrs)&&si(l,n.attrs),s(n.props)&&si(l,n.props);var d=new ri(n,l,a,o,e),p=c.render.call(null,d._c,d);if(p instanceof ye)return oi(p,n,d.parent,c,d);if(i(p)){for(var f=Ut(p)||[],m=new Array(f.length),g=0;g<f.length;g++)m[g]=oi(f[g],n,d.parent,c,d);return m}}function oi(e,t,n,r,i){var o=we(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function si(e,t){for(var n in t)e[E(n)]=t[n]}function ai(e){return e.name||e.__name||e._componentTag}on(ri.prototype);var ci={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;ci.prepatch(n,n)}else{var r=e.componentInstance=hi(e,Ar);r.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,r=t.componentInstance=e.componentInstance;kr(r,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Dr(n,"mounted")),e.data.keepAlive&&(t._isMounted?Jr(n):Fr(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Ir(t,!0):t.$destroy())}},li=Object.keys(ci);function ui(e,t,n,r,i){if(!o(e)){var c=n.$options._base;if(h(e)&&(e=c.extend(e)),"function"===typeof e){var l;if(o(e.cid)&&(l=e,e=An(l,c),void 0===e))return Cn(l,t,n,r,i);t=t||{},Ki(e),s(t.model)&&fi(e.options,t);var u=Bt(t,e,i);if(a(e.options.functional))return ii(e,u,t,n,r);var d=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}di(t);var f=ai(e.options)||i,m=new ye("vue-component-".concat(e.cid).concat(f?"-".concat(f):""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:u,listeners:d,tag:i,children:r},l);return m}}}function hi(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},r=e.data.inlineTemplate;return s(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new e.componentOptions.Ctor(n)}function di(e){for(var t=e.hook||(e.hook={}),n=0;n<li.length;n++){var r=li[n],i=t[r],o=ci[r];i===o||i&&i._merged||(t[r]=i?pi(o,i):o)}}function pi(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}function fi(e,t){var n=e.model&&e.model.prop||"value",r=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var o=t.on||(t.on={}),a=o[r],c=t.model.callback;s(a)?(i(a)?-1===a.indexOf(c):a!==c)&&(o[r]=[c].concat(a)):o[r]=c}var mi=I,gi=$.optionMergeStrategies;function vi(e,t){if(!t)return e;for(var n,r,i,o=fe?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],"__ob__"!==n&&(r=e[n],i=t[n],S(e,n)?r!==i&&p(r)&&p(i)&&vi(r,i):Be(e,n,i));return e}function yi(e,t,n){return n?function(){var r=u(t)?t.call(n,n):t,i=u(e)?e.call(n,n):e;return r?vi(r,i):i}:t?e?function(){return vi(u(t)?t.call(this,this):t,u(e)?e.call(this,this):e)}:t:e}function bi(e,t){var n=t?e?e.concat(t):i(t)?t:[t]:e;return n?xi(n):n}function xi(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function wi(e,t,n,r){var i=Object.create(e||null);return t?N(i,t):i}gi.data=function(e,t,n){return n?yi(e,t,n):t&&"function"!==typeof t?e:yi(e,t)},W.forEach((function(e){gi[e]=bi})),H.forEach((function(e){gi[e+"s"]=wi})),gi.watch=function(e,t,n,r){if(e===ae&&(e=void 0),t===ae&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};for(var s in N(o,e),t){var a=o[s],c=t[s];a&&!i(a)&&(a=[a]),o[s]=a?a.concat(c):i(c)?c:[c]}return o},gi.props=gi.methods=gi.inject=gi.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return N(i,e),t&&N(i,t),i},gi.provide=yi;var _i=function(e,t){return void 0===t?e:t};function Si(e,t){var n=e.props;if(n){var r,o,s,a={};if(i(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(s=E(o),a[s]={type:null})}else if(p(n))for(var c in n)o=n[c],s=E(c),a[s]=p(o)?o:{type:o};else 0;e.props=a}}function Mi(e,t){var n=e.inject;if(n){var r=e.inject={};if(i(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(p(n))for(var s in n){var a=n[s];r[s]=p(a)?N({from:s},a):{from:a}}else 0}}function Ti(e){var t=e.directives;if(t)for(var n in t){var r=t[n];u(r)&&(t[n]={bind:r,update:r})}}function Ei(e,t,n){if(u(t)&&(t=t.options),Si(t,n),Mi(t,n),Ti(t),!t._base&&(t.extends&&(e=Ei(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Ei(e,t.mixins[r],n);var o,s={};for(o in e)a(o);for(o in t)S(e,o)||a(o);function a(r){var i=gi[r]||_i;s[r]=i(e[r],t[r],n,r)}return s}function Ci(e,t,n,r){if("string"===typeof n){var i=e[t];if(S(i,n))return i[n];var o=E(n);if(S(i,o))return i[o];var s=C(o);if(S(i,s))return i[s];var a=i[n]||i[o]||i[s];return a}}function Ai(e,t,n,r){var i=t[e],o=!S(n,e),s=n[e],a=ki(Boolean,i.type);if(a>-1)if(o&&!S(i,"default"))s=!1;else if(""===s||s===L(e)){var c=ki(String,i.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=Li(r,i,e);var l=Pe;ke(!0),Ie(s),ke(l)}return s}function Li(e,t,n){if(S(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:u(r)&&"Function"!==Oi(t.type)?r.call(e):r}}var Ri=/^\s*function (\w+)/;function Oi(e){var t=e&&e.toString().match(Ri);return t?t[1]:""}function Pi(e,t){return Oi(e)===Oi(t)}function ki(e,t){if(!i(t))return Pi(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Pi(t[n],e))return n;return-1}var Ni={enumerable:!0,configurable:!0,get:I,set:I};function Fi(e,t,n){Ni.get=function(){return this[t][n]},Ni.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Ni)}function Ii(e){var t=e.$options;if(t.props&&Di(e,t.props),dn(e),t.methods&&Wi(e,t.methods),t.data)Bi(e);else{var n=Ie(e._data={});n&&n.vmCount++}t.computed&&Ui(e,t.computed),t.watch&&t.watch!==ae&&$i(e,t.watch)}function Di(e,t){var n=e.$options.propsData||{},r=e._props=Ve({}),i=e.$options._propKeys=[],o=!e.$parent;o||ke(!1);var s=function(o){i.push(o);var s=Ai(o,t,n,e);De(r,o,s),o in e||Fi(e,"_props",o)};for(var a in t)s(a);ke(!0)}function Bi(e){var t=e.$options.data;t=e._data=u(t)?zi(t,e):t||{},p(t)||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);while(i--){var o=n[i];0,r&&S(r,o)||X(o)||Fi(e,"_data",o)}var s=Ie(t);s&&s.vmCount++}function zi(e,t){Te();try{return e.call(t,t)}catch(tc){return Dn(tc,t,"data()"),{}}finally{Ee()}}var ji={lazy:!0};function Ui(e,t){var n=e._computedWatchers=Object.create(null),r=ue();for(var i in t){var o=t[i],s=u(o)?o:o.get;0,r||(n[i]=new wr(e,s||I,I,ji)),i in e||Vi(e,i,o)}}function Vi(e,t,n){var r=!ue();u(n)?(Ni.get=r?Gi(t):Hi(n),Ni.set=I):(Ni.get=n.get?r&&!1!==n.cache?Gi(t):Hi(n.get):I,Ni.set=n.set||I),Object.defineProperty(e,t,Ni)}function Gi(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Se.target&&t.depend(),t.value}}function Hi(e){return function(){return e.call(this,this)}}function Wi(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?I:P(t[n],e)}function $i(e,t){for(var n in t){var r=t[n];if(i(r))for(var o=0;o<r.length;o++)qi(e,n,r[o]);else qi(e,n,r)}}function qi(e,t,n,r){return p(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,r)}function Xi(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Be,e.prototype.$delete=ze,e.prototype.$watch=function(e,t,n){var r=this;if(p(t))return qi(r,e,t,n);n=n||{},n.user=!0;var i=new wr(r,e,t,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');Te(),Bn(t,r,[i.value],r,o),Ee()}return function(){i.teardown()}}}var Yi=0;function Zi(e){e.prototype._init=function(e){var t=this;t._uid=Yi++,t._isVue=!0,t.__v_skip=!0,t._scope=new Et(!0),e&&e._isComponent?Ji(t,e):t.$options=Ei(Ki(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Rr(t),_r(t),Sn(t),Dr(t,"beforeCreate",void 0,!1),ti(t),Ii(t),ei(t),Dr(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function Ji(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function Ki(e){var t=e.options;if(e.super){var n=Ki(e.super),r=e.superOptions;if(n!==r){e.superOptions=n;var i=Qi(e);i&&N(e.extendOptions,i),t=e.options=Ei(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Qi(e){var t,n=e.options,r=e.sealedOptions;for(var i in n)n[i]!==r[i]&&(t||(t={}),t[i]=n[i]);return t}function eo(e){this._init(e)}function to(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=k(arguments,1);return n.unshift(this),u(e.install)?e.install.apply(e,n):u(e)&&e.apply(null,n),t.push(e),this}}function no(e){e.mixin=function(e){return this.options=Ei(this.options,e),this}}function ro(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=ai(e)||ai(n.options);var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=Ei(n.options,e),s["super"]=n,s.options.props&&io(s),s.options.computed&&oo(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,H.forEach((function(e){s[e]=n[e]})),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=N({},s.options),i[r]=s,s}}function io(e){var t=e.options.props;for(var n in t)Fi(e.prototype,"_props",n)}function oo(e){var t=e.options.computed;for(var n in t)Vi(e.prototype,n,t[n])}function so(e){H.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&p(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&u(n)&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function ao(e){return e&&(ai(e.Ctor.options)||e.tag)}function co(e,t){return i(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!f(e)&&e.test(t)}function lo(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var s=n[o];if(s){var a=s.name;a&&!t(a)&&uo(n,o,r,i)}}}function uo(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,w(n,t)}Zi(eo),Xi(eo),Cr(eo),Or(eo),Tn(eo);var ho=[String,RegExp,Array],po={name:"keep-alive",abstract:!0,props:{include:ho,exclude:ho,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,r=e.vnodeToCache,i=e.keyToCache;if(r){var o=r.tag,s=r.componentInstance,a=r.componentOptions;t[i]={name:ao(a),tag:o,componentInstance:s},n.push(i),this.max&&n.length>parseInt(this.max)&&uo(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)uo(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){lo(e,(function(e){return co(t,e)}))})),this.$watch("exclude",(function(t){lo(e,(function(e){return!co(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Ln(e),n=t&&t.componentOptions;if(n){var r=ao(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!co(o,r))||s&&r&&co(s,r))return t;var a=this,c=a.cache,l=a.keys,u=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;c[u]?(t.componentInstance=c[u].componentInstance,w(l,u),l.push(u)):(this.vnodeToCache=t,this.keyToCache=u),t.data.keepAlive=!0}return t||e&&e[0]}},fo={KeepAlive:po};function mo(e){var t={get:function(){return $}};Object.defineProperty(e,"config",t),e.util={warn:mi,extend:N,mergeOptions:Ei,defineReactive:De},e.set=Be,e.delete=ze,e.nextTick=Zn,e.observable=function(e){return Ie(e),e},e.options=Object.create(null),H.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,N(e.options.components,fo),to(e),no(e),ro(e),so(e)}mo(eo),Object.defineProperty(eo.prototype,"$isServer",{get:ue}),Object.defineProperty(eo.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(eo,"FunctionalRenderContext",{value:ri}),eo.version=fr;var go=b("style,class"),vo=b("input,textarea,option,select,progress"),yo=function(e,t,n){return"value"===n&&vo(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},bo=b("contenteditable,draggable,spellcheck"),xo=b("events,caret,typing,plaintext-only"),wo=function(e,t){return Eo(t)||"false"===t?"false":"contenteditable"===e&&xo(t)?t:"true"},_o=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),So="http://www.w3.org/1999/xlink",Mo=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},To=function(e){return Mo(e)?e.slice(6,e.length):""},Eo=function(e){return null==e||!1===e};function Co(e){var t=e.data,n=e,r=e;while(s(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(t=Ao(r.data,t));while(s(n=n.parent))n&&n.data&&(t=Ao(t,n.data));return Lo(t.staticClass,t.class)}function Ao(e,t){return{staticClass:Ro(e.staticClass,t.staticClass),class:s(e.class)?[e.class,t.class]:t.class}}function Lo(e,t){return s(e)||s(t)?Ro(e,Oo(t)):""}function Ro(e,t){return e?t?e+" "+t:e:t||""}function Oo(e){return Array.isArray(e)?Po(e):h(e)?ko(e):"string"===typeof e?e:""}function Po(e){for(var t,n="",r=0,i=e.length;r<i;r++)s(t=Oo(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function ko(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var No={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Fo=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Io=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Do=function(e){return Fo(e)||Io(e)};function Bo(e){return Io(e)?"svg":"math"===e?"math":void 0}var zo=Object.create(null);function jo(e){if(!Q)return!0;if(Do(e))return!1;if(e=e.toLowerCase(),null!=zo[e])return zo[e];var t=document.createElement(e);return e.indexOf("-")>-1?zo[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:zo[e]=/HTMLUnknownElement/.test(t.toString())}var Uo=b("text,number,password,search,email,tel,url");function Vo(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Go(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Ho(e,t){return document.createElementNS(No[e],t)}function Wo(e){return document.createTextNode(e)}function $o(e){return document.createComment(e)}function qo(e,t,n){e.insertBefore(t,n)}function Xo(e,t){e.removeChild(t)}function Yo(e,t){e.appendChild(t)}function Zo(e){return e.parentNode}function Jo(e){return e.nextSibling}function Ko(e){return e.tagName}function Qo(e,t){e.textContent=t}function es(e,t){e.setAttribute(t,"")}var ts=Object.freeze({__proto__:null,createElement:Go,createElementNS:Ho,createTextNode:Wo,createComment:$o,insertBefore:qo,removeChild:Xo,appendChild:Yo,parentNode:Zo,nextSibling:Jo,tagName:Ko,setTextContent:Qo,setStyleScope:es}),ns={create:function(e,t){rs(t)},update:function(e,t){e.data.ref!==t.data.ref&&(rs(e,!0),rs(t))},destroy:function(e){rs(e,!0)}};function rs(e,t){var n=e.data.ref;if(s(n)){var r=e.context,o=e.componentInstance||e.elm,a=t?null:o,c=t?void 0:o;if(u(n))Bn(n,r,[a],r,"template ref function");else{var l=e.data.refInFor,h="string"===typeof n||"number"===typeof n,d=Je(n),p=r.$refs;if(h||d)if(l){var f=h?p[n]:n.value;t?i(f)&&w(f,o):i(f)?f.includes(o)||f.push(o):h?(p[n]=[o],is(r,n,p[n])):n.value=[o]}else if(h){if(t&&p[n]!==o)return;p[n]=c,is(r,n,a)}else if(d){if(t&&n.value!==o)return;n.value=a}else 0}}}function is(e,t,n){var r=e._setupState;r&&S(r,t)&&(Je(r[t])?r[t].value=n:r[t]=n)}var os=new ye("",{},[]),ss=["create","activate","update","remove","destroy"];function as(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&s(e.data)===s(t.data)&&cs(e,t)||a(e.isAsyncPlaceholder)&&o(t.asyncFactory.error))}function cs(e,t){if("input"!==e.tag)return!0;var n,r=s(n=e.data)&&s(n=n.attrs)&&n.type,i=s(n=t.data)&&s(n=n.attrs)&&n.type;return r===i||Uo(r)&&Uo(i)}function ls(e,t,n){var r,i,o={};for(r=t;r<=n;++r)i=e[r].key,s(i)&&(o[i]=r);return o}function us(e){var t,n,r={},c=e.modules,u=e.nodeOps;for(t=0;t<ss.length;++t)for(r[ss[t]]=[],n=0;n<c.length;++n)s(c[n][ss[t]])&&r[ss[t]].push(c[n][ss[t]]);function h(e){return new ye(u.tagName(e).toLowerCase(),{},[],void 0,e)}function d(e,t){function n(){0===--n.listeners&&p(e)}return n.listeners=t,n}function p(e){var t=u.parentNode(e);s(t)&&u.removeChild(t,e)}function f(e,t,n,r,i,o,c){if(s(e.elm)&&s(o)&&(e=o[c]=we(e)),e.isRootInsert=!i,!m(e,t,n,r)){var l=e.data,h=e.children,d=e.tag;s(d)?(e.elm=e.ns?u.createElementNS(e.ns,d):u.createElement(d,e),S(e),x(e,h,t),s(l)&&_(e,t),y(n,e.elm,r)):a(e.isComment)?(e.elm=u.createComment(e.text),y(n,e.elm,r)):(e.elm=u.createTextNode(e.text),y(n,e.elm,r))}}function m(e,t,n,r){var i=e.data;if(s(i)){var o=s(e.componentInstance)&&i.keepAlive;if(s(i=i.hook)&&s(i=i.init)&&i(e,!1),s(e.componentInstance))return g(e,t),y(n,e.elm,r),a(o)&&v(e,t,n,r),!0}}function g(e,t){s(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,w(e)?(_(e,t),S(e)):(rs(e),t.push(e))}function v(e,t,n,i){var o,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,s(o=a.data)&&s(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](os,a);t.push(a);break}y(n,e.elm,i)}function y(e,t,n){s(e)&&(s(n)?u.parentNode(n)===e&&u.insertBefore(e,t,n):u.appendChild(e,t))}function x(e,t,n){if(i(t)){0;for(var r=0;r<t.length;++r)f(t[r],n,e.elm,null,!0,t,r)}else l(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function w(e){while(e.componentInstance)e=e.componentInstance._vnode;return s(e.tag)}function _(e,n){for(var i=0;i<r.create.length;++i)r.create[i](os,e);t=e.data.hook,s(t)&&(s(t.create)&&t.create(os,e),s(t.insert)&&n.push(e))}function S(e){var t;if(s(t=e.fnScopeId))u.setStyleScope(e.elm,t);else{var n=e;while(n)s(t=n.context)&&s(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),n=n.parent}s(t=Ar)&&t!==e.context&&t!==e.fnContext&&s(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function M(e,t,n,r,i,o){for(;r<=i;++r)f(n[r],o,e,t,!1,n,r)}function T(e){var t,n,i=e.data;if(s(i))for(s(t=i.hook)&&s(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(s(t=e.children))for(n=0;n<e.children.length;++n)T(e.children[n])}function E(e,t,n){for(;t<=n;++t){var r=e[t];s(r)&&(s(r.tag)?(C(r),T(r)):p(r.elm))}}function C(e,t){if(s(t)||s(e.data)){var n,i=r.remove.length+1;for(s(t)?t.listeners+=i:t=d(e.elm,i),s(n=e.componentInstance)&&s(n=n._vnode)&&s(n.data)&&C(n,t),n=0;n<r.remove.length;++n)r.remove[n](e,t);s(n=e.data.hook)&&s(n=n.remove)?n(e,t):t()}else p(e.elm)}function A(e,t,n,r,i){var a,c,l,h,d=0,p=0,m=t.length-1,g=t[0],v=t[m],y=n.length-1,b=n[0],x=n[y],w=!i;while(d<=m&&p<=y)o(g)?g=t[++d]:o(v)?v=t[--m]:as(g,b)?(R(g,b,r,n,p),g=t[++d],b=n[++p]):as(v,x)?(R(v,x,r,n,y),v=t[--m],x=n[--y]):as(g,x)?(R(g,x,r,n,y),w&&u.insertBefore(e,g.elm,u.nextSibling(v.elm)),g=t[++d],x=n[--y]):as(v,b)?(R(v,b,r,n,p),w&&u.insertBefore(e,v.elm,g.elm),v=t[--m],b=n[++p]):(o(a)&&(a=ls(t,d,m)),c=s(b.key)?a[b.key]:L(b,t,d,m),o(c)?f(b,r,e,g.elm,!1,n,p):(l=t[c],as(l,b)?(R(l,b,r,n,p),t[c]=void 0,w&&u.insertBefore(e,l.elm,g.elm)):f(b,r,e,g.elm,!1,n,p)),b=n[++p]);d>m?(h=o(n[y+1])?null:n[y+1].elm,M(e,h,n,p,y,r)):p>y&&E(t,d,m)}function L(e,t,n,r){for(var i=n;i<r;i++){var o=t[i];if(s(o)&&as(e,o))return i}}function R(e,t,n,i,c,l){if(e!==t){s(t.elm)&&s(i)&&(t=i[c]=we(t));var h=t.elm=e.elm;if(a(e.isAsyncPlaceholder))s(t.asyncFactory.resolved)?k(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var d,p=t.data;s(p)&&s(d=p.hook)&&s(d=d.prepatch)&&d(e,t);var f=e.children,m=t.children;if(s(p)&&w(t)){for(d=0;d<r.update.length;++d)r.update[d](e,t);s(d=p.hook)&&s(d=d.update)&&d(e,t)}o(t.text)?s(f)&&s(m)?f!==m&&A(h,f,m,n,l):s(m)?(s(e.text)&&u.setTextContent(h,""),M(h,null,m,0,m.length-1,n)):s(f)?E(f,0,f.length-1):s(e.text)&&u.setTextContent(h,""):e.text!==t.text&&u.setTextContent(h,t.text),s(p)&&s(d=p.hook)&&s(d=d.postpatch)&&d(e,t)}}}function O(e,t,n){if(a(n)&&s(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var P=b("attrs,class,staticClass,staticStyle,key");function k(e,t,n,r){var i,o=t.tag,c=t.data,l=t.children;if(r=r||c&&c.pre,t.elm=e,a(t.isComment)&&s(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(s(c)&&(s(i=c.hook)&&s(i=i.init)&&i(t,!0),s(i=t.componentInstance)))return g(t,n),!0;if(s(o)){if(s(l))if(e.hasChildNodes())if(s(i=c)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==e.innerHTML)return!1}else{for(var u=!0,h=e.firstChild,d=0;d<l.length;d++){if(!h||!k(h,l[d],n,r)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else x(t,l,n);if(s(c)){var p=!1;for(var f in c)if(!P(f)){p=!0,_(t,n);break}!p&&c["class"]&&vr(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,i){if(!o(t)){var c=!1,l=[];if(o(e))c=!0,f(t,l);else{var d=s(e.nodeType);if(!d&&as(e,t))R(e,t,l,null,null,i);else{if(d){if(1===e.nodeType&&e.hasAttribute(G)&&(e.removeAttribute(G),n=!0),a(n)&&k(e,t,l))return O(t,l,!0),e;e=h(e)}var p=e.elm,m=u.parentNode(p);if(f(t,l,p._leaveCb?null:m,u.nextSibling(p)),s(t.parent)){var g=t.parent,v=w(t);while(g){for(var y=0;y<r.destroy.length;++y)r.destroy[y](g);if(g.elm=t.elm,v){for(var b=0;b<r.create.length;++b)r.create[b](os,g);var x=g.data.hook.insert;if(x.merged)for(var _=1;_<x.fns.length;_++)x.fns[_]()}else rs(g);g=g.parent}}s(m)?E([e],0,0):s(e.tag)&&T(e)}}return O(t,l,c),t.elm}s(e)&&T(e)}}var hs={create:ds,update:ds,destroy:function(e){ds(e,os)}};function ds(e,t){(e.data.directives||t.data.directives)&&ps(e,t)}function ps(e,t){var n,r,i,o=e===os,s=t===os,a=ms(e.data.directives,e.context),c=ms(t.data.directives,t.context),l=[],u=[];for(n in c)r=a[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,vs(i,"update",t,e),i.def&&i.def.componentUpdated&&u.push(i)):(vs(i,"bind",t,e),i.def&&i.def.inserted&&l.push(i));if(l.length){var h=function(){for(var n=0;n<l.length;n++)vs(l[n],"inserted",t,e)};o?Dt(t,"insert",h):h()}if(u.length&&Dt(t,"postpatch",(function(){for(var n=0;n<u.length;n++)vs(u[n],"componentUpdated",t,e)})),!o)for(n in a)c[n]||vs(a[n],"unbind",e,e,s)}var fs=Object.create(null);function ms(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++)r=e[n],r.modifiers||(r.modifiers=fs),i[gs(r)]=r,t._setupState&&t._setupState.__sfc&&(r.def=r.def||Ci(t,"_setupState","v-"+r.name)),r.def=r.def||Ci(t.$options,"directives",r.name,!0);return i}function gs(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function vs(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(tc){Dn(tc,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var ys=[ns,hs];function bs(e,t){var n=t.componentOptions;if((!s(n)||!1!==n.Ctor.options.inheritAttrs)&&(!o(e.data.attrs)||!o(t.data.attrs))){var r,i,c,l=t.elm,u=e.data.attrs||{},h=t.data.attrs||{};for(r in(s(h.__ob__)||a(h._v_attr_proxy))&&(h=t.data.attrs=N({},h)),h)i=h[r],c=u[r],c!==i&&xs(l,r,i,t.data.pre);for(r in(te||re)&&h.value!==u.value&&xs(l,"value",h.value),u)o(h[r])&&(Mo(r)?l.removeAttributeNS(So,To(r)):bo(r)||l.removeAttribute(r))}}function xs(e,t,n,r){r||e.tagName.indexOf("-")>-1?ws(e,t,n):_o(t)?Eo(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):bo(t)?e.setAttribute(t,wo(t,n)):Mo(t)?Eo(n)?e.removeAttributeNS(So,To(t)):e.setAttributeNS(So,t,n):ws(e,t,n)}function ws(e,t,n){if(Eo(n))e.removeAttribute(t);else{if(te&&!ne&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}var _s={create:bs,update:bs};function Ss(e,t){var n=t.elm,r=t.data,i=e.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var a=Co(t),c=n._transitionClasses;s(c)&&(a=Ro(a,Oo(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var Ms,Ts={create:Ss,update:Ss},Es="__r",Cs="__c";function As(e){if(s(e[Es])){var t=te?"change":"input";e[t]=[].concat(e[Es],e[t]||[]),delete e[Es]}s(e[Cs])&&(e.change=[].concat(e[Cs],e.change||[]),delete e[Cs])}function Ls(e,t,n){var r=Ms;return function i(){var o=t.apply(null,arguments);null!==o&&Ps(e,i,n,r)}}var Rs=Vn&&!(se&&Number(se[1])<=53);function Os(e,t,n,r){if(Rs){var i=Wr,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Ms.addEventListener(e,t,ce?{capture:n,passive:r}:n)}function Ps(e,t,n,r){(r||Ms).removeEventListener(e,t._wrapper||t,n)}function ks(e,t){if(!o(e.data.on)||!o(t.data.on)){var n=t.data.on||{},r=e.data.on||{};Ms=t.elm||e.elm,As(n),It(n,r,Os,Ps,Ls,t.context),Ms=void 0}}var Ns,Fs={create:ks,update:ks,destroy:function(e){return ks(e,os)}};function Is(e,t){if(!o(e.data.domProps)||!o(t.data.domProps)){var n,r,i=t.elm,c=e.data.domProps||{},l=t.data.domProps||{};for(n in(s(l.__ob__)||a(l._v_attr_proxy))&&(l=t.data.domProps=N({},l)),c)n in l||(i[n]="");for(n in l){if(r=l[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===c[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var u=o(r)?"":String(r);Ds(i,u)&&(i.value=u)}else if("innerHTML"===n&&Io(i.tagName)&&o(i.innerHTML)){Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>".concat(r,"</svg>");var h=Ns.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(h.firstChild)i.appendChild(h.firstChild)}else if(r!==c[n])try{i[n]=r}catch(tc){}}}}function Ds(e,t){return!e.composing&&("OPTION"===e.tagName||Bs(e,t)||zs(e,t))}function Bs(e,t){var n=!0;try{n=document.activeElement!==e}catch(tc){}return n&&e.value!==t}function zs(e,t){var n=e.value,r=e._vModifiers;if(s(r)){if(r.number)return y(n)!==y(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}var js={create:Is,update:Is},Us=M((function(e){var t={},n=/;(?![^(]*\))/g,r=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function Vs(e){var t=Gs(e.style);return e.staticStyle?N(e.staticStyle,t):t}function Gs(e){return Array.isArray(e)?F(e):"string"===typeof e?Us(e):e}function Hs(e,t){var n,r={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=Vs(i.data))&&N(r,n)}(n=Vs(e.data))&&N(r,n);var o=e;while(o=o.parent)o.data&&(n=Vs(o.data))&&N(r,n);return r}var Ws,$s=/^--/,qs=/\s*!important$/,Xs=function(e,t,n){if($s.test(t))e.style.setProperty(t,n);else if(qs.test(n))e.style.setProperty(L(t),n.replace(qs,""),"important");else{var r=Zs(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},Ys=["Webkit","Moz","ms"],Zs=M((function(e){if(Ws=Ws||document.createElement("div").style,e=E(e),"filter"!==e&&e in Ws)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Ys.length;n++){var r=Ys[n]+t;if(r in Ws)return r}}));function Js(e,t){var n=t.data,r=e.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var i,a,c=t.elm,l=r.staticStyle,u=r.normalizedStyle||r.style||{},h=l||u,d=Gs(t.data.style)||{};t.data.normalizedStyle=s(d.__ob__)?N({},d):d;var p=Hs(t,!0);for(a in h)o(p[a])&&Xs(c,a,"");for(a in p)i=p[a],i!==h[a]&&Xs(c,a,null==i?"":i)}}var Ks={create:Js,update:Js},Qs=/\s+/;function ea(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Qs).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function ta(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Qs).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" ".concat(e.getAttribute("class")||""," "),r=" "+t+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function na(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&N(t,ra(e.name||"v")),N(t,e),t}return"string"===typeof e?ra(e):void 0}}var ra=M((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),ia=Q&&!ne,oa="transition",sa="animation",aa="transition",ca="transitionend",la="animation",ua="animationend";ia&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(aa="WebkitTransition",ca="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(la="WebkitAnimation",ua="webkitAnimationEnd"));var ha=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function da(e){ha((function(){ha(e)}))}function pa(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),ea(e,t))}function fa(e,t){e._transitionClasses&&w(e._transitionClasses,t),ta(e,t)}function ma(e,t,n){var r=va(e,t),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===oa?ca:ua,c=0,l=function(){e.removeEventListener(a,u),n()},u=function(t){t.target===e&&++c>=s&&l()};setTimeout((function(){c<s&&l()}),o+1),e.addEventListener(a,u)}var ga=/\b(transform|all)(,|$)/;function va(e,t){var n,r=window.getComputedStyle(e),i=(r[aa+"Delay"]||"").split(", "),o=(r[aa+"Duration"]||"").split(", "),s=ya(i,o),a=(r[la+"Delay"]||"").split(", "),c=(r[la+"Duration"]||"").split(", "),l=ya(a,c),u=0,h=0;t===oa?s>0&&(n=oa,u=s,h=o.length):t===sa?l>0&&(n=sa,u=l,h=c.length):(u=Math.max(s,l),n=u>0?s>l?oa:sa:null,h=n?n===oa?o.length:c.length:0);var d=n===oa&&ga.test(r[aa+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:d}}function ya(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return ba(t)+ba(e[n])})))}function ba(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function xa(e,t){var n=e.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=na(e.data.transition);if(!o(r)&&!s(n._enterCb)&&1===n.nodeType){var i=r.css,a=r.type,c=r.enterClass,l=r.enterToClass,d=r.enterActiveClass,p=r.appearClass,f=r.appearToClass,m=r.appearActiveClass,g=r.beforeEnter,v=r.enter,b=r.afterEnter,x=r.enterCancelled,w=r.beforeAppear,_=r.appear,S=r.afterAppear,M=r.appearCancelled,T=r.duration,E=Ar,C=Ar.$vnode;while(C&&C.parent)E=C.context,C=C.parent;var A=!E._isMounted||!e.isRootInsert;if(!A||_||""===_){var L=A&&p?p:c,R=A&&m?m:d,O=A&&f?f:l,P=A&&w||g,k=A&&u(_)?_:v,N=A&&S||b,F=A&&M||x,I=y(h(T)?T.enter:T);0;var D=!1!==i&&!ne,B=Sa(k),z=n._enterCb=U((function(){D&&(fa(n,O),fa(n,R)),z.cancelled?(D&&fa(n,L),F&&F(n)):N&&N(n),n._enterCb=null}));e.data.show||Dt(e,"insert",(function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),k&&k(n,z)})),P&&P(n),D&&(pa(n,L),pa(n,R),da((function(){fa(n,L),z.cancelled||(pa(n,O),B||(_a(I)?setTimeout(z,I):ma(n,a,z)))}))),e.data.show&&(t&&t(),k&&k(n,z)),D||B||z()}}}function wa(e,t){var n=e.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=na(e.data.transition);if(o(r)||1!==n.nodeType)return t();if(!s(n._leaveCb)){var i=r.css,a=r.type,c=r.leaveClass,l=r.leaveToClass,u=r.leaveActiveClass,d=r.beforeLeave,p=r.leave,f=r.afterLeave,m=r.leaveCancelled,g=r.delayLeave,v=r.duration,b=!1!==i&&!ne,x=Sa(p),w=y(h(v)?v.leave:v);0;var _=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),b&&(fa(n,l),fa(n,u)),_.cancelled?(b&&fa(n,c),m&&m(n)):(t(),f&&f(n)),n._leaveCb=null}));g?g(S):S()}function S(){_.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),d&&d(n),b&&(pa(n,c),pa(n,u),da((function(){fa(n,c),_.cancelled||(pa(n,l),x||(_a(w)?setTimeout(_,w):ma(n,a,_)))}))),p&&p(n,_),b||x||_())}}function _a(e){return"number"===typeof e&&!isNaN(e)}function Sa(e){if(o(e))return!1;var t=e.fns;return s(t)?Sa(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Ma(e,t){!0!==t.data.show&&xa(t)}var Ta=Q?{create:Ma,activate:Ma,remove:function(e,t){!0!==e.data.show?wa(e,t):t()}}:{},Ea=[_s,Ts,Fs,js,Ks,Ta],Ca=Ea.concat(ys),Aa=us({nodeOps:ts,modules:Ca});ne&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Ia(e,"input")}));var La={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Dt(n,"postpatch",(function(){La.componentUpdated(e,t,n)})):Ra(e,t,n.context),e._vOptions=[].map.call(e.options,ka)):("textarea"===n.tag||Uo(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Na),e.addEventListener("compositionend",Fa),e.addEventListener("change",Fa),ne&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ra(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,ka);if(i.some((function(e,t){return!z(e,r[t])}))){var o=e.multiple?t.value.some((function(e){return Pa(e,i)})):t.value!==t.oldValue&&Pa(t.value,i);o&&Ia(e,"change")}}}};function Ra(e,t,n){Oa(e,t,n),(te||re)&&setTimeout((function(){Oa(e,t,n)}),0)}function Oa(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,c=e.options.length;a<c;a++)if(s=e.options[a],i)o=j(r,ka(s))>-1,s.selected!==o&&(s.selected=o);else if(z(ka(s),r))return void(e.selectedIndex!==a&&(e.selectedIndex=a));i||(e.selectedIndex=-1)}}function Pa(e,t){return t.every((function(t){return!z(t,e)}))}function ka(e){return"_value"in e?e._value:e.value}function Na(e){e.target.composing=!0}function Fa(e){e.target.composing&&(e.target.composing=!1,Ia(e.target,"input"))}function Ia(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Da(e){return!e.componentInstance||e.data&&e.data.transition?e:Da(e.componentInstance._vnode)}var Ba={bind:function(e,t,n){var r=t.value;n=Da(n);var i=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&i?(n.data.show=!0,xa(n,(function(){e.style.display=o}))):e.style.display=r?o:"none"},update:function(e,t,n){var r=t.value,i=t.oldValue;if(!r!==!i){n=Da(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?xa(n,(function(){e.style.display=e.__vOriginalDisplay})):wa(n,(function(){e.style.display="none"}))):e.style.display=r?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}},za={model:La,show:Ba},ja={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Ua(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Ua(Ln(t.children)):e}function Va(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var r in i)t[E(r)]=i[r];return t}function Ga(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Ha(e){while(e=e.parent)if(e.data.transition)return!0}function Wa(e,t){return t.key===e.key&&t.tag===e.tag}var $a=function(e){return e.tag||cn(e)},qa=function(e){return"show"===e.name},Xa={name:"transition",props:ja,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter($a),n.length)){0;var r=this.mode;0;var i=n[0];if(Ha(this.$vnode))return i;var o=Ua(i);if(!o)return i;if(this._leaving)return Ga(e,i);var s="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?s+"comment":s+o.tag:l(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=Va(this),c=this._vnode,u=Ua(c);if(o.data.directives&&o.data.directives.some(qa)&&(o.data.show=!0),u&&u.data&&!Wa(o,u)&&!cn(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=N({},a);if("out-in"===r)return this._leaving=!0,Dt(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Ga(e,i);if("in-out"===r){if(cn(o))return c;var d,p=function(){d()};Dt(a,"afterEnter",p),Dt(a,"enterCancelled",p),Dt(h,"delayLeave",(function(e){d=e}))}}return i}}},Ya=N({tag:String,moveClass:String},ja);delete Ya.mode;var Za={props:Ya,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=Lr(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=Va(this),a=0;a<i.length;a++){var c=i[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(r){var l=[],u=[];for(a=0;a<r.length;a++){c=r[a];c.data.transition=s,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?l.push(c):u.push(c)}this.kept=e(t,null,l),this.removed=u}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Ja),e.forEach(Ka),e.forEach(Qa),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,r=n.style;pa(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ca,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ca,e),n._moveCb=null,fa(n,t))})}})))},methods:{hasMove:function(e,t){if(!ia)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){ta(n,e)})),ea(n,t),n.style.display="none",this.$el.appendChild(n);var r=va(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function Ja(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Ka(e){e.data.newPos=e.elm.getBoundingClientRect()}function Qa(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var ec={Transition:Xa,TransitionGroup:Za};eo.config.mustUseProp=yo,eo.config.isReservedTag=Do,eo.config.isReservedAttr=go,eo.config.getTagNamespace=Bo,eo.config.isUnknownElement=jo,N(eo.options.directives,za),N(eo.options.components,ec),eo.prototype.__patch__=Q?Aa:I,eo.prototype.$mount=function(e,t){return e=e&&Q?Vo(e):void 0,Pr(this,e,t)},Q&&setTimeout((function(){$.devtools&&he&&he.emit("init",eo)}),0)}.call(this,n("c8ba"))},"2b3d":function(e,t,n){n("4002")},"2b3e":function(e,t,n){var r=n("585a"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},"2ba4":function(e,t,n){var r=n("40d5"),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},"2c66":function(e,t,n){var r=n("d612"),i=n("8db3"),o=n("5edf"),s=n("c584"),a=n("750a"),c=n("ac41"),l=200;function u(e,t,n){var u=-1,h=i,d=e.length,p=!0,f=[],m=f;if(n)p=!1,h=o;else if(d>=l){var g=t?null:a(e);if(g)return c(g);p=!1,h=s,m=new r}else m=t?[]:f;e:while(++u<d){var v=e[u],y=t?t(v):v;if(v=n||0!==v?v:0,p&&y===y){var b=m.length;while(b--)if(m[b]===y)continue e;t&&m.push(y),f.push(v)}else h(m,y,n)||(m!==f&&m.push(y),f.push(v))}return f}e.exports=u},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},"2d7c":function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=0,o=[];while(++n<r){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}e.exports=n},"2f38":function(e,t,n){},"2fcc":function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},"30c9":function(e,t,n){var r=n("9520"),i=n("b218");function o(e){return null!=e&&i(e.length)&&!r(e)}e.exports=o},"32f4":function(e,t,n){var r=n("2d7c"),i=n("d327"),o=Object.prototype,s=o.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return s.call(e,t)})))}:i;e.exports=c},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"34ac":function(e,t,n){var r=n("9520"),i=n("1368"),o=n("1a8c"),s=n("dc57"),a=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,h=l.toString,d=u.hasOwnProperty,p=RegExp("^"+h.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(e){if(!o(e)||i(e))return!1;var t=r(e)?p:c;return t.test(s(e))}e.exports=f},"34ad":function(e,t,n){"use strict";n.r(t),n.d(t,"GLTFLoader",(function(){return i}));var r=n("5a89");class i extends r["Loader"]{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new l(e)})),this.register((function(e){return new h(e)})),this.register((function(e){return new d(e)})),this.register((function(e){return new u(e)})),this.register((function(e){return new a(e)})),this.register((function(e){return new p(e)}))}load(e,t,n,i){const o=this;let s;s=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:r["LoaderUtils"].extractUrlBase(e),this.manager.itemStart(e);const a=function(t){i?i(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},c=new r["FileLoader"](this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,(function(n){try{o.parse(n,s,(function(n){t(n),o.manager.itemEnd(e)}),a)}catch(r){a(r)}}),n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let o;const a={},l={};if("string"===typeof e)o=e;else{const t=r["LoaderUtils"].decodeText(new Uint8Array(e,0,4));if(t===f){try{a[s.KHR_BINARY_GLTF]=new v(e)}catch(d){return void(i&&i(d))}o=a[s.KHR_BINARY_GLTF].content}else o=r["LoaderUtils"].decodeText(new Uint8Array(e))}const u=JSON.parse(o);if(void 0===u.asset||u.asset.version[0]<2)return void(i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const h=new V(u,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let r=0;r<this.pluginCallbacks.length;r++){const e=this.pluginCallbacks[r](h);l[e.name]=e,a[e.name]=!0}if(u.extensionsUsed)for(let r=0;r<u.extensionsUsed.length;++r){const e=u.extensionsUsed[r],t=u.extensionsRequired||[];switch(e){case s.KHR_MATERIALS_UNLIT:a[e]=new c;break;case s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[e]=new w;break;case s.KHR_DRACO_MESH_COMPRESSION:a[e]=new y(u,this.dracoLoader);break;case s.KHR_TEXTURE_TRANSFORM:a[e]=new b;break;case s.KHR_MESH_QUANTIZATION:a[e]=new _;break;default:t.indexOf(e)>=0&&void 0===l[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}h.setExtensions(a),h.setPlugins(l),h.parse(n,i)}}function o(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const s={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class a{constructor(e){this.parser=e,this.name=s.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const o=t.json,s=o.extensions&&o.extensions[this.name]||{},a=s.lights||[],c=a[e];let l;const u=new r["Color"](16777215);void 0!==c.color&&u.fromArray(c.color);const h=void 0!==c.range?c.range:0;switch(c.type){case"directional":l=new r["DirectionalLight"](u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new r["PointLight"](u),l.distance=h;break;case"spot":l=new r["SpotLight"](u),l.distance=h,c.spot=c.spot||{},c.spot.innerConeAngle=void 0!==c.spot.innerConeAngle?c.spot.innerConeAngle:0,c.spot.outerConeAngle=void 0!==c.spot.outerConeAngle?c.spot.outerConeAngle:Math.PI/4,l.angle=c.spot.outerConeAngle,l.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return l.position.set(0,0,0),l.decay=2,void 0!==c.intensity&&(l.intensity=c.intensity),l.name=t.createUniqueName(c.name||"light_"+e),i=Promise.resolve(l),t.cache.add(n,i),i}createNodeAttachment(e){const t=this,n=this.parser,r=n.json,i=r.nodes[e],o=i.extensions&&i.extensions[this.name]||{},s=o.light;return void 0===s?null:this._loadLight(s).then((function(e){return n._getNodeRef(t.cache,s,e)}))}}class c{constructor(){this.name=s.KHR_MATERIALS_UNLIT}getMaterialType(){return r["MeshBasicMaterial"]}extendParams(e,t,n){const i=[];e.color=new r["Color"](1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const t=o.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==o.baseColorTexture&&i.push(n.assignTexture(e,"map",o.baseColorTexture))}return Promise.all(i)}}class l{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?r["MeshPhysicalMaterial"]:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];if(void 0!==s.clearcoatFactor&&(t.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&o.push(n.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(o.push(n.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){const e=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new r["Vector2"](e,-e)}return Promise.all(o)}}class u{constructor(e){this.parser=e,this.name=s.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser,n=t.json.materials[e];return n.extensions&&n.extensions[this.name]?r["MeshPhysicalMaterial"]:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class h{constructor(e){this.parser=e,this.name=s.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],o=n.images[i.source],s=t.options.ktx2Loader;if(!s){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o,s)}}class d{constructor(e){this.parser=e,this.name=s.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const o=i.extensions[t],s=r.images[o.source];let a=n.textureLoader;if(s.uri){const e=n.options.manager.getHandler(s.uri);null!==e&&(a=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,s,a);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class p{constructor(e){this.name=s.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,i.ready]).then((function(t){const n=e.byteOffset||0,r=e.byteLength||0,o=e.count,s=e.byteStride,a=new ArrayBuffer(o*s),c=new Uint8Array(t[0],n,r);return i.decodeGltfBuffer(new Uint8Array(a),o,s,c,e.mode,e.filter),a}))}return null}}const f="glTF",m=12,g={JSON:1313821514,BIN:5130562};class v{constructor(e){this.name=s.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,m);if(this.header={magic:r["LoaderUtils"].decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==f)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-m,i=new DataView(e,m);let o=0;while(o<n){const t=i.getUint32(o,!0);o+=4;const n=i.getUint32(o,!0);if(o+=4,n===g.JSON){const n=new Uint8Array(e,m+o,t);this.content=r["LoaderUtils"].decodeText(n)}else if(n===g.BIN){const n=m+o;this.body=e.slice(n,n+t)}o+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class y{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=s.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,s={},a={},c={};for(const l in o){const e=L[l]||l.toLowerCase();s[e]=o[l]}for(const l in e.attributes){const t=L[l]||l.toLowerCase();if(void 0!==o[l]){const r=n.accessors[e.attributes[l]],i=T[r.componentType];c[t]=i,a[t]=!0===r.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],r=a[t];void 0!==r&&(n.normalized=r)}t(e)}),s,c)}))}))}}class b{constructor(){this.name=s.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class x extends r["MeshStandardMaterial"]{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),o=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),s=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new r["Color"]).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(e){for(const t in a)e.uniforms[t]=a[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",o).replace("#include <lights_physical_fragment>",s)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(e){a.specular.value=e}},specularMap:{get:function(){return a.specularMap.value},set:function(e){a.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(e){a.glossiness.value=e}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(e){a.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class w{constructor(){this.name=s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return x}extendParams(e,t,n){const i=t.extensions[this.name];e.color=new r["Color"](1,1,1),e.opacity=1;const o=[];if(Array.isArray(i.diffuseFactor)){const t=i.diffuseFactor;e.color.fromArray(t),e.opacity=t[3]}if(void 0!==i.diffuseTexture&&o.push(n.assignTexture(e,"map",i.diffuseTexture)),e.emissive=new r["Color"](0,0,0),e.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,e.specular=new r["Color"](1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){const t=i.specularGlossinessTexture;o.push(n.assignTexture(e,"glossinessMap",t)),o.push(n.assignTexture(e,"specularMap",t))}return Promise.all(o)}createMaterial(e){const t=new x(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=r["TangentSpaceNormalMap"],e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class _{constructor(){this.name=s.KHR_MESH_QUANTIZATION}}class S extends r["Interpolant"]{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let o=0;o!==r;o++)t[o]=n[i+o];return t}}S.prototype.beforeStart_=S.prototype.copySampleValue_,S.prototype.afterEnd_=S.prototype.copySampleValue_,S.prototype.interpolate_=function(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=2*s,c=3*s,l=r-t,u=(n-t)/l,h=u*u,d=h*u,p=e*c,f=p-c,m=-2*d+3*h,g=d-h,v=1-m,y=g-h+u;for(let b=0;b!==s;b++){const e=o[f+b+s],t=o[f+b+a]*l,n=o[p+b+s],r=o[p+b]*l;i[b]=v*e+y*t+m*n+g*r}return i};const M={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},E={9728:r["NearestFilter"],9729:r["LinearFilter"],9984:r["NearestMipmapNearestFilter"],9985:r["LinearMipmapNearestFilter"],9986:r["NearestMipmapLinearFilter"],9987:r["LinearMipmapLinearFilter"]},C={33071:r["ClampToEdgeWrapping"],33648:r["MirroredRepeatWrapping"],10497:r["RepeatWrapping"]},A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},L={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},R={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},O={CUBICSPLINE:void 0,LINEAR:r["InterpolateLinear"],STEP:r["InterpolateDiscrete"]},P={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function k(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function N(e){return void 0===e["DefaultMaterial"]&&(e["DefaultMaterial"]=new r["MeshStandardMaterial"]({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:r["FrontSide"]})),e["DefaultMaterial"]}function F(e,t,n){for(const r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function I(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function D(e,t,n){let r=!1,i=!1;for(let a=0,c=t.length;a<c;a++){const e=t[a];if(void 0!==e.POSITION&&(r=!0),void 0!==e.NORMAL&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(e);const o=[],s=[];for(let a=0,c=t.length;a<c;a++){const c=t[a];if(r){const t=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;o.push(t)}if(i){const t=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal;s.push(t)}}return Promise.all([Promise.all(o),Promise.all(s)]).then((function(t){const n=t[0],o=t[1];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e}))}function B(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function z(e){const t=e.extensions&&e.extensions[s.KHR_DRACO_MESH_COMPRESSION];let n;return n=t?"draco:"+t.bufferView+":"+t.indices+":"+j(t.attributes):e.indices+":"+j(e.attributes)+":"+e.mode,n}function j(e){let t="";const n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function U(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class V{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new o,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new r["ImageBitmapLoader"](this.options.manager):this.textureLoader=new r["TextureLoader"](this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new r["FileLoader"](this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const o={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};F(i,o,r),I(o,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){e(o)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,i=t.length;r<i;r++){const n=t[r].joints;for(let t=0,r=n.length;t<r;t++)e[n[t]].isBone=!0}for(let r=0,i=e.length;r<i;r++){const t=e[r];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(n[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone();return r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[s.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,i){n.load(k(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse)return Promise.resolve(null);const o=[];return void 0!==i.bufferView?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),void 0!==i.sparse&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then((function(e){const o=e[0],s=A[i.type],a=T[i.componentType],c=a.BYTES_PER_ELEMENT,l=c*s,u=i.byteOffset||0,h=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,d=!0===i.normalized;let p,f;if(h&&h!==l){const e=Math.floor(u/h),n="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+e+":"+i.count;let l=t.cache.get(n);l||(p=new a(o,e*h,i.count*h/c),l=new r["InterleavedBuffer"](p,h/c),t.cache.add(n,l)),f=new r["InterleavedBufferAttribute"](l,s,u%h/c,d)}else p=null===o?new a(i.count*s):new a(o,u,i.count*s),f=new r["BufferAttribute"](p,s,d);if(void 0!==i.sparse){const t=A.SCALAR,n=T[i.sparse.indices.componentType],c=i.sparse.indices.byteOffset||0,l=i.sparse.values.byteOffset||0,u=new n(e[1],c,i.sparse.count*t),h=new a(e[2],l,i.sparse.count*s);null!==o&&(f=new r["BufferAttribute"](f.array.slice(),f.itemSize,f.normalized));for(let e=0,r=u.length;e<r;e++){const t=u[e];if(f.setX(t,h[e*s]),s>=2&&f.setY(t,h[e*s+1]),s>=3&&f.setZ(t,h[e*s+2]),s>=4&&f.setW(t,h[e*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return f}))}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e],i=t.images[r.source];let o=this.textureLoader;if(i.uri){const e=n.manager.getHandler(i.uri);null!==e&&(o=e)}return this.loadTextureImage(e,i,o)}loadTextureImage(e,t,n){const i=this,o=this.json,s=this.options,a=o.textures[e],c=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[c])return this.textureCache[c];const l=self.URL||self.webkitURL;let u=t.uri||"",h=!1,d=!0;const p=u.search(/\.jpe?g($|\?)/i)>0||0===u.search(/^data\:image\/jpeg/);if(("image/jpeg"===t.mimeType||p)&&(d=!1),void 0!==t.bufferView)u=i.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){const t=new DataView(e,25,1).getUint8(0,!1);d=6===t||4===t||3===t}h=!0;const n=new Blob([e],{type:t.mimeType});return u=l.createObjectURL(n),u}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(u).then((function(e){return new Promise((function(t,i){let o=t;!0===n.isImageBitmapLoader&&(o=function(e){const n=new r["Texture"](e);n.needsUpdate=!0,t(n)}),n.load(k(e,s.path),o,void 0,i)}))})).then((function(t){!0===h&&l.revokeObjectURL(u),t.flipY=!1,a.name&&(t.name=a.name),d||(t.format=r["RGBFormat"]);const n=o.samplers||{},s=n[a.sampler]||{};return t.magFilter=E[s.magFilter]||r["LinearFilter"],t.minFilter=E[s.minFilter]||r["LinearMipmapLinearFilter"],t.wrapS=C[s.wrapS]||r["RepeatWrapping"],t.wrapT=C[s.wrapT]||r["RepeatWrapping"],i.associations.set(t,{type:"textures",index:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",u),null}));return this.textureCache[c]=f,f}assignTexture(e,t,n){const r=this;return this.getDependency("texture",n.index).then((function(i){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),r.extensions[s.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[s.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=r.associations.get(i);i=r.extensions[s.KHR_TEXTURE_TRANSFORM].extendTexture(i,e),r.associations.set(i,t)}}e[t]=i}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=void 0!==t.attributes.tangent,o=void 0!==t.attributes.color,s=void 0===t.attributes.normal,a=Object.keys(t.morphAttributes).length>0,c=a&&void 0!==t.morphAttributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new r["PointsMaterial"],r["Material"].prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new r["LineBasicMaterial"],r["Material"].prototype.copy.call(t,n),t.color.copy(n.color),this.cache.add(e,t)),n=t}if(i||o||s||a){let e="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(e+="specular-glossiness:"),i&&(e+="vertex-tangents:"),o&&(e+="vertex-colors:"),s&&(e+="flat-shading:"),a&&(e+="morph-targets:"),c&&(e+="morph-normals:");let t=this.cache.get(e);t||(t=n.clone(),o&&(t.vertexColors=!0),s&&(t.flatShading=!0),a&&(t.morphTargets=!0),c&&(t.morphNormals=!0),i&&(t.vertexTangents=!0,t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return r["MeshStandardMaterial"]}loadMaterial(e){const t=this,n=this.json,i=this.extensions,o=n.materials[e];let a;const c={},l=o.extensions||{},u=[];if(l[s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const e=i[s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=e.getMaterialType(),u.push(e.extendParams(c,o,t))}else if(l[s.KHR_MATERIALS_UNLIT]){const e=i[s.KHR_MATERIALS_UNLIT];a=e.getMaterialType(),u.push(e.extendParams(c,o,t))}else{const n=o.pbrMetallicRoughness||{};if(c.color=new r["Color"](1,1,1),c.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;c.color.fromArray(e),c.opacity=e[3]}void 0!==n.baseColorTexture&&u.push(t.assignTexture(c,"map",n.baseColorTexture)),c.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,c.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(u.push(t.assignTexture(c,"metalnessMap",n.metallicRoughnessTexture)),u.push(t.assignTexture(c,"roughnessMap",n.metallicRoughnessTexture))),a=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,c)}))))}!0===o.doubleSided&&(c.side=r["DoubleSide"]);const h=o.alphaMode||P.OPAQUE;return h===P.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,h===P.MASK&&(c.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&a!==r["MeshBasicMaterial"]&&(u.push(t.assignTexture(c,"normalMap",o.normalTexture)),c.normalScale=new r["Vector2"](1,-1),void 0!==o.normalTexture.scale&&c.normalScale.set(o.normalTexture.scale,-o.normalTexture.scale)),void 0!==o.occlusionTexture&&a!==r["MeshBasicMaterial"]&&(u.push(t.assignTexture(c,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(c.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&a!==r["MeshBasicMaterial"]&&(c.emissive=(new r["Color"]).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&a!==r["MeshBasicMaterial"]&&u.push(t.assignTexture(c,"emissiveMap",o.emissiveTexture)),Promise.all(u).then((function(){let n;return n=a===x?i[s.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(c):new a(c),o.name&&(n.name=o.name),n.map&&(n.map.encoding=r["sRGBEncoding"]),n.emissiveMap&&(n.emissiveMap.encoding=r["sRGBEncoding"]),I(n,o),t.associations.set(n,{type:"materials",index:e}),o.extensions&&F(i,n,o),n}))}createUniqueName(e){const t=r["PropertyBinding"].sanitizeNodeName(e||"");let n=t;for(let r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function o(e){return n[s.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return W(n,e,t)}))}const a=[];for(let c=0,l=e.length;c<l;c++){const n=e[c],l=z(n),u=i[l];if(u)a.push(u.promise);else{let e;e=n.extensions&&n.extensions[s.KHR_DRACO_MESH_COMPRESSION]?o(n):W(new r["BufferGeometry"],n,t),i[l]={primitive:n,promise:e},a.push(e)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,i=this.extensions,o=n.meshes[e],s=o.primitives,a=[];for(let r=0,c=s.length;r<c;r++){const e=void 0===s[r].material?N(this.cache):this.getDependency("material",s[r].material);a.push(e)}return a.push(t.loadGeometries(s)),Promise.all(a).then((function(n){const a=n.slice(0,n.length-1),c=n[n.length-1],l=[];for(let h=0,d=c.length;h<d;h++){const n=c[h],u=s[h];let d;const p=a[h];if(u.mode===M.TRIANGLES||u.mode===M.TRIANGLE_STRIP||u.mode===M.TRIANGLE_FAN||void 0===u.mode)d=!0===o.isSkinnedMesh?new r["SkinnedMesh"](n,p):new r["Mesh"](n,p),!0!==d.isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),u.mode===M.TRIANGLE_STRIP?d.geometry=$(d.geometry,r["TriangleStripDrawMode"]):u.mode===M.TRIANGLE_FAN&&(d.geometry=$(d.geometry,r["TriangleFanDrawMode"]));else if(u.mode===M.LINES)d=new r["LineSegments"](n,p);else if(u.mode===M.LINE_STRIP)d=new r["Line"](n,p);else if(u.mode===M.LINE_LOOP)d=new r["LineLoop"](n,p);else{if(u.mode!==M.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+u.mode);d=new r["Points"](n,p)}Object.keys(d.geometry.morphAttributes).length>0&&B(d,o),d.name=t.createUniqueName(o.name||"mesh_"+e),I(d,o),u.extensions&&F(i,d,u),t.assignFinalMaterial(d),l.push(d)}if(1===l.length)return l[0];const u=new r["Group"];for(let e=0,t=l.length;e<t;e++)u.add(l[e]);return u}))}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(i)return"perspective"===n.type?t=new r["PerspectiveCamera"](r["MathUtils"].radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(t=new r["OrthographicCamera"](-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),I(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}loadAnimation(e){const t=this.json,n=t.animations[e],i=[],o=[],s=[],a=[],c=[];for(let r=0,l=n.channels.length;r<l;r++){const e=n.channels[r],t=n.samplers[e.sampler],l=e.target,u=void 0!==l.node?l.node:l.id,h=void 0!==n.parameters?n.parameters[t.input]:t.input,d=void 0!==n.parameters?n.parameters[t.output]:t.output;i.push(this.getDependency("node",u)),o.push(this.getDependency("accessor",h)),s.push(this.getDependency("accessor",d)),a.push(t),c.push(l)}return Promise.all([Promise.all(i),Promise.all(o),Promise.all(s),Promise.all(a),Promise.all(c)]).then((function(t){const i=t[0],o=t[1],s=t[2],a=t[3],c=t[4],l=[];for(let e=0,n=i.length;e<n;e++){const t=i[e],n=o[e],u=s[e],h=a[e],d=c[e];if(void 0===t)continue;let p;switch(t.updateMatrix(),t.matrixAutoUpdate=!0,R[d.path]){case R.weights:p=r["NumberKeyframeTrack"];break;case R.rotation:p=r["QuaternionKeyframeTrack"];break;case R.position:case R.scale:default:p=r["VectorKeyframeTrack"];break}const f=t.name?t.name:t.uuid,m=void 0!==h.interpolation?O[h.interpolation]:r["InterpolateLinear"],g=[];R[d.path]===R.weights?t.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&g.push(e.name?e.name:e.uuid)})):g.push(f);let v=u.array;if(u.normalized){const e=U(v.constructor),t=new Float32Array(v.length);for(let n=0,r=v.length;n<r;n++)t[n]=v[n]*e;v=t}for(let e=0,r=g.length;e<r;e++){const t=new p(g[e]+"."+R[d.path],n.array,v,m);"CUBICSPLINE"===h.interpolation&&(t.createInterpolant=function(e){return new S(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(t)}}const u=n.name?n.name:"animation_"+e;return new r["AnimationClip"](u,void 0,l)}))}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}loadNode(e){const t=this.json,n=this.extensions,i=this,o=t.nodes[e],s=o.name?i.createUniqueName(o.name):"";return function(){const t=[],n=i._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==o.camera&&t.push(i.getDependency("camera",o.camera).then((function(e){return i._getNodeRef(i.cameraCache,o.camera,e)}))),i._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){let a;if(a=!0===o.isBone?new r["Bone"]:t.length>1?new r["Group"]:1===t.length?t[0]:new r["Object3D"],a!==t[0])for(let e=0,n=t.length;e<n;e++)a.add(t[e]);if(o.name&&(a.userData.name=o.name,a.name=s),I(a,o),o.extensions&&F(n,a,o),void 0!==o.matrix){const e=new r["Matrix4"];e.fromArray(o.matrix),a.applyMatrix4(e)}else void 0!==o.translation&&a.position.fromArray(o.translation),void 0!==o.rotation&&a.quaternion.fromArray(o.rotation),void 0!==o.scale&&a.scale.fromArray(o.scale);return i.associations.set(a,{type:"nodes",index:e}),a}))}loadScene(e){const t=this.json,n=this.extensions,i=this.json.scenes[e],o=this,s=new r["Group"];i.name&&(s.name=o.createUniqueName(i.name)),I(s,i),i.extensions&&F(n,s,i);const a=i.nodes||[],c=[];for(let r=0,l=a.length;r<l;r++)c.push(G(a[r],s,t,o));return Promise.all(c).then((function(){return s}))}}function G(e,t,n,i){const o=n.nodes[e];return i.getDependency("node",e).then((function(e){if(void 0===o.skin)return e;let t;return i.getDependency("skin",o.skin).then((function(e){t=e;const n=[];for(let r=0,o=t.joints.length;r<o;r++)n.push(i.getDependency("node",t.joints[r]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(!e.isMesh)return;const i=[],o=[];for(let s=0,a=n.length;s<a;s++){const e=n[s];if(e){i.push(e);const n=new r["Matrix4"];void 0!==t.inverseBindMatrices&&n.fromArray(t.inverseBindMatrices.array,16*s),o.push(n)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[s])}e.bind(new r["Skeleton"](i,o),e.matrixWorld)})),e}))})).then((function(e){t.add(e);const r=[];if(o.children){const t=o.children;for(let o=0,s=t.length;o<s;o++){const s=t[o];r.push(G(s,e,n,i))}}return Promise.all(r)}))}function H(e,t,n){const i=t.attributes,o=new r["Box3"];if(void 0===i.POSITION)return;{const e=n.json.accessors[i.POSITION],t=e.min,s=e.max;if(void 0===t||void 0===s)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(o.set(new r["Vector3"](t[0],t[1],t[2]),new r["Vector3"](s[0],s[1],s[2])),e.normalized){const t=U(T[e.componentType]);o.min.multiplyScalar(t),o.max.multiplyScalar(t)}}const s=t.targets;if(void 0!==s){const e=new r["Vector3"],t=new r["Vector3"];for(let r=0,i=s.length;r<i;r++){const i=s[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],o=r.min,s=r.max;if(void 0!==o&&void 0!==s){if(t.setX(Math.max(Math.abs(o[0]),Math.abs(s[0]))),t.setY(Math.max(Math.abs(o[1]),Math.abs(s[1]))),t.setZ(Math.max(Math.abs(o[2]),Math.abs(s[2]))),r.normalized){const e=U(T[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(e)}e.boundingBox=o;const a=new r["Sphere"];o.getCenter(a.center),a.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=a}function W(e,t,n){const r=t.attributes,i=[];function o(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(const s in r){const t=L[s]||s.toLowerCase();t in e.attributes||i.push(o(r[s],t))}if(void 0!==t.indices&&!e.index){const r=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(r)}return I(e,t),H(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?D(e,t.targets,n):e}))}function $(e,t){let n=e.getIndex();if(null===n){const t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const i=n.count-2,o=[];if(t===r["TriangleFanDrawMode"])for(let r=1;r<=i;r++)o.push(n.getX(0)),o.push(n.getX(r)),o.push(n.getX(r+1));else for(let r=0;r<i;r++)r%2===0?(o.push(n.getX(r)),o.push(n.getX(r+1)),o.push(n.getX(r+2))):(o.push(n.getX(r+2)),o.push(n.getX(r+1)),o.push(n.getX(r)));o.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=e.clone();return s.setIndex(o),s}},3511:function(e,t){var n=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw n("Maximum allowed index exceeded");return e}},"35a1":function(e,t,n){var r=n("f5df"),i=n("dc4a"),o=n("3f8c"),s=n("b622"),a=s("iterator");e.exports=function(e){if(void 0!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},3698:function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},3729:function(e,t,n){var r=n("9e69"),i=n("00fd"),o=n("29f3"),s="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;function l(e){return null==e?void 0===e?a:s:c&&c in Object(e)?i(e):o(e)}e.exports=l},"37e8":function(e,t,n){var r=n("83ab"),i=n("aed9"),o=n("9bf2"),s=n("825a"),a=n("fc6a"),c=n("df75");t.f=r&&!i?Object.defineProperties:function(e,t){s(e);var n,r=a(t),i=c(t),l=i.length,u=0;while(l>u)o.f(e,n=i[u++],r[n]);return e}},"39ff":function(e,t,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"WeakMap");e.exports=o},"3a9b":function(e,t,n){var r=n("e330");e.exports=r({}.isPrototypeOf)},"3bb4":function(e,t,n){var r=n("08cc"),i=n("ec69");function o(e){var t=i(e),n=t.length;while(n--){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}e.exports=o},"3bbe":function(e,t,n){var r=n("1626"),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},"3c4e":function(e,t,n){"use strict";var r=function(e){return i(e)&&!o(e)};function i(e){return!!e&&"object"===typeof e}function o(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||c(e)}var s="function"===typeof Symbol&&Symbol.for,a=s?Symbol.for("react.element"):60103;function c(e){return e.$$typeof===a}function l(e){return Array.isArray(e)?[]:{}}function u(e,t){var n=t&&!0===t.clone;return n&&r(e)?p(l(e),e,t):e}function h(e,t,n){var i=e.slice();return t.forEach((function(t,o){"undefined"===typeof i[o]?i[o]=u(t,n):r(t)?i[o]=p(e[o],t,n):-1===e.indexOf(t)&&i.push(u(t,n))})),i}function d(e,t,n){var i={};return r(e)&&Object.keys(e).forEach((function(t){i[t]=u(e[t],n)})),Object.keys(t).forEach((function(o){r(t[o])&&e[o]?i[o]=p(e[o],t[o],n):i[o]=u(t[o],n)})),i}function p(e,t,n){var r=Array.isArray(t),i=Array.isArray(e),o=n||{arrayMerge:h},s=r===i;if(s){if(r){var a=o.arrayMerge||h;return a(e,t,n)}return d(e,t,n)}return u(t,n)}p.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return p(e,n,t)}))};var f=p;e.exports=f},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("577e"),o=n("69f3"),s=n("7dd0"),a="String Iterator",c=o.set,l=o.getterFor(a);s(String,"String",(function(e){c(this,{type:a,string:i(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3d87":function(e,t,n){var r=n("4930");e.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},"3f8c":function(e,t){e.exports={}},4002:function(e,t,n){"use strict";n("3ca3");var r,i=n("23e7"),o=n("83ab"),s=n("0d3b"),a=n("da84"),c=n("0366"),l=n("e330"),u=n("cb2d"),h=n("edd0"),d=n("19aa"),p=n("1a2d"),f=n("60da"),m=n("4df4"),g=n("4dae"),v=n("6547").codeAt,y=n("5fb2"),b=n("577e"),x=n("d44e"),w=n("d6d6"),_=n("5352"),S=n("69f3"),M=S.set,T=S.getterFor("URL"),E=_.URLSearchParams,C=_.getState,A=a.URL,L=a.TypeError,R=a.parseInt,O=Math.floor,P=Math.pow,k=l("".charAt),N=l(/./.exec),F=l([].join),I=l(1..toString),D=l([].pop),B=l([].push),z=l("".replace),j=l([].shift),U=l("".split),V=l("".slice),G=l("".toLowerCase),H=l([].unshift),W="Invalid authority",$="Invalid scheme",q="Invalid host",X="Invalid port",Y=/[a-z]/i,Z=/[\d+-.a-z]/i,J=/\d/,K=/^0x/i,Q=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,oe=/[\t\n\r]/g,se=function(e){var t,n,r,i,o,s,a,c=U(e,".");if(c.length&&""==c[c.length-1]&&c.length--,t=c.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=c[r],""==i)return e;if(o=10,i.length>1&&"0"==k(i,0)&&(o=N(K,i)?16:8,i=V(i,8==o?1:2)),""===i)s=0;else{if(!N(10==o?ee:8==o?Q:te,i))return e;s=R(i,o)}B(n,s)}for(r=0;r<t;r++)if(s=n[r],r==t-1){if(s>=P(256,5-t))return null}else if(s>255)return null;for(a=D(n),r=0;r<n.length;r++)a+=n[r]*P(256,3-r);return a},ae=function(e){var t,n,r,i,o,s,a,c=[0,0,0,0,0,0,0,0],l=0,u=null,h=0,d=function(){return k(e,h)};if(":"==d()){if(":"!=k(e,1))return;h+=2,l++,u=l}while(d()){if(8==l)return;if(":"!=d()){t=n=0;while(n<4&&N(te,d()))t=16*t+R(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,l>6)return;r=0;while(d()){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!N(J,d()))return;while(N(J,d())){if(o=R(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}c[l]=256*c[l]+i,r++,2!=r&&4!=r||l++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;c[l++]=t}else{if(null!==u)return;h++,l++,u=l}}if(null!==u){s=l-u,l=7;while(0!=l&&s>0)a=c[l],c[l--]=c[u+s-1],c[u+--s]=a}else if(8!=l)return;return c},ce=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},le=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)H(t,e%256),e=O(e/256);return F(t,".")}if("object"==typeof e){for(t="",r=ce(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=I(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ue={},he=f({},ue,{" ":1,'"':1,"<":1,">":1,"`":1}),de=f({},he,{"#":1,"?":1,"{":1,"}":1}),pe=f({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),fe=function(e,t){var n=v(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ge=function(e,t){var n;return 2==e.length&&N(Y,k(e,0))&&(":"==(n=k(e,1))||!t&&"|"==n)},ve=function(e){var t;return e.length>1&&ge(V(e,0,2))&&(2==e.length||"/"===(t=k(e,2))||"\\"===t||"?"===t||"#"===t)},ye=function(e){return"."===e||"%2e"===G(e)},be=function(e){return e=G(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},xe={},we={},_e={},Se={},Me={},Te={},Ee={},Ce={},Ae={},Le={},Re={},Oe={},Pe={},ke={},Ne={},Fe={},Ie={},De={},Be={},ze={},je={},Ue=function(e,t,n){var r,i,o,s=b(e);if(t){if(i=this.parse(s),i)throw L(i);this.searchParams=null}else{if(void 0!==n&&(r=new Ue(n,!0)),i=this.parse(s,null,r),i)throw L(i);o=C(new E),o.bindURL(this),this.searchParams=o}};Ue.prototype={type:"URL",parse:function(e,t,n){var i,o,s,a,c=this,l=t||xe,u=0,h="",d=!1,f=!1,v=!1;e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=z(e,ie,"")),e=z(e,oe,""),i=m(e);while(u<=i.length){switch(o=i[u],l){case xe:if(!o||!N(Y,o)){if(t)return $;l=_e;continue}h+=G(o),l=we;break;case we:if(o&&(N(Z,o)||"+"==o||"-"==o||"."==o))h+=G(o);else{if(":"!=o){if(t)return $;h="",l=_e,u=0;continue}if(t&&(c.isSpecial()!=p(me,h)||"file"==h&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=h,t)return void(c.isSpecial()&&me[c.scheme]==c.port&&(c.port=null));h="","file"==c.scheme?l=ke:c.isSpecial()&&n&&n.scheme==c.scheme?l=Se:c.isSpecial()?l=Ce:"/"==i[u+1]?(l=Me,u++):(c.cannotBeABaseURL=!0,B(c.path,""),l=Be)}break;case _e:if(!n||n.cannotBeABaseURL&&"#"!=o)return $;if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=g(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,l=je;break}l="file"==n.scheme?ke:Te;continue;case Se:if("/"!=o||"/"!=i[u+1]){l=Te;continue}l=Ae,u++;break;case Me:if("/"==o){l=Le;break}l=De;continue;case Te:if(c.scheme=n.scheme,o==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())l=Ee;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query="",l=ze;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.path.length--,l=De;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query,c.fragment="",l=je}break;case Ee:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,l=De;continue}l=Le}else l=Ae;break;case Ce:if(l=Ae,"/"!=o||"/"!=k(h,u+1))continue;u++;break;case Ae:if("/"!=o&&"\\"!=o){l=Le;continue}break;case Le:if("@"==o){d&&(h="%40"+h),d=!0,s=m(h);for(var y=0;y<s.length;y++){var x=s[y];if(":"!=x||v){var w=fe(x,pe);v?c.password+=w:c.username+=w}else v=!0}h=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(d&&""==h)return W;u-=m(h).length+1,h="",l=Re}else h+=o;break;case Re:case Oe:if(t&&"file"==c.scheme){l=Fe;continue}if(":"!=o||f){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==h)return q;if(t&&""==h&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(h),a)return a;if(h="",l=Ie,t)return;continue}"["==o?f=!0:"]"==o&&(f=!1),h+=o}else{if(""==h)return q;if(a=c.parseHost(h),a)return a;if(h="",l=Pe,t==Oe)return}break;case Pe:if(!N(J,o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||t){if(""!=h){var _=R(h,10);if(_>65535)return X;c.port=c.isSpecial()&&_===me[c.scheme]?null:_,h=""}if(t)return;l=Ie;continue}return X}h+=o;break;case ke:if(c.scheme="file","/"==o||"\\"==o)l=Ne;else{if(!n||"file"!=n.scheme){l=De;continue}if(o==r)c.host=n.host,c.path=g(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=g(n.path),c.query="",l=ze;else{if("#"!=o){ve(F(g(i,u),""))||(c.host=n.host,c.path=g(n.path),c.shortenPath()),l=De;continue}c.host=n.host,c.path=g(n.path),c.query=n.query,c.fragment="",l=je}}break;case Ne:if("/"==o||"\\"==o){l=Fe;break}n&&"file"==n.scheme&&!ve(F(g(i,u),""))&&(ge(n.path[0],!0)?B(c.path,n.path[0]):c.host=n.host),l=De;continue;case Fe:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&ge(h))l=De;else if(""==h){if(c.host="",t)return;l=Ie}else{if(a=c.parseHost(h),a)return a;if("localhost"==c.host&&(c.host=""),t)return;h="",l=Ie}continue}h+=o;break;case Ie:if(c.isSpecial()){if(l=De,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=r&&(l=De,"/"!=o))continue}else c.fragment="",l=je;else c.query="",l=ze;break;case De:if(o==r||"/"==o||"\\"==o&&c.isSpecial()||!t&&("?"==o||"#"==o)){if(be(h)?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||B(c.path,"")):ye(h)?"/"==o||"\\"==o&&c.isSpecial()||B(c.path,""):("file"==c.scheme&&!c.path.length&&ge(h)&&(c.host&&(c.host=""),h=k(h,0)+":"),B(c.path,h)),h="","file"==c.scheme&&(o==r||"?"==o||"#"==o))while(c.path.length>1&&""===c.path[0])j(c.path);"?"==o?(c.query="",l=ze):"#"==o&&(c.fragment="",l=je)}else h+=fe(o,de);break;case Be:"?"==o?(c.query="",l=ze):"#"==o?(c.fragment="",l=je):o!=r&&(c.path[0]+=fe(o,ue));break;case ze:t||"#"!=o?o!=r&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":fe(o,ue)):(c.fragment="",l=je);break;case je:o!=r&&(c.fragment+=fe(o,he));break}u++}},parseHost:function(e){var t,n,r;if("["==k(e,0)){if("]"!=k(e,e.length-1))return q;if(t=ae(V(e,1,-1)),!t)return q;this.host=t}else if(this.isSpecial()){if(e=y(e),N(ne,e))return q;if(t=se(e),null===t)return q;this.host=t}else{if(N(re,e))return q;for(t="",n=m(e),r=0;r<n.length;r++)t+=fe(n[r],ue);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(me,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&ge(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,s=e.path,a=e.query,c=e.fragment,l=t+":";return null!==i?(l+="//",e.includesCredentials()&&(l+=n+(r?":"+r:"")+"@"),l+=le(i),null!==o&&(l+=":"+o)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?s[0]:s.length?"/"+F(s,"/"):"",null!==a&&(l+="?"+a),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw L(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Ve(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+le(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",xe)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=fe(t[n],pe)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=fe(t[n],pe)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?le(e):le(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getHostname:function(){var e=this.host;return null===e?"":le(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Oe)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=b(e),""==e?this.port=null:this.parse(e,Pe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+F(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Ie))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=b(e),""==e?this.query=null:("?"==k(e,0)&&(e=V(e,1)),this.query="",this.parse(e,ze)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=b(e),""!=e?("#"==k(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,je)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ve=function(e){var t=d(this,Ge),n=w(arguments.length,1)>1?arguments[1]:void 0,r=M(t,new Ue(e,!1,n));o||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Ge=Ve.prototype,He=function(e,t){return{get:function(){return T(this)[e]()},set:t&&function(e){return T(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(h(Ge,"href",He("serialize","setHref")),h(Ge,"origin",He("getOrigin")),h(Ge,"protocol",He("getProtocol","setProtocol")),h(Ge,"username",He("getUsername","setUsername")),h(Ge,"password",He("getPassword","setPassword")),h(Ge,"host",He("getHost","setHost")),h(Ge,"hostname",He("getHostname","setHostname")),h(Ge,"port",He("getPort","setPort")),h(Ge,"pathname",He("getPathname","setPathname")),h(Ge,"search",He("getSearch","setSearch")),h(Ge,"searchParams",He("getSearchParams")),h(Ge,"hash",He("getHash","setHash"))),u(Ge,"toJSON",(function(){return T(this).serialize()}),{enumerable:!0}),u(Ge,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),A){var We=A.createObjectURL,$e=A.revokeObjectURL;We&&u(Ve,"createObjectURL",c(We,A)),$e&&u(Ve,"revokeObjectURL",c($e,A))}x(Ve,"URL"),i({global:!0,constructor:!0,forced:!s,sham:!o},{URL:Ve})},"408a":function(e,t,n){var r=n("e330");e.exports=r(1..valueOf)},"40d5":function(e,t,n){var r=n("d039");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},4245:function(e,t,n){var r=n("1290");function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=i},4284:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}e.exports=n},"428f":function(e,t,n){var r=n("da84");e.exports=r},"42a2":function(e,t,n){var r=n("b5a7"),i=n("79bc"),o=n("1cec"),s=n("c869"),a=n("39ff"),c=n("3729"),l=n("dc57"),u="[object Map]",h="[object Object]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",m="[object DataView]",g=l(r),v=l(i),y=l(o),b=l(s),x=l(a),w=c;(r&&w(new r(new ArrayBuffer(1)))!=m||i&&w(new i)!=u||o&&w(o.resolve())!=d||s&&w(new s)!=p||a&&w(new a)!=f)&&(w=function(e){var t=c(e),n=t==h?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return m;case v:return u;case y:return d;case b:return p;case x:return f}return t}),e.exports=w},"44ad":function(e,t,n){var r=n("e330"),i=n("d039"),o=n("c6b6"),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a(e,""):s(e)}:s},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2").f,s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"47f5":function(e,t,n){var r=n("2b03"),i=n("d9a8"),o=n("099a");function s(e,t,n){return t===t?o(e,t,n):r(e,i,n)}e.exports=s},"485a":function(e,t,n){var r=n("c65b"),i=n("1626"),o=n("861d"),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw s("Can't convert object to primitive value")}},"48a0":function(e,t,n){var r=n("242e"),i=n("950a"),o=i(r);e.exports=o},4930:function(e,t,n){var r=n("2d00"),i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"49f4":function(e,t,n){var r=n("6044");function i(){this.__data__=r?r(null):{},this.size=0}e.exports=i},"4d4c":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1);var r=function(){this.Revision="0.40.0",this.defaultMaterialColor=16777215,this.defaultOpacity=1,this.modelPrefix=void 0,this.Geometry=n(2).Geometry,this.Glyph=n(10).Glyph,this.Glyphset=n(13).Glyphset,this.Pointset=n(17).Pointset,this.Lines=n(20).Lines,this.Renderer=n(23).Renderer,this.Scene=n(25).Scene,this.GeometryCSG=n(36).GeometryCSG,this.GlyphsetCSG=n(42).GlyphsetCSG,this.Viewport=n(33).Viewport,this.CameraControls=n(33).CameraControls,this.SmoothCameraTransition=n(33).SmoothCameraTransition,this.RayCaster=n(33).RayCaster,this.CameraAutoTumble=n(33).CameraAutoTumble,this.StereoEffect=n(33).StereoEffect,this.loadExternalFile=n(6).loadExternalFile,this.loadExternalFiles=n(6).loadExternalFiles,this.THREE=n(3)};e.exports=new r},function(e,t){e.exports=n("4f5a")},function(e,t,n){var r=n(3),i=function(){n(4).ZincObject.call(this),this.videoHandler=void 0,this.isGeometry=!0,this.createMesh=(e,t,i)=>{if(!this.geometry||!this.morph||null==e){var o,s=this.toBufferGeometry(e,i),a=!1;if(1>i.opacity&&(a=!0),void 0===s._video){var c=i.localTimeEnabled||i.localMorphColour;t?(o=t,o.morphTargets=c,o.morphNormals=i.localTimeEnabled):o=s instanceof r.BufferGeometry&&void 0===s.attributes.color?new r.MeshPhongMaterial({color:i.colour,morphTargets:c,morphNormals:i.localTimeEnabled,transparent:a,opacity:i.opacity,side:r.DoubleSide}):new r.MeshPhongMaterial({color:i.colour,morphTargets:c,morphNormals:i.localTimeEnabled,vertexColors:r.VertexColors,transparent:a,opacity:i.opacity,side:r.DoubleSide}),i.localMorphColour&&s.morphAttributes.color&&(o.onBeforeCompile=n(9).augmentMorphColor())}else{var l=s._video.createCanvasVideoTexture();o=new r.MeshBasicMaterial({morphTargets:i.localTimeEnabled,color:new r.Color(1,1,1),transparent:a,opacity:i.opacity,map:l,side:r.DoubleSide}),this.videoHandler=s._video}var u=new r.Mesh(s,o);this.setMesh(u,i.localTimeEnabled,i.localMorphColour)}},this.calculateUVs=()=>{this.geometry.computeBoundingBox();var e=this.geometry.boundingBox.max,t=this.geometry.boundingBox.min,n=new r.Vector2(0-t.x,0-t.y),i=new r.Vector2(e.x-t.x,e.y-t.y);this.geometry.faceVertexUvs[0]=[];for(var o=0;o<this.geometry.faces.length;o++){var s=this.geometry.vertices[this.geometry.faces[o].a],a=this.geometry.vertices[this.geometry.faces[o].b],c=this.geometry.vertices[this.geometry.faces[o].c];geometry.faceVertexUvs[0].push([new r.Vector2((s.x+n.x)/i.x,(s.y+n.y)/i.y),new r.Vector2((a.x+n.x)/i.x,(a.y+n.y)/i.y),new r.Vector2((c.x+n.x)/i.x,(c.y+n.y)/i.y)])}geometry.uvsNeedUpdate=!0},this.setWireframe=e=>{this.morph.material.wireframe=e}};i.prototype=Object.create(n(4).ZincObject.prototype),t.Geometry=i},function(e,t){e.exports=n("5a89")},function(e,t,n){var r=n(3),i=n(5).Geometry,o=function(){this.isZincObject=!0,this.geometry=void 0,this.morph=void 0,this.secondaryMesh=void 0,this.groupName=void 0,this.timeEnabled=!1,this.morphColour=!1,this.inbuildTime=0,this.mixer=void 0,this.animationGroup=void 0,this.duration=6e3,this.clipAction=void 0,this.userData={},this.videoHandler=void 0,this.marker=void 0,this.markerUpdateRequired=!0,this.markerVertexIndex=-1,this.boundingBoxUpdateRequired=!0,this.cachedBoundingBox=new r.Box3,this._vertex=new r.Vector3,this.anatomicalId=void 0,this.region=void 0,this.animationClip=void 0};o.prototype.setDuration=function(e){this.duration=e,this.clipAction&&this.clipAction.setDuration(this.duration)},o.prototype.getDuration=function(){return this.duration},o.prototype.setRegion=function(e){this.region=e},o.prototype.getRegion=function(){return this.region},o.prototype.toBufferGeometry=function(e,t){var o;return e instanceof i?(t.localTimeEnabled&&!e.morphNormalsReady&&(null==e.morphNormals||0==e.morphNormals.length)&&e.computeMorphNormals(),o=e.toIndexedBufferGeometry(),t.localMorphColour&&n(6).copyMorphColorsToIndexedBufferGeometry(e,o)):e instanceof r.BufferGeometry&&(o=e.clone()),o.colorsNeedUpdate=!0,o.computeBoundingBox(),o.computeBoundingSphere(),e._video&&(o._video=e._video),o},o.prototype.checkAndCreateTransparentMesh=function(){if(this.isGeometry&&this.morph.material&&this.morph.material.transparent){if(!this.secondaryMesh){var e=this.morph.material.clone();e.side=r.FrontSide,this.secondaryMesh=new r.Mesh(this.morph.geometry,e),this.secondaryMesh.renderOrder=this.morph.renderOrder+1,this.secondaryMesh.userData=this,this.secondaryMesh.name=this.groupName}this.morph.material.side=r.BackSide,this.morph.material.needsUpdate=!0,this.morph.add(this.secondaryMesh),this.animationGroup.add(this.secondaryMesh)}},o.prototype.checkAndRemoveTransparentMesh=function(){this.isGeometry&&this.secondaryMesh&&(this.morph.remove(this.secondaryMesh),this.animationGroup.uncache(this.secondaryMesh),this.animationGroup.remove(this.secondaryMesh)),this.morph.material.side=r.DoubleSide},o.prototype.setMesh=function(e,t,n){if(this.animationGroup=new r.AnimationObjectGroup(e),this.mixer=new r.AnimationMixer(this.animationGroup),this.geometry=e.geometry,this.clipAction=void 0,this.geometry&&this.geometry.morphAttributes){var i=this.geometry.morphAttributes.position;i||(i=this.geometry.morphAttributes.color?this.geometry.morphAttributes.color:this.geometry.morphAttributes.normal),i&&(this.animationClip=r.AnimationClip.CreateClipsFromMorphTargetSequences(i,10,!0),this.animationClip&&null!=this.animationClip[0]&&(this.clipAction=this.mixer.clipAction(this.animationClip[0]).setDuration(this.duration),this.clipAction.loop=r.loopOnce,this.clipAction.clampWhenFinished=!0,this.clipAction.play()))}this.timeEnabled=t,this.morphColour=n,this.morph=e,this.morph.userData=this,this.morph.matrixAutoUpdate=!1,this.checkAndCreateTransparentMesh(),this.timeEnabled?this.setFrustumCulled(!1):this.morphColour&&(this.geometry.setAttribute("morphTarget0",this.geometry.getAttribute("position")),this.geometry.setAttribute("morphTarget1",this.geometry.getAttribute("position"))),this.boundingBoxUpdateRequired=!0},o.prototype.setName=function(e){this.groupName=e,this.morph&&(this.morph.name=this.groupName),this.secondaryMesh&&(this.secondaryMesh.name=this.groupName)},o.prototype.getCurrentTime=function(){if(this.clipAction){var e=this.clipAction.time/this.clipAction._clip.duration;return this.duration*e}return this.inbuildTime};var s=function(e,t){if(t&&e&&e.morphAttributes&&e.morphAttributes.color){var n=e.morphAttributes.color,r=t.morphTargetInfluences,i=r.length;e.deleteAttribute("morphColor0"),e.deleteAttribute("morphColor1");for(var o=0,s=[],a=0;1>o||a<i;a++)0<r[a]&&(o++,s.push([a,r[a]]));2==s.length?(e.setAttribute("morphColor0",n[s[0][0]]),e.setAttribute("morphColor1",n[s[1][0]])):1==s.length&&(e.setAttribute("morphColor0",n[s[0][0]]),e.setAttribute("morphColor1",n[s[0][0]]))}};o.prototype.setMorphTime=function(e){var t=!1;if(this.clipAction){var n=e/this.duration,r=this.clipAction._clip.duration,i=n*r;i!=this.clipAction.time&&(this.clipAction.time=i,t=!0),t&&this.isTimeVarying()&&this.mixer.update(0)}else{var o=e;o=e>this.duration?this.duration:0>e?0:e,o!=this.inbuildTime&&(this.inbuildTime=o,t=!0)}t&&(this.boundingBoxUpdateRequired=!0,s(this.geometry,this.morph),this.timeEnabled&&(this.markerUpdateRequired=!0))},o.prototype.isTimeVarying=function(){return!(!this.timeEnabled&&!this.morphColour)},o.prototype.getVisibility=function(){return this.morph.visible},o.prototype.setVisibility=function(e){this.morph.visible=e},o.prototype.setAlpha=function(e){var t=this.morph.material,n=!1;1>e&&(n=!0);var r=t.transparent!=n;t.opacity=e,t.transparent=n,r&&(n?this.checkAndCreateTransparentMesh():this.checkAndRemoveTransparentMesh()),this.secondaryMesh&&this.secondaryMesh.material&&(this.secondaryMesh.material.opacity=e)},o.prototype.setFrustumCulled=function(e){this.morph&&(this.morph.frustumCulled=e)},o.prototype.setVertexColors=function(e){this.morph.material.vertexColors=e,this.geometry.colorsNeedUpdate=!0,this.secondaryMesh&&this.secondaryMesh.material&&(this.secondaryMesh.material.vertexColors=e)},o.prototype.getColour=function(){return this.morph&&this.morph.material?this.morph.material.color:void 0},o.prototype.setColour=function(e){this.morph.material.color=e,this.secondaryMesh&&this.secondaryMesh.material&&(this.secondaryMesh.material.color=e),this.geometry.colorsNeedUpdate=!0},o.prototype.getColourHex=function(){return this.morphColour?void 0:this.morph.material.color.getHexString()},o.prototype.setColourHex=function(e){this.morph.material.color.setHex(e),this.secondaryMesh&&this.secondaryMesh.material&&this.secondaryMesh.material.color.setHex(e)},o.prototype.setMaterial=function(e){this.morph.material=e,this.geometry.colorsNeedUpdate=!0,this.secondaryMesh&&this.secondaryMesh.material&&(this.secondaryMesh.material.dispose(),this.secondaryMesh.material=e.clone(),this.secondaryMesh.material.side=r.FrontSide)},o.prototype.getClosestVertexIndex=function(){var e=-1;if(this.morph){var t=this.morph.geometry.attributes.position,n=(new r.Box3).setFromBufferAttribute(t),i=new r.Vector3;if(n.getCenter(i),t&&n)for(var o=-1,s=0,a=new r.Vector3,c=0;c<t.count;c++)a.fromArray(t.array,3*c),s=a.distanceTo(i),-1==o?o=s:o>s&&(o=s,e=c)}return e},o.prototype.getClosestVertex=function(){var e=new r.Vector3;if(-1==this.markerVertexIndex&&(this.markerVertexIndex=this.getClosestVertexIndex()),0<=this.markerVertexIndex){var t=this.morph.morphTargetInfluences,n=this.morph.geometry.morphAttributes;if(!(t&&n&&n.position))return e.fromArray(this.morph.geometry.attributes.position.array,3*this.markerVertexIndex),e;for(var i=!1,o=0;o<t.length;o++)0<t[o]&&(i=!0,this._vertex.fromArray(n.position[o].array,3*this.markerVertexIndex),e.add(this._vertex.multiplyScalar(t[o])));if(i)return e}return this.getBoundingBox().getCenter(e),e},o.prototype.getBoundingBox=function(){if(this.morph&&this.morph.visible){if(this.boundingBoxUpdateRequired){var e=this.morph.morphTargetInfluences,t=void 0;this.morph.geometry&&(t=this.morph.geometry.morphAttributes);var n=!1;if(e&&t&&t.position){for(var i=new r.Vector3,o=new r.Vector3,s=new r.Box3,a=0;a<e.length;a++)0<e[a]&&(n=!0,s.setFromArray(t.position[a].array),i.add(s.min.multiplyScalar(e[a])),o.add(s.max.multiplyScalar(e[a])));n&&this.cachedBoundingBox.set(i,o)}n||this.cachedBoundingBox.setFromBufferAttribute(this.morph.geometry.attributes.position),this.boundingBoxUpdateRequired=!1}return this.cachedBoundingBox}},o.prototype.dispose=function(){this.morph&&this.morph.geometry&&this.morph.geometry.dispose(),this.morph&&this.morph.material&&this.morph.material.dispose(),this.secondaryMesh&&this.secondaryMesh.material&&this.secondaryMesh.material.dispose(),this.geometry&&this.geometry.dispose(),this.animationGroup=void 0,this.mixer=void 0,this.morph=void 0,this.clipAction=void 0,this.groupName=void 0},o.prototype.updateMarker=function(e,t){if(0==e&&t&&t.displayMarkers){if(this.groupName){if(this.marker||(this.marker=new(n(7).Marker)(this),this.markerUpdateRequired=!0),this.markerUpdateRequired){var r=this.getClosestVertex();r&&(this.marker.setPosition(r.x,r.y,r.z),this.markerUpdateRequired=!1)}t&&t.camera&&t.markerDepths&&t.markerDepths.push(this.marker.updateNDC(t.camera.cameraObject)),this.marker.isEnabled()||(this.marker.enable(),this.morph.add(this.marker.morph))}}else this.marker&&this.marker.isEnabled()&&(this.marker.disable(),this.morph.remove(this.marker.morph)),this.markerUpdateRequired=!0},o.prototype.processMarkerVisual=function(e,t){this.marker&&this.marker.isEnabled()&&this.marker.updateVisual(e,t)},o.prototype.initiateMorphColor=function(){1==this.morphColour&&"undefined"!=typeof this.geometry&&(this.morph.material.vertexColors==r.VertexColors||1==this.morph.material.vertexColors)&&s(this.geometry,this.morph)},o.prototype.setRenderOrder=function(e){this.morph&&void 0!==e&&(this.morph.renderOrder=e,this.secondaryMesh&&(this.secondaryMesh.renderOrder=this.morph.renderOrder+1))},o.prototype.render=function(e,t,n){if(1==t){if(this.clipAction&&this.isTimeVarying())this.mixer.update(e);else{var i=this.inbuildTime+e;i>this.duration&&(i-=this.duration),this.inbuildTime=i}0!=e&&(this.boundingBoxUpdateRequired=!0,1==this.morphColour&&"undefined"!=typeof this.geometry&&(this.morph.material.vertexColors==r.VertexColors||1==this.morph.material.vertexColors)&&s(this.geometry,this.morph))}this.updateMarker(t,n)},t.ZincObject=o},function(e,t,n){"use strict";n.r(t),n.d(t,"Face3",(function(){return l})),n.d(t,"Geometry",(function(){return a}));var r=n(3),i=new r["Matrix4"],o=new r["Object3D"],s=new r["Vector3"];function a(){this.uuid=r["MathUtils"].generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.normals=[],this.uvs=[],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1,this.morphNormalsReady=!1}a.prototype=Object.assign(Object.create(r["EventDispatcher"].prototype),{constructor:a,isGeometry:!0,applyMatrix4:function(e){for(var t,n=(new r["Matrix3"]).getNormalMatrix(e),i=0,o=this.vertices.length;i<o;i++)t=this.vertices[i],t.applyMatrix4(e);for(var s,a=0,c=this.faces.length;a<c;a++){s=this.faces[a],s.normal.applyMatrix3(n).normalize();for(var l=0,u=s.vertexNormals.length;l<u;l++)s.vertexNormals[l].applyMatrix3(n).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return i.makeRotationX(e),this.applyMatrix4(i),this},rotateY:function(e){return i.makeRotationY(e),this.applyMatrix4(i),this},rotateZ:function(e){return i.makeRotationZ(e),this.applyMatrix4(i),this},translate:function(e,t,n){return i.makeTranslation(e,t,n),this.applyMatrix4(i),this},scale:function(e,t,n){return i.makeScale(e,t,n),this.applyMatrix4(i),this},lookAt:function(e){return o.lookAt(e),o.updateMatrix(),this.applyMatrix4(o.matrix),this},fromBufferGeometry:function(e){function t(e,t,i,o){var s=void 0===c?[]:[n.colors[e].clone(),n.colors[t].clone(),n.colors[i].clone()],d=void 0===a?[]:[(new r["Vector3"]).fromBufferAttribute(a,e),(new r["Vector3"]).fromBufferAttribute(a,t),(new r["Vector3"]).fromBufferAttribute(a,i)],p=new l(e,t,i,d,s,o);n.faces.push(p),void 0!==u&&n.faceVertexUvs[0].push([(new r["Vector2"]).fromBufferAttribute(u,e),(new r["Vector2"]).fromBufferAttribute(u,t),(new r["Vector2"]).fromBufferAttribute(u,i)]),void 0!==h&&n.faceVertexUvs[1].push([(new r["Vector2"]).fromBufferAttribute(h,e),(new r["Vector2"]).fromBufferAttribute(h,t),(new r["Vector2"]).fromBufferAttribute(h,i)])}var n=this,i=null===e.index?void 0:e.index,o=e.attributes;if(void 0===o.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var s=o.position,a=o.normal,c=o.color,u=o.uv,h=o.uv2;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=0;d<s.count;d++)n.vertices.push((new r["Vector3"]).fromBufferAttribute(s,d)),void 0!==c&&n.colors.push((new r["Color"]).fromBufferAttribute(c,d));var p=e.groups;if(0<p.length)for(var f=0;f<p.length;f++)for(var m=p[f],g=m.start,v=m.count,y=g;y<g+v;y+=3)void 0===i?t(y,y+1,y+2,m.materialIndex):t(i.getX(y),i.getX(y+1),i.getX(y+2),m.materialIndex);else if(void 0!==i)for(var b=0;b<i.count;b+=3)t(i.getX(b),i.getX(b+1),i.getX(b+2));else for(var x=0;x<s.count;x+=3)t(x,x+1,x+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(s).negate(),this.translate(s.x,s.y,s.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,i=new r["Matrix4"];return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){for(var e=new r["Vector3"],t=new r["Vector3"],n=0,i=this.faces.length;n<i;n++){var o=this.faces[n],s=this.vertices[o.a],a=this.vertices[o.b],c=this.vertices[o.c];e.subVectors(c,a),t.subVectors(s,a),e.cross(t),e.normalize(),o.normal.copy(e)}},computeVertexNormals:function(){for(var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=Array(this.vertices.length),n=0,i=this.vertices.length;n<i;n++)t[n]=new r["Vector3"];if(e)for(var o=new r["Vector3"],s=new r["Vector3"],a=0,c=this.faces.length;a<c;a++){var l=this.faces[a],u=this.vertices[l.a],h=this.vertices[l.b],d=this.vertices[l.c];o.subVectors(d,h),s.subVectors(u,h),o.cross(s),t[l.a].add(o),t[l.b].add(o),t[l.c].add(o)}else{this.computeFaceNormals();for(var p,f=0,m=this.faces.length;f<m;f++)p=this.faces[f],t[p.a].add(p.normal),t[p.b].add(p.normal),t[p.c].add(p.normal)}for(var g=0,v=this.vertices.length;g<v;g++)t[g].normalize();for(var y=0,b=this.faces.length;y<b;y++){var x=this.faces[y],w=x.vertexNormals;3===w.length?(w[0].copy(t[x.a]),w[1].copy(t[x.b]),w[2].copy(t[x.c])):(w[0]=t[x.a].clone(),w[1]=t[x.b].clone(),w[2]=t[x.c].clone())}return 0<this.faces.length&&(this.normalsNeedUpdate=!0),t},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e],r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var e,t=0,n=this.faces.length;t<n;t++){e=this.faces[t],e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]);for(var i=0,o=e.vertexNormals.length;i<o;i++)e.__originalVertexNormals[i]?e.__originalVertexNormals[i].copy(e.vertexNormals[i]):e.__originalVertexNormals[i]=e.vertexNormals[i].clone()}var s=new a;s.faces=this.faces;for(var c=0,l=this.morphTargets.length;c<l;c++){if(!this.morphNormals[c]){this.morphNormals[c]={},this.morphNormals[c].faceNormals=[],this.morphNormals[c].vertexNormals=[];for(var u=this.morphNormals[c].faceNormals,h=this.morphNormals[c].vertexNormals,d=0,p=this.faces.length;d<p;d++){var f=new r["Vector3"],m={a:new r["Vector3"],b:new r["Vector3"],c:new r["Vector3"]};u.push(f),h.push(m)}}var g=this.morphNormals[c];s.vertices=this.morphTargets[c].vertices,s.computeFaceNormals();var v=s.computeVertexNormals();if(v&&0<v.length){this.morphTargets[c].normals=Array(this.vertices.length);for(var y=0;y<v.length;y++)this.morphTargets[c].normals[y]=v[y].clone()}for(var b=0,x=this.faces.length;b<x;b++){var w=this.faces[b],_=g.faceNormals[b],S=g.vertexNormals[b];_.copy(w.normal),S.a.copy(w.vertexNormals[0]),S.b.copy(w.vertexNormals[1]),S.c.copy(w.vertexNormals[2])}}for(var M,T=0,E=this.faces.length;T<E;T++)M=this.faces[T],M.normal=M.__originalFaceNormal,M.vertexNormals=M.__originalVertexNormals;this.morphNormalsReady=!0},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new r["Box3"]),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new r["Sphere"]),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(e&&e.isGeometry){var i,o=this.vertices.length,s=this.vertices,a=e.vertices,c=this.faces,u=e.faces,h=this.colors,d=e.colors;void 0!==t&&(i=(new r["Matrix3"]).getNormalMatrix(t));for(var p=0,f=a.length;p<f;p++){var m=a[p],g=m.clone();void 0!==t&&g.applyMatrix4(t),s.push(g)}for(var v=0,y=d.length;v<y;v++)h.push(d[v].clone());for(var b=0,x=u.length;b<x;b++){var w=u[b],_=void 0,S=void 0,M=w.vertexNormals,T=w.vertexColors,E=new l(w.a+o,w.b+o,w.c+o);E.normal.copy(w.normal),void 0!==i&&E.normal.applyMatrix3(i).normalize();for(var C=0,A=M.length;C<A;C++)_=M[C].clone(),void 0!==i&&_.applyMatrix3(i).normalize(),E.vertexNormals.push(_);E.color.copy(w.color);for(var L=0,R=T.length;L<R;L++)S=T[L],E.vertexColors.push(S.clone());E.materialIndex=w.materialIndex+n,c.push(E)}for(var O,P=0,k=e.faceVertexUvs.length;P<k;P++){O=e.faceVertexUvs[P],void 0===this.faceVertexUvs[P]&&(this.faceVertexUvs[P]=[]);for(var N=0,F=O.length;N<F;N++){for(var I=O[N],D=[],B=0,z=I.length;B<z;B++)D.push(I[B].clone());this.faceVertexUvs[P].push(D)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){return e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),void this.merge(e.geometry,e.matrix)):void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:4,t={},n=[],r=[],i=Math.pow(10,e),o=0,s=this.vertices.length;o<s;o++){var a=this.vertices[o],c=Math.round(a.x*i)+"_"+Math.round(a.y*i)+"_"+Math.round(a.z*i);void 0===t[c]?(t[c]=o,n.push(this.vertices[o]),r[o]=n.length-1):r[o]=r[t[c]]}for(var l,u=[],h=0,d=this.faces.length;h<d;h++){l=this.faces[h],l.a=r[l.a],l.b=r[l.b],l.c=r[l.c];for(var p=[l.a,l.b,l.c],f=0;3>f;f++)if(p[f]===p[(f+1)%3]){u.push(h);break}}for(var m,g=u.length-1;0<=g;g--){m=u[g],this.faces.splice(m,1);for(var v=0,y=this.faceVertexUvs.length;v<y;v++)this.faceVertexUvs[v].splice(m,1)}var b=this.vertices.length-n.length;return this.vertices=n,b},setFromPoints:function(e){this.vertices=[];for(var t,n=0,i=e.length;n<i;n++)t=e[n],this.vertices.push(new r["Vector3"](t.x,t.y,t.z||0));return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),s&&s.length===t&&(i=[]);for(var a,c=0;c<t;c++)a=e[c]._id,r&&r.push(o[a]),i&&i.push(s[a]);r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0===d[t]?(d[t]=h.length/3,h.push(e.x,e.y,e.z),d[t]):d[t]}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0===f[t]?(f[t]=p.length,p.push(e.getHex()),f[t]):f[t]}function r(e){var t=e.x.toString()+e.y.toString();return void 0===g[t]?(g[t]=m.length/2,m.push(e.x,e.y),g[t]):g[t]}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var s in o)void 0!==o[s]&&(i[s]=o[s]);return i}for(var a,c=[],l=0;l<this.vertices.length;l++)a=this.vertices[l],c.push(a.x,a.y,a.z);for(var u=[],h=[],d={},p=[],f={},m=[],g={},v=0;v<this.faces.length;v++){var y=this.faces[v],b=void 0!==this.faceVertexUvs[0][v],x=0<y.normal.length(),w=0<y.vertexNormals.length,_=1!==y.color.r||1!==y.color.g||1!==y.color.b,S=0<y.vertexColors.length,M=0;if(M=e(M,0,0),M=e(M,1,!0),M=e(M,2,!1),M=e(M,3,b),M=e(M,4,x),M=e(M,5,w),M=e(M,6,_),M=e(M,7,S),u.push(M),u.push(y.a,y.b,y.c),u.push(y.materialIndex),b){var T=this.faceVertexUvs[0][v];u.push(r(T[0]),r(T[1]),r(T[2]))}if(x&&u.push(t(y.normal)),w){var E=y.vertexNormals;u.push(t(E[0]),t(E[1]),t(E[2]))}if(_&&u.push(n(y.color)),S){var C=y.vertexColors;u.push(n(C[0]),n(C[1]),n(C[2]))}}return i.data={},i.data.vertices=c,i.data.normals=h,0<p.length&&(i.data.colors=p),0<m.length&&(i.data.uvs=[m]),i.data.faces=u,i},clone:function(){return(new a).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var t=e.vertices,n=0,r=t.length;n<r;n++)this.vertices.push(t[n].clone());for(var i=e.colors,o=0,s=i.length;o<s;o++)this.colors.push(i[o].clone());for(var a=e.faces,c=0,l=a.length;c<l;c++)this.faces.push(a[c].clone());for(var u,h=0,d=e.faceVertexUvs.length;h<d;h++){u=e.faceVertexUvs[h],void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(var p=0,f=u.length;p<f;p++){for(var m,g=u[p],v=[],y=0,b=g.length;y<b;y++)m=g[y],v.push(m.clone());this.faceVertexUvs[h].push(v)}}for(var x,w=e.morphTargets,_=0,S=w.length;_<S;_++){if(x={},x.name=w[_].name,void 0!==w[_].vertices){x.vertices=[];for(var M=0,T=w[_].vertices.length;M<T;M++)x.vertices.push(w[_].vertices[M].clone())}if(void 0!==w[_].normals){x.normals=[];for(var E=0,C=w[_].normals.length;E<C;E++)x.normals.push(w[_].normals[E].clone())}this.morphTargets.push(x)}for(var A,L=e.morphNormals,R=0,O=L.length;R<O;R++){if(A={},void 0!==L[R].vertexNormals){A.vertexNormals=[];for(var P=0,k=L[R].vertexNormals.length;P<k;P++){var N=L[R].vertexNormals[P],F={};F.a=N.a.clone(),F.b=N.b.clone(),F.c=N.c.clone(),A.vertexNormals.push(F)}}if(void 0!==L[R].faceNormals){A.faceNormals=[];for(var I=0,D=L[R].faceNormals.length;I<D;I++)A.faceNormals.push(L[R].faceNormals[I].clone())}this.morphNormals.push(A)}for(var B=e.skinWeights,z=0,j=B.length;z<j;z++)this.skinWeights.push(B[z].clone());for(var U=e.skinIndices,V=0,G=U.length;V<G;V++)this.skinIndices.push(U[V].clone());for(var H=e.lineDistances,W=0,$=H.length;W<$;W++)this.lineDistances.push(H[W]);var q=e.boundingBox;null!==q&&(this.boundingBox=q.clone());var X=e.boundingSphere;return null!==X&&(this.boundingSphere=X.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},computeGroups(){var e,t,n=[],r=void 0,i=this.faces;for(t=0;t<i.length;t++){var o=i[t];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*t-e.start,n.push(e)),e={start:3*t,materialIndex:r})}return void 0!==e&&(e.count=3*t-e.start,n.push(e)),n},toBufferGeometry:function(){var e=(new c).fromGeometry(this),t=new r["BufferGeometry"],n=new Float32Array(3*e.vertices.length);if(t.setAttribute("position",new r["BufferAttribute"](n,3).copyVector3sArray(e.vertices)),0<e.normals.length){var i=new Float32Array(3*e.normals.length);t.setAttribute("normal",new r["BufferAttribute"](i,3).copyVector3sArray(e.normals))}if(0<e.colors.length){var o=new Float32Array(3*e.colors.length);t.setAttribute("color",new r["BufferAttribute"](o,3).copyColorsArray(e.colors))}if(0<e.uvs.length){var s=new Float32Array(2*e.uvs.length);t.setAttribute("uv",new r["BufferAttribute"](s,2).copyVector2sArray(e.uvs))}if(0<e.uvs2.length){var a=new Float32Array(2*e.uvs2.length);t.setAttribute("uv2",new r["BufferAttribute"](a,2).copyVector2sArray(e.uvs2))}for(var l in t.groups=e.groups,e.morphTargets){for(var u=[],h=e.morphTargets[l],d=0,p=h.length;d<p;d++){var f=h[d],m=new r["Float32BufferAttribute"](3*f.data.length,3);m.name=f.name,u.push(m.copyVector3sArray(f.data))}t.morphAttributes[l]=u}if(0<e.skinIndices.length){var g=new r["Float32BufferAttribute"](4*e.skinIndices.length,4);t.setAttribute("skinIndex",g.copyVector4sArray(e.skinIndices))}if(0<e.skinWeights.length){var v=new r["Float32BufferAttribute"](4*e.skinWeights.length,4);t.setAttribute("skinWeight",v.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(t.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(t.boundingBox=e.boundingBox.clone()),t},toIndexedBufferGeometry:function(){var e=new r["BufferGeometry"],t=new Float32Array(3*this.vertices.length);if(e.setAttribute("position",new r["BufferAttribute"](t,3).copyVector3sArray(this.vertices)),0<this.normals.length){var n=new Float32Array(this.normals.length),i=new r["BufferAttribute"](n,3).copyArray(this.normals);e.setAttribute("normal",i)}if(0<this.uvs.length&&0<this.uvs[0].length){var o=new Float32Array(2*this.uvs[0].length);e.setAttribute("uv",new r["BufferAttribute"](o,2).copyArray(this.uvs[0]))}if(1<this.uvs.length&&0<this.uvs[1].length){var s=new Float32Array(2*this.uvs[1].length);e.setAttribute("uv2",new r["BufferAttribute"](s,2).copyArray(this.uvs[1]))}if(0<this.colors.length){for(var a=[],c=0;c<this.colors.length;c++)a.push(new r["Color"](this.colors[c]));var l=new Float32Array(3*a.length);e.setAttribute("color",new r["BufferAttribute"](l,3).copyColorsArray(a))}else{for(var u=new Float32Array(3*this.vertices.length),h=0;h<3*this.vertices.length;h++)u[h]=1;e.setAttribute("color",new r["BufferAttribute"](u,3))}if(0<this.faces.length){for(var d=[],p=[],f=0;f<this.faces.length;f++){p.push(this.faces[f].a,this.faces[f].b,this.faces[f].c);var m=this.faces[f].vertexColors;if(3===m.length)d.push(m[0],m[1],m[2]);else{var g=this.faces[f].color;d.push(g,g,g)}}e.setIndex(p),e.groups=this.computeGroups()}if(0<this.morphTargets.length){for(var v=[],y=[],b=0,x=this.morphTargets.length;b<x;b++){var w=this.morphTargets[b],_=new r["Float32BufferAttribute"](3*w.vertices.length,3);if(_.name=w.name,v.push(_.copyVector3sArray(w.vertices)),w.normals){var S=new r["Float32BufferAttribute"](3*w.normals.length,3);S.name=w.name,y.push(S.copyVector3sArray(w.normals))}}e.morphAttributes.position=v,e.morphAttributes.normal=y}if(0<this.skinIndices.length){var M=new r["Float32BufferAttribute"](4*this.skinIndices.length,4);e.setAttribute("skinIndex",M.copyVector4sArray(this.skinIndices))}if(0<this.skinWeights.length){var T=new r["Float32BufferAttribute"](4*this.skinWeights.length,4);e.setAttribute("skinWeight",T.copyVector4sArray(this.skinWeights))}return null!==this.boundingSphere&&(e.boundingSphere=this.boundingSphere.clone()),null!==this.boundingBox&&(e.boundingBox=this.boundingBox.clone()),e},computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},dispose:function(){this.dispatchEvent({type:"dispose"})}}),a.createBufferGeometryFromObject=function(e){var t=new r["BufferGeometry"],n=e.geometry;if(e.isPoints||e.isLine){var i=new r["Float32BufferAttribute"](3*n.vertices.length,3),o=new r["Float32BufferAttribute"](3*n.colors.length,3);if(t.setAttribute("position",i.copyVector3sArray(n.vertices)),t.setAttribute("color",o.copyColorsArray(n.colors)),n.lineDistances&&n.lineDistances.length===n.vertices.length){var s=new r["Float32BufferAttribute"](n.lineDistances.length,1);t.setAttribute("lineDistance",s.copyArray(n.lineDistances))}null!==n.boundingSphere&&(t.boundingSphere=n.boundingSphere.clone()),null!==n.boundingBox&&(t.boundingBox=n.boundingBox.clone())}else e.isMesh&&(t=n.toBufferGeometry());return t};class c{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){var t,n,r=[],i=void 0,o=e.faces;for(n=0;n<o.length;n++){var s=o[n];s.materialIndex!==i&&(i=s.materialIndex,void 0!==t&&(t.count=3*n-t.start,r.push(t)),t={start:3*n,materialIndex:i})}void 0!==t&&(t.count=3*n-t.start,r.push(t)),this.groups=r}fromGeometry(e){var t,n=e.faces,i=e.vertices,o=e.faceVertexUvs,s=o[0]&&0<o[0].length,a=o[1]&&0<o[1].length,c=e.morphTargets,l=c.length;if(0<l){t=[];for(var u=0;u<l;u++)t[u]={name:c[u].name,data:[]};this.morphTargets.position=t}var h,d=e.morphNormals,p=d.length;if(0<p){h=[];for(var f=0;f<p;f++)h[f]={name:d[f].name,data:[]};this.morphTargets.normal=h}var m=e.skinIndices,g=e.skinWeights,v=m.length===i.length,y=g.length===i.length;0<i.length&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var b,x=0;x<n.length;x++){b=n[x],this.vertices.push(i[b.a],i[b.b],i[b.c]);var w=b.vertexNormals;if(3===w.length)this.normals.push(w[0],w[1],w[2]);else{var _=b.normal;this.normals.push(_,_,_)}var S=b.vertexColors;if(3===S.length)this.colors.push(S[0],S[1],S[2]);else{var M=b.color;this.colors.push(M,M,M)}if(!0===s){var T=o[0][x];void 0===T?(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",x),this.uvs.push(new r["Vector2"],new r["Vector2"],new r["Vector2"])):this.uvs.push(T[0],T[1],T[2])}if(!0===a){var E=o[1][x];void 0===E?(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",x),this.uvs2.push(new r["Vector2"],new r["Vector2"],new r["Vector2"])):this.uvs2.push(E[0],E[1],E[2])}for(var C,A=0;A<l;A++)C=c[A].vertices,t[A].data.push(C[b.a],C[b.b],C[b.c]);for(var L,R=0;R<p;R++)L=d[R].vertexNormals[x],h[R].data.push(L.a,L.b,L.c);v&&this.skinIndices.push(m[b.a],m[b.b],m[b.c]),y&&this.skinWeights.push(g[b.a],g[b.b],g[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}}class l{constructor(e,t,n,i,o){var s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new r["Vector3"],this.vertexNormals=Array.isArray(i)?i:[],this.color=o&&o.isColor?o:new r["Color"],this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=s}clone(){return(new this.constructor).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var r=0,i=e.vertexColors.length;r<i;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}}},function(e,t,n){function r(e){throw new Error('"'+e+'" is read-only')}var i=n(3);function o(e){var t=e,i=n(0).modelPrefix;if(i){"/"!=i[i.length-1]&&(r("prefix"),i+="/");var o=/^(?:[a-z]+:)?\/\//i;o.test(e)||(t=i+e)}return t}function s(e,t,n,r){var i=new XMLHttpRequest;i.open("GET",o(e),!0),i.onreadystatechange=()=>{4==i.readyState&&(200==i.status?n(i.responseText,t):r(e))},i.send(null)}function a(e,t,n){function r(e,n){a[n]=e,o++,o==i&&t(a)}for(var i=e.length,o=0,a=[],c=0;c<i;c++)s(e[c],c,r,n)}function c(e){if(e.isMeshPhongMaterial){var t=new i.MeshToonMaterial({color:e.color.clone(),morphTargets:e.morphTargets,morphNormals:e.morphNormals,vertexColors:e.vertexColors,transparent:e.transparent,opacity:e.opacity,side:e.side});return e.map&&(t.map=e.map),t}return e}t.getColorsRGB=(e,t)=>{var n=Math.floor(t/3),r=t%3,o=0;0==r?o=e[n].r:1==r?o=e[n].g:2==r&&(o=e[n].b);var s=new i.Color(o);return[s.r,s.g,s.b]},t.copyMorphColorsToBufferGeometry=(e,t)=>{if(e&&e.morphColors&&0<e.morphColors.length){for(var r=[],o=e.morphColors,s=n(6).getColorsRGB,a=0,c=o.length;a<c;a++){for(var l=o[a],u=[],h=0;h<e.faces.length;h++){var d=e.faces[h],p=s(l.colors,d.a);u.push(p[0],p[1],p[2]),p=s(l.colors,d.b),u.push(p[0],p[1],p[2]),p=s(l.colors,d.c),u.push(p[0],p[1],p[2])}var f=new i.Float32BufferAttribute(3*e.faces.length*3,3);f.name=l.name,r.push(f.copyArray(u))}t.morphAttributes.color=r}},t.copyMorphColorsToIndexedBufferGeometry=(e,t)=>{if(e&&e.morphColors&&0<e.morphColors.length){for(var r=[],o=e.morphColors,s=n(6).getColorsRGB,a=0,c=o.length;a<c;a++){for(var l,u=o[a],h=[],d=0;d<3*u.colors.length;d++)l=s(u.colors,d),h.push(l[0],l[1],l[2]);var p=new i.Float32BufferAttribute(h,3);p.name=u.name,r.push(p)}t.morphAttributes.color=r}},t.mergeVertices=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),o=e.getAttribute("position"),s=r?r.count:o.count,a=0,c=Object.keys(e.attributes),l={},u={},h=[],d=["getX","getY","getZ","getW"],p=0,f=c.length;p<f;p++){w=c[p],l[w]=[];var m=e.morphAttributes[w];m&&(u[w]=Array(m.length).fill().map(()=>[]))}var g=Math.log10(1/t),v=Math.pow(10,g);for(p=0;p<s;p++){var y=r?r.getX(p):p,b="",x=0;for(f=c.length;x<f;x++)for(var w=c[x],_=e.getAttribute(w),S=_.itemSize,M=0;M<S;M++)b+="".concat(~~(_[d[M]](y)*v),",");if(b in n)h.push(n[b]);else{for(x=0,f=c.length;x<f;x++){w=c[x],_=e.getAttribute(w),m=e.morphAttributes[w],S=_.itemSize;var T,E=l[w],C=u[w];for(M=0;M<S;M++)if(T=d[M],E.push(_[T](y)),m)for(var A=0,L=m.length;A<L;A++)C[A].push(m[A][T](y))}n[b]=a,h.push(a),a++}}var R=e.clone();for(p=0,f=c.length;p<f;p++){w=c[p];var O=e.getAttribute(w),P=new O.array.constructor(l[w]);if(O.isInterleavedBufferAttribute?_=new i.BufferAttribute(P,O.itemSize,O.itemSize):(_=e.getAttribute(w).clone(),_.setArray(P)),R.setAttribute(w,_),w in u){var k;for(x=0;x<u[w].length;x++)k=e.morphAttributes[w][x].clone(),k.setArray(new k.array.constructor(u[w][x])),R.morphAttributes[w][x]=k}}var N=Uint8Array;h.length>=Math.pow(2,8)&&(N=Uint16Array),h.length>=Math.pow(2,16)&&(N=Uint32Array);var F=new N(h);h=null;return null===r?h=new i.BufferAttribute(F,1):(h=e.getIndex().clone(),h.setArray(F)),R.setIndex(h),R},t.resolveURL=o,t.loadExternalFile=s,t.loadExternalFiles=a,t.PhongToToon=c},function(e,t,n){var r=n(3),i=new Image(128,128);i.src=n(8);var o=new r.Texture;o.image=i,o.needsUpdate=!0;var s=[.015,.02,1],a=function(e){n(4).ZincObject.call(this),this.texture=o;var t=void 0,i=void 0;this.morph=new r.Group,this.parent=e,this.isMarker=!0;var a=!1,c=new r.Vector3,l=()=>{t=new r.SpriteMaterial({map:o,alphaTest:.5,transparent:!0,depthTest:!1,depthWrite:!1,sizeAttenuation:!1}),i=new r.Sprite(t),i.center.set(.5,0),this.morph.add(i),this.morph.position.set(0,0,0),this.morph.renderOrder=1e4,i.scale.set(s[0],s[1],s[2]),i.userData=this};this.updateVisual=(e,t)=>{var n=1,r=1,o=0;e!==t&&(o=1-(c.z-e)/(t-e),n=.5+.5*o,r=.6+.4*o),i.material.opacity=r,this.setSpriteSize(n)},this.updateNDC=e=>(c.copy(this.morph.position),c.project(e),c.z=Math.min(Math.max(c.z,0),1),c.z),this.setPosition=(e,t,n)=>{this.morph.position.set(e,t,n)},this.setSpriteSize=e=>{i.scale.set(.015,.02,1),i.scale.multiplyScalar(e)},this.isEnabled=()=>a,this.enable=()=>{a=!0,this.morph.visible=!0},this.disable=()=>{a=!1,this.morph.visible=!1},l()};a.prototype=Object.create(n(4).ZincObject.prototype),t.Marker=a},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzY1IDU2MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMzY1IDU2MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBmaWxsPSIjMDBBRUVGIiBkPSJNMTgyLjksNTUxLjdjMCwwLjEsMC4yLDAuMywwLjIsMC4zUzM1OC4zLDI4MywzNTguMywxOTQuNmMwLTEzMC4xLTg4LjgtMTg2LjctMTc1LjQtMTg2LjkNCgkJQzk2LjMsNy45LDcuNSw2NC41LDcuNSwxOTQuNmMwLDg4LjQsMTc1LjMsMzU3LjQsMTc1LjMsMzU3LjRTMTgyLjksNTUxLjcsMTgyLjksNTUxLjd6IE0xMjIuMiwxODcuMmMwLTMzLjYsMjcuMi02MC44LDYwLjgtNjAuOA0KCQljMzMuNiwwLDYwLjgsMjcuMiw2MC44LDYwLjhTMjE2LjUsMjQ4LDE4Mi45LDI0OEMxNDkuNCwyNDgsMTIyLjIsMjIwLjgsMTIyLjIsMTg3LjJ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg=="},function(e,t){t.augmentMorphColor=function(){return function(e){e.vertexShader=e.vertexShader.replace("#include <color_pars_vertex>",["varying vec3 vColor;","attribute vec3 morphColor0;","attribute vec3 morphColor1;"].join("\n")),e.vertexShader=e.vertexShader.replace("#include <color_vertex>",["vColor.xyz = color.xyz;","#ifdef USE_MORPHTARGETS","vColor = morphColor0 * morphTargetInfluences[ 0 ];","vColor += morphColor1 * morphTargetInfluences[ 1 ];","#endif"].join("\n"))}}},function(e,t,n){var r=n(3),i=function(e,t,i,o){var s;n(4).ZincObject.call(this),t&&(s=t.clone(),s.vertexColors=r.FaceColors),this.id=i;var a=void 0,c=void 0,l=new r.Group;this.isGlyph=!0,this.fromMesh=e=>!(!e||!e.isMesh)&&(this.morph=e.clone(),this.morph.userData=this,l.add(this.morph),!0),e&&s&&this.fromMesh(new r.Mesh(e,s)),this.getGlyphset=function(){return o},this.setLabel=e=>{e&&("string"==typeof e||e instanceof String)&&(c=e,this.morph&&(this.morph.name=e)),a&&this.showLabel()},this.showLabel=e=>{if(a&&(position=a.getPosition(),l.remove(a.getSprite()),a.dispose(),a=void 0),c&&("string"==typeof c||c instanceof String)){var t=[0,0,0];a=new(n(11).Label)(c,e),a.setPosition(t[0],t[1],t[2]),l.add(a.getSprite())}},this.getGroup=()=>l,this.getLabel=()=>c,this.getMesh=()=>this.morph,this.setTransformation=(e,t,n,r)=>{this.morph&&(this.morph.matrix.elements[0]=t[0],this.morph.matrix.elements[1]=t[1],this.morph.matrix.elements[2]=t[2],this.morph.matrix.elements[3]=0,this.morph.matrix.elements[4]=n[0],this.morph.matrix.elements[5]=n[1],this.morph.matrix.elements[6]=n[2],this.morph.matrix.elements[7]=0,this.morph.matrix.elements[8]=r[0],this.morph.matrix.elements[9]=r[1],this.morph.matrix.elements[10]=r[2],this.morph.matrix.elements[11]=0,this.morph.matrix.elements[12]=e[0],this.morph.matrix.elements[13]=e[1],this.morph.matrix.elements[14]=e[2],this.morph.matrix.elements[15]=1,this.morph.matrixAutoUpdate=!1),a&&a.setPosition(e[0],e[1],e[2])},this.setColour=e=>{a&&a.setColour(e),this.secondaryMesh&&this.secondaryMesh.material&&(this.secondaryMesh.material.color=colour),this.geometry.colorsNeedUpdate=!0},this.dispose=()=>{this.material&&this.material.dispose(),this.morph=void 0}};i.prototype=Object.create(n(4).ZincObject.prototype),t.Glyph=i},function(e,t,n){var r=n(12).default;t.Label=function(e,t){var n=e,i=void 0;i=t?new r(n,.015,t.getStyle()):new r(n,.015),i.material.sizeAttenuation=!1,i.center.x=-.05,i.center.y=0,this.getPosition=()=>i?[i.position.x,i.position.y,i.position.z]:[0,0,0],this.setPosition=(e,t,n)=>{i&&i.position.set(e,t,n)},this.setColour=e=>{i.color=e.getStyle()},this.setScale=e=>{i&&0<e&&i.scale.set(e,e,1)},this.dispose=()=>{i.dispose()},this.getSprite=()=>i,this.getString=()=>n}},function(e,t){e.exports=n("8a5a")},function(e,t,n){var r=n(3),i=n(14).JSONLoader,o=function(){n(4).ZincObject.call(this);var e=[],t=void 0,o=void 0,s=void 0,a=void 0,c=void 0,l=void 0,u=void 0,h=0,d=0,p=[0,0,0],f=[0,0,0],m=[0,0,0],g="NONE";this.ready=!1;var v=!1,y=!1;this.isGlyphset=!0;for(var b=new r.Matrix4,x=new r.Color,w=new r.Color,_=new r.Box3,S=new r.Box3,M=new r.Box3,T=[],E=0;8>E;E++)T[E]=new r.Vector3;this.getGroup=()=>this.morph,this.load=(e,n,b,x,w)=>{t=e.axis1,o=e.axis2,s=e.axis3,a=e.positions,c=e.scale,l=e.colors,u=e.label,v=e.metadata.MorphColours,y=e.metadata.MorphVertices,h=e.metadata.number_of_time_steps,g=e.metadata.repeat_mode,d=e.metadata.number_of_vertices,"AXES_2D"==g||"MIRROR"==g?d*=2:"AXES_3D"==g&&(d*=3),p=e.metadata.base_size,f=e.metadata.offset,m=e.metadata.scale_factors;var _=new i;if(this.geometry=new r.BufferGeometry,this.morph=new r.InstancedMesh(this.geometry,void 0,d),x){var S=_.parse(n);P(b,w)(S.geometry,S.materials),S.geometry.dispose()}else _.crossOrigin="Anonymous",_.load(n,P(b,w))};var C=(e,t,n,r,i)=>{var o=[];if("NONE"==g||"MIRROR"==g){for(var s=[0,0,0],a=[0,0,0],c=[0,0,0],l=[0,0,0],u=[0,0,0],h=[0,0,0],d=[0,0,0],v=[0,0,0],y=[0,0,0],b=0;3>b;b++)x=0>i[b]?-1:1,s[b]=x*p[b]+i[b]*m[b];for(b=0;3>b;b++)a[b]=t[b]*s[0],c[b]=n[b]*s[1],l[b]=r[b]*s[2],u[b]=e[b]+f[0]*a[b]+f[1]*c[b]+f[2]*l[b],"MIRROR"==g&&(h[b]=-a[b],d[b]=-c[b],v[b]=-l[b],y[b]=u[b],0>i[0]&&(u[b]-=a[b],y[b]-=h[b]));0>l[0]*(a[1]*c[2]-a[2]*c[1])+l[1]*(a[2]*c[0]-a[0]*c[2])+l[2]*(a[0]*c[1]-a[1]*c[0])&&(l[0]=-l[0],l[1]=-l[1],l[2]=-l[2]),o.push([u,a,c,l]),"MIRROR"==g&&(0>v[0]*(h[1]*d[2]-h[2]*d[1])+v[1]*(h[2]*d[0]-h[0]*d[2])+v[2]*(h[0]*d[1]-h[1]*d[0])&&(v[0]=-v[0],v[1]=-v[1],v[2]=-v[2]),o.push([y,h,d,v]))}else if("AXES_2D"==g||"AXES_3D"==g){var x,w=[0,0,0],_=[0,0,0];for(b=0;3>b;b++)x=0>i[b]?-1:1,w[b]=x*p[0]+i[b]*m[0];for(b=0;3>b;b++)_[b]=e[b]+f[0]*w[0]*t[b]+f[1]*w[1]*n[b]+f[2]*w[2]*r[b];for(var S="AXES_2D"==glyph_repeat_mode?2:3,M=0;M<S;M++){var T=void 0,E=void 0,C=i[M],A=[0,0,0],L=[0,0,0],R=[0,0,0];0==M?(T=t,E=n):1==M?(T=n,E="AXES_2D"==glyph_repeat_mode?t:r):(T=r,E=t);var O=p[0]+C*m[0];A[0]=T[0]*O,A[1]=T[1]*O,A[2]=T[2]*O,R[0]=A[1]*E[2]-E[1]*A[2],R[1]=A[2]*E[0]-E[2]*A[0],R[2]=A[0]*E[1]-A[1]*E[0];var P=Math.sqrt(R[0]*R[0]+R[1]*R[1]+R[2]*R[2]);if(0<P){var k=(p[2]+C*m[2])/P;"AXES_2D"==g&&0<M&&(k*=-1),R[0]*=k,R[1]*=k,R[2]*=k}if(L[0]=R[1]*A[2]-A[1]*R[2],L[1]=R[2]*A[0]-A[2]*R[0],L[2]=R[0]*A[1]-R[1]*A[0],P=Math.sqrt(L[0]*L[0]+L[1]*L[1]+L[2]*L[2]),0<P){var N=(p[1]+C*m[1])/P;L[0]*=N,L[1]*=N,L[2]*=N}o.push([_,A,L,R])}}return o},A=(t,n,r,i,o)=>{var s=1;"AXES_2D"==g||"MIRROR"==g?s=2:"AXES_3D"==g&&(s=3);for(var a=t.length/3,c=0,l=0;l<a;l++){var u=3*l,h=[t[u],t[u+1],t[u+2]],d=[n[u],n[u+1],n[u+2]],p=[r[u],r[u+1],r[u+2]],f=[i[u],i[u+1],i[u+2]],m=[o[u],o[u+1],o[u+2]],v=C(h,d,p,f,m);if(v.length==s)for(var y=0;y<s;y++){b.elements[0]=v[y][1][0],b.elements[1]=v[y][1][1],b.elements[2]=v[y][1][2],b.elements[3]=0,b.elements[4]=v[y][2][0],b.elements[5]=v[y][2][1],b.elements[6]=v[y][2][2],b.elements[7]=0,b.elements[8]=v[y][3][0],b.elements[9]=v[y][3][1],b.elements[10]=v[y][3][2],b.elements[11]=0,b.elements[12]=v[y][0][0],b.elements[13]=v[y][0][1],b.elements[14]=v[y][0][2],b.elements[15]=1,this.morph.setMatrixAt(c,b);var x=e[c];x&&x.setTransformation(v[y][0],v[y][1],v[y][2],v[y][3]),c++}}this.morph.instanceMatrix.needsUpdate=!0},L=t=>{var n=1;"AXES_2D"==g||"MIRROR"==g?n=2:"AXES_3D"==g&&(n=3);for(var r,i=t.length,o=0,s=0;s<i;s++){r=t[s];for(var a=0;a<n;a++){x.setHex(r),this.morph.setColorAt(o,x);var c=e[o];c&&c.setColour(x),o++}}this.morph.instanceColor.needsUpdate=!0},R=()=>{var e=[],n=[],r=[],i=[],u=[],d=[],p=this.inbuildTime/this.duration*(h-1),f=Math.floor(p),m=1-(p-f),g=Math.ceil(p);if(y)for(var b=a[f.toString()],_=a[g.toString()],S=t[f.toString()],M=t[g.toString()],T=o[f.toString()],E=o[g.toString()],C=s[f.toString()],R=s[g.toString()],O=c[f.toString()],P=c[g.toString()],k=0;k<b.length;k++)e.push(m*b[k]+(1-m)*_[k]),n.push(m*S[k]+(1-m)*M[k]),r.push(m*T[k]+(1-m)*E[k]),i.push(m*C[k]+(1-m)*R[k]),u.push(m*O[k]+(1-m)*P[k]);else e=a[0],n=t[0],r=o[0],i=s[0],u=c[0];if(A(e,n,r,i,u),this.boundingBoxUpdateRequired=!0,null!=l){if(v)for(var N=l[f.toString()],F=l[g.toString()],I=0;I<N.length;I++)x.setHex(N[I]),w.setHex(F[I]),x.setRGB(x.r*m+w.r*(1-m),x.g*m+w.g*(1-m),x.b*m+w.b*(1-m)),d.push(x.getHex());else d=l[0];L(d)}e=null,n=null,r=null,i=null,u=null,d=null};this.showLabel=()=>{for(var t=0;t<e.length;t++)e[t].showLabel(this.morph.material?this.morph.material.color:void 0)};var O=r=>{if(null!=u&&r)for(var i,p=0;p<d;p++)i=new(n(10).Glyph)(void 0,void 0,p,this),null!=u&&null!=u[p]&&i.setLabel(u[p]),0<h&&i.setFrustumCulled(!1),e[p]=i,this.morph.add(i.getGroup());null!=u&&r&&this.showLabel(this.morph.material?this.morph.material.color:void 0),A(a[0],t[0],o[0],s[0],c[0]),null!=l&&L(l[0]),this.ready=!0,this.boundingBoxUpdateRequired=!0};this.addCustomGlyph=t=>{t.isGlyph&&e.push(t),this.ready=!0,this.boundingBoxUpdateRequired=!0},this.addMeshAsGlyph=(t,r)=>{if(t.isMesh){var i=new(n(10).Glyph)(void 0,void 0,r,this);return i.fromMesh(t),e.push(i),this.morph.add(i.getGroup()),this.ready=!0,this.boundingBoxUpdateRequired=!0,i}},this.forEachGlyph=t=>{for(var n=0;n<e.length;n++)t(e[n])};var P=(e,t)=>(n,r)=>{var i=n.toBufferGeometry();this.geometry.copy(i),this.geometry.computeBoundingSphere(),this.geometry.computeBoundingBox(),i.dispose(),r&&r[0]&&(this.morph.material=r[0]),O(t),this.morph.name=this.groupName,this.morph.userData=this,n.dispose(),null!=e&&"function"==typeof e&&e(this)};this.getClosestVertexIndex=function(){var e=-1;if(this.morph&&this.ready){var t=new r.Vector3;this.getBoundingBox().getCenter(t);for(var n,i=a[0],o=i.length/3,s=new r.Vector3,c=-1,l=0,u=0;u<o;u++)n=3*u,s.set(i[n],i[n+1],i[n+2]),l=t.distanceTo(s),(-1==c||c>l)&&(c=l,e=u)}return e},this.getClosestVertex=function(){if(-1==this.markerVertexIndex&&(this.markerVertexIndex=this.getClosestVertexIndex()),0<=this.markerVertexIndex&&this.morph){var e=new r.Vector3;return this.morph.getMatrixAt(this.markerVertexIndex,b),e.setFromMatrixPosition(b),e}},this.applyMatrix4ToBox=(e,t,n)=>{T[0].set(e.min.x,e.min.y,e.min.z).applyMatrix4(n),T[1].set(e.min.x,e.min.y,e.max.z).applyMatrix4(n),T[2].set(e.min.x,e.max.y,e.min.z).applyMatrix4(n),T[3].set(e.min.x,e.max.y,e.max.z).applyMatrix4(n),T[4].set(e.max.x,e.min.y,e.min.z).applyMatrix4(n),T[5].set(e.max.x,e.min.y,e.max.z).applyMatrix4(n),T[6].set(e.max.x,e.max.y,e.min.z).applyMatrix4(n),T[7].set(e.max.x,e.max.y,e.max.z).applyMatrix4(n),t.setFromPoints(T)},this.getBoundingBox=()=>{if(this.morph&&this.ready&&this.morph.visible){if(this.boundingBoxUpdateRequired){_.setFromBufferAttribute(this.morph.geometry.attributes.position);for(var e=0;e<d;e++)this.morph.getMatrixAt(e,b),this.applyMatrix4ToBox(_,S,b),0==e?M.copy(S):M.union(S);if(!M)return;this.cachedBoundingBox.copy(M),this.boundingBoxUpdateRequired=!1}return this.cachedBoundingBox}},this.setMorphTime=e=>{this.inbuildTime=e>this.duration?this.duration:0>e?0:e,(v||y)&&(R(),y&&(this.markerUpdateRequired=!0))},this.isTimeVarying=()=>!!(0<h&&(v||y)),this.getCurrentTime=()=>this.inbuildTime,this.dispose=()=>{for(var n=e.length-1;0<=n;n--)e[n].dispose();this.geometry&&this.geometry.dispose(),this.morph&&this.morph.material.dispose(),t=void 0,o=void 0,s=void 0,a=void 0,c=void 0,l=void 0,this.ready=!1,this.groupName=void 0},this.render=(e,t,n)=>{if(1==t){var r=this.inbuildTime+e;r>this.duration&&(r-=this.duration),this.inbuildTime=r,(v||y)&&R()}this.updateMarker(t,n)}};o.prototype=Object.create(n(4).ZincObject.prototype),t.Glyphset=o},function(e,t,n){"use strict";n.r(t),n.d(t,"JSONLoader",(function(){return m}));var r=n(3),i=n(15).Loader,o=r.LoaderUtils,s=r.AnimationClip,a=r.Vector3,c=r.Vector4,l=r.Color,u=r.Vector2,h=n(5).Face3,d=n(5).Geometry,p=r.FileLoader,f=r.DefaultLoadingManager;function m(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0===e?f:e,this.withCredentials=!1}Object.assign(m.prototype,{load:function(e,t,n,r){var i=this,s=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:o.extractUrlBase(e),a=new p(this.manager);a.setWithCredentials(this.withCredentials),a.load(e,(function(n){var r=JSON.parse(n),o=r.metadata;if(void 0!==o){var a=o.type;if(void 0!==a&&"object"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.")}var c=i.parse(r,s);t(c.geometry,c.materials)}),n,r)},setTexturePath:function(e){this.texturePath=e},parse:function(){function e(e,t){function n(e,t){return e&1<<t}var r,i,o,s,c,d,p,f,m,g,v,y,b,x,w,_,S,M,T,E,C,A,L,R,O,P,k,N=e.faces,F=e.vertices,I=e.normals,D=e.colors,B=e.scale,z=0;if(void 0!==e.uvs){for(r=0;r<e.uvs.length;r++)e.uvs[r].length&&z++;for(r=0;r<z;r++)t.faceVertexUvs[r]=[]}for(s=0,c=F.length;s<c;)M=new a,M.x=F[s++]*B,M.y=F[s++]*B,M.z=F[s++]*B,t.vertices.push(M);if(s=0,c=N.length,e.uvs)for(r=0;r<e.uvs.length;r++){t.uvs[r]=[];for(var j=0;j<e.uvs[r].length;j++)t.uvs[r][j]=e.uvs[r][j]}if(I)for(r=0;r<I.length;r++)t.normals[r]=I[r];if(D)for(r=0;r<D.length;r++)t.colors[r]=D[r];for(;s<c;)if(g=N[s++],v=n(g,0),y=n(g,1),b=n(g,3),x=n(g,4),w=n(g,5),_=n(g,6),S=n(g,7),v){if(E=new h,E.a=N[s],E.b=N[s+1],E.c=N[s+3],C=new h,C.a=N[s+1],C.b=N[s+2],C.c=N[s+3],s+=4,y&&(m=N[s++],E.materialIndex=m,C.materialIndex=m),o=t.faces.length,b)for(r=0;r<z;r++)for(R=e.uvs[r],t.faceVertexUvs[r][o]=[],t.faceVertexUvs[r][o+1]=[],i=0;4>i;i++)f=N[s++],P=R[2*f],k=R[2*f+1],O=new u(P,k),2!==i&&t.faceVertexUvs[r][o].push(O),0!==i&&t.faceVertexUvs[r][o+1].push(O);if(x&&(p=3*N[s++],E.normal.set(I[p++],I[p++],I[p]),C.normal.copy(E.normal)),w)for(r=0;4>r;r++)p=3*N[s++],L=new a(I[p++],I[p++],I[p]),2!==r&&E.vertexNormals.push(L),0!==r&&C.vertexNormals.push(L);if(_&&(d=N[s++],A=D[d],E.color.setHex(A),C.color.setHex(A)),S)for(r=0;4>r;r++)d=N[s++],A=D[d],2!==r&&E.vertexColors.push(new l(A)),0!==r&&C.vertexColors.push(new l(A));t.faces.push(E),t.faces.push(C)}else{if(T=new h,T.a=N[s++],T.b=N[s++],T.c=N[s++],y&&(m=N[s++],T.materialIndex=m),o=t.faces.length,b)for(r=0;r<z;r++)for(R=e.uvs[r],t.faceVertexUvs[r][o]=[],i=0;3>i;i++)f=N[s++],P=R[2*f],k=R[2*f+1],O=new u(P,k),t.faceVertexUvs[r][o].push(O);if(x&&(p=3*N[s++],T.normal.set(I[p++],I[p++],I[p])),w)for(r=0;3>r;r++)p=3*N[s++],L=new a(I[p++],I[p++],I[p]),T.vertexNormals.push(L);if(_&&(d=N[s++],T.color.setHex(D[d])),S)for(r=0;3>r;r++)d=N[s++],T.vertexColors.push(new l(D[d]));t.faces.push(T)}}function t(e,t){var n=void 0===e.influencesPerVertex?2:e.influencesPerVertex;if(e.skinWeights)for(var r=0,i=e.skinWeights.length;r<i;r+=n){var o=e.skinWeights[r],s=1<n?e.skinWeights[r+1]:0,a=2<n?e.skinWeights[r+2]:0,l=3<n?e.skinWeights[r+3]:0;t.skinWeights.push(new c(o,s,a,l))}if(e.skinIndices)for(r=0,i=e.skinIndices.length;r<i;r+=n){var u=e.skinIndices[r],h=1<n?e.skinIndices[r+1]:0,d=2<n?e.skinIndices[r+2]:0,p=3<n?e.skinIndices[r+3]:0;t.skinIndices.push(new c(u,h,d,p))}t.bones=e.bones,t.bones&&0<t.bones.length&&(t.skinWeights.length!==t.skinIndices.length||t.skinIndices.length!==t.vertices.length)&&console.warn("When skinning, number of vertices ("+t.vertices.length+"), skinIndices ("+t.skinIndices.length+"), and skinWeights ("+t.skinWeights.length+") should match.")}function o(e,t){var n,i,o,s,c,l=e.scale;if(void 0!==e.morphTargets)for(var u=0,h=e.morphTargets.length;u<h;u++){t.morphTargets[u]={},t.morphTargets[u].name=e.morphTargets[u].name,t.morphTargets[u].vertices=[];for(var d,p=t.morphTargets[u].vertices,f=e.morphTargets[u].vertices,m=0,g=f.length;m<g;m+=3)d=new a,d.x=f[m]*l,d.y=f[m+1]*l,d.z=f[m+2]*l,p.push(d)}if(void 0!==e.morphNormals)for(var u=0,h=e.morphNormals.length;u<h;u++)if(t.morphTargets[u]){t.morphTargets[u].normals=[];var v,y=t.morphTargets[u].normals,b=e.morphNormals[u].normals;for(m=0,g=b.length;m<g;m+=3)v=new a,v.x=b[m],v.y=b[m+1],v.z=b[m+2],y.push(v);t.morphNormalsReady=!0}if(void 0!==e.morphColors)for(u=0,h=e.morphColors.length;u<h;u++)for(t.morphColors[u]={},t.morphColors[u].name=e.morphColors[u].name,t.morphColors[u].colors=[],o=t.morphColors[u].colors,s=e.morphColors[u].colors,n=0,i=s.length;n<i;n+=3)c=new r.Color(16755200),c.setRGB(s[n],s[n+1],s[n+2]),o.push(c)}function p(e,t){var n=[],r=[];void 0!==e.animation&&r.push(e.animation),void 0!==e.animations&&(e.animations.length?r=r.concat(e.animations):r.push(e.animations));for(var i,o=0;o<r.length;o++)i=s.parseAnimation(r[o],t.bones),i&&n.push(i);if(t.morphTargets){var a=s.CreateClipsFromMorphTargetSequences(t.morphTargets,10);n=n.concat(a)}0<n.length&&(t.animations=n)}return function(s,a){void 0!==s.data&&(s=s.data),s.scale=void 0===s.scale?1:1/s.scale;var c=new d;if(c.morphColors=[],e(s,c),t(s,c),o(s,c),p(s,c),c.computeFaceNormals(),c.computeBoundingSphere(),void 0===s.materials||0===s.materials.length)return{geometry:c};var l=i.prototype.initMaterials(s.materials,a,"Anonymous");if(s.materials[0].video){var u=a+s.materials[0].video,h=new(n(16).VideoHandler)(u);c._video=h}return l&&0<l.length&&(l[0].side=s.materials[0].singleSided?r.FrontSide:s.materials[0].flipSided?r.BackSide:r.DoubleSide,s.materials[0].specularCoef&&(l[0].shininess=Math.floor(s.materials[0].specularCoef/3))),{geometry:c,materials:l}}}()})},function(e,t,n){"use strict";n.r(t),n.d(t,"Loader",(function(){return i}));var r=n(3);n(3);function i(){}i.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},Object.assign(i.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e={NoBlending:r["NoBlending"],NormalBlending:r["NormalBlending"],AdditiveBlending:r["AdditiveBlending"],SubtractiveBlending:r["SubtractiveBlending"],MultiplyBlending:r["MultiplyBlending"],CustomBlending:r["CustomBlending"]},t=new r["Color"],n=new r["TextureLoader"],o=new r["MaterialLoader"];return function(s,a,c){function l(e,t,o,s,l){var h,d=a+e,p=i.Handlers.get(d);null===p?(n.setCrossOrigin(c),h=n.load(d)):h=p.load(d),void 0!==t&&(h.repeat.fromArray(t),1!==t[0]&&(h.wrapS=r["RepeatWrapping"]),1!==t[1]&&(h.wrapT=r["RepeatWrapping"])),void 0!==o&&h.offset.fromArray(o),void 0!==s&&("repeat"===s[0]&&(h.wrapS=r["RepeatWrapping"]),"mirror"===s[0]&&(h.wrapS=r["MirroredRepeatWrapping"]),"repeat"===s[1]&&(h.wrapT=r["RepeatWrapping"]),"mirror"===s[1]&&(h.wrapT=r["MirroredRepeatWrapping"])),void 0!==l&&(h.anisotropy=l);var f=r["MathUtils"].generateUUID();return u[f]=h,f}var u={},h={uuid:r["MathUtils"].generateUUID(),type:"MeshLambertMaterial"};for(var d in s){var p=s[d];switch(d){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":h.name=p;break;case"blending":h.blending=e[p];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",d,"is no longer supported.");break;case"colorDiffuse":h.color=t.fromArray(p).getHex();break;case"colorSpecular":h.specular=t.fromArray(p).getHex();break;case"colorEmissive":h.emissive=t.fromArray(p).getHex();break;case"specularCoef":h.shininess=p;break;case"shading":"basic"===p.toLowerCase()&&(h.type="MeshBasicMaterial"),"phong"===p.toLowerCase()&&(h.type="MeshPhongMaterial"),"standard"===p.toLowerCase()&&(h.type="MeshStandardMaterial");break;case"mapDiffuse":h.map=l(p,s.mapDiffuseRepeat,s.mapDiffuseOffset,s.mapDiffuseWrap,s.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":h.emissiveMap=l(p,s.mapEmissiveRepeat,s.mapEmissiveOffset,s.mapEmissiveWrap,s.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":h.lightMap=l(p,s.mapLightRepeat,s.mapLightOffset,s.mapLightWrap,s.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":h.aoMap=l(p,s.mapAORepeat,s.mapAOOffset,s.mapAOWrap,s.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":h.bumpMap=l(p,s.mapBumpRepeat,s.mapBumpOffset,s.mapBumpWrap,s.mapBumpAnisotropy);break;case"mapBumpScale":h.bumpScale=p;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":h.normalMap=l(p,s.mapNormalRepeat,s.mapNormalOffset,s.mapNormalWrap,s.mapNormalAnisotropy);break;case"mapNormalFactor":h.normalScale=p;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":h.specularMap=l(p,s.mapSpecularRepeat,s.mapSpecularOffset,s.mapSpecularWrap,s.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":h.metalnessMap=l(p,s.mapMetalnessRepeat,s.mapMetalnessOffset,s.mapMetalnessWrap,s.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":h.roughnessMap=l(p,s.mapRoughnessRepeat,s.mapRoughnessOffset,s.mapRoughnessWrap,s.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":h.alphaMap=l(p,s.mapAlphaRepeat,s.mapAlphaOffset,s.mapAlphaWrap,s.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":h.side=r["BackSide"];break;case"doubleSided":h.side=r["DoubleSide"];break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),h.opacity=p;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":h[d]=p;break;case"vertexColors":!0===p&&(h.vertexColors=r["VertexColors"]),"face"===p&&(h.vertexColors=r["FaceColors"]);break;default:console.error("THREE.Loader.createMaterial: Unsupported",d,p)}}return"MeshBasicMaterial"===h.type&&delete h.emissive,"MeshPhongMaterial"!==h.type&&delete h.specular,1>h.opacity&&(h.transparent=!0),o.setTextures(u),o.parse(h)}}()})},function(e,t,n){var r=n(3);t.VideoHandler=function(e){var t=this;this.video=void 0,this.videoTexture=void 0;this.setMorphTime=function(e,n){var r=e/n*t.video.duration;t.video.currentTime=r},this.getVideoDuration=function(){return t.video.duration},this.createCanvasVideoTexture=function(){return t.videoTexture=new r.VideoTexture(t.video),t.videoTexture.minFilter=r.LinearFilter,t.videoTexture.magFilter=r.LinearFilter,t.videoTexture.format=r.RGBFormat,t.video.currentTime=0,t.videoTexture},this.getCurrentTime=function(e){return t.video?e*(t.video.currentTime/t.video.duration):0},this.isReadyToPlay=function(){return!!(t.video&&3<=t.video.readyState)},function(){document&&(t.video=document.createElement("video"),t.video.crossOrigin="anonymous",t.video.src=e,t.video.load(),t.video.loop=!0)}()}},function(e,t,n){var r=n(3),i=n(18).Points,o=function(){n(4).ZincObject.call(this),this.isPointset=!0;var e=()=>{var e=new Image;e.src=n(19);var t=new r.Texture;return t.image=e,t.needsUpdate=!0,t};this.createMesh=(t,n,r)=>{if(t&&n){var o=this.toBufferGeometry(t,r),s=e();n.map=s;var a=new i(o,n);this.setMesh(a,r.localTimeEnabled,r.localMorphColour)}},this.setSize=e=>{this.morph&&this.morph.material&&(this.morph.material.size=e,this.morph.material.needsUpdate=!0)},this.setSizeAttenuation=e=>{this.morph&&this.morph.material&&(this.morph.material.sizeAttenuation=e,this.morph.material.needsUpdate=!0)}};o.prototype=Object.create(n(4).ZincObject.prototype),t.Pointset=o},function(e,t,n){"use strict";n.r(t),n.d(t,"Points",(function(){return u}));var r=n(3),i=new r["Matrix4"],o=new r["Ray"],s=new r["Sphere"],a=new r["Vector3"],c=new r["Vector3"],l=new r["Vector3"];class u extends r["Object3D"]{constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new r["BufferGeometry"],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new r["PointsMaterial"];super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){var n=this.geometry,r=this.matrixWorld,c=e.params.Points.threshold,l=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),s.copy(n.boundingSphere),s.applyMatrix4(r),s.radius+=c,!1!==e.ray.intersectsSphere(s)){i.copy(r).invert(),o.copy(e.ray).applyMatrix4(i);var u=c/((this.scale.x+this.scale.y+this.scale.z)/3),p=u*u;if(n.isBufferGeometry){var f=n.index,m=n.attributes,g=m.position,v=n.morphAttributes.position;if(null!==f)for(var y,b=Math.max(0,l.start),x=Math.min(f.count,l.start+l.count),w=b;w<x;w++)y=f.getX(w),d(this,g,v,y),h(a,y,p,r,e,t,this);else for(var _=Math.max(0,l.start),S=Math.min(g.count,l.start+l.count),M=_;M<S;M++)d(this,g,v,M),h(a,M,p,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}updateMorphTargets(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i,o=0,s=r.length;o<s;o++)i=r[o].name||o+"",this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=o}}}else{var a=e.morphTargets;void 0!==a&&0<a.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function h(e,t,n,i,s,a,c){var l=o.distanceSqToPoint(e);if(l<n){var u=new r["Vector3"];o.closestPointToPoint(e,u),u.applyMatrix4(i);var h=s.ray.origin.distanceTo(u);if(h<s.near||h>s.far)return;a.push({distance:h,distanceToRay:Math.sqrt(l),point:u,index:t,face:null,object:c})}}function d(e,t,n,r){a.fromBufferAttribute(t,r);var i=e.morphTargetInfluences;if(e.material.morphTargets&&n&&i){c.set(0,0,0);for(var o=0,s=n.length;o<s;o++){var u=i[o],h=n[o];0===u||(l.fromBufferAttribute(h,r),c.addScaledVector(l.sub(a),u))}a.add(c)}}u.prototype.isPoints=!0},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sHDgwCEMBJZu0AAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAABM5JREFUWMO1V0tPG2cUPZ4Hxh6DazIOrjFNqJs0FIMqWFgWQkatsmvVbtggKlSVRVf5AWz4AWz4AUSKEChll19QJYSXkECuhFxsHjEhxCYm+DWGMZ5HF72DJq4bAzFXurI0M/I5997v3u9cC65vTJVn2lX/xHINQOYSBLTLEuIuCWw4Z3IGAEvf6ASmVHjNzHCXBG4A0AjACsAOwEbO0nsFQBnAGYASAIl+ZRMR7SolMEdsByD09fV5R0ZGgg8ePPjW5/N1iqLYpuu6RZblciKR2I9Go69evnwZnZ+fjwI4IS8AKBIRzeQfJWCANwKwh0KhtrGxsYehUOin1tbW+zzP23ietzY2NnIAoGmaLsuyUiqVyvl8XtrY2NiamZn589mzZxsAUgCOAeQAnFI2tI+VxIjaAeDzoaGh7xYWFuZOTk6OZVk+12uYqqq6JEnn0Wg0OT4+/geAXwGEAdwDIFJQXC1wO4DWR48e/RCPxxclSSroVzRFUbSDg4P848ePFwH8DuAhkWih83TRQWxFOXgAwvDwcOfo6OhvXV1d39tsNtuVBwTDWBwOh1UUxVsMw1hXVlbSdCgNV43uYSvrHg6H24aHh38eHBz85TrgF9FYLHA4HLzH43FvbW2d7u/vG+dANp8FpqIlbd3d3V8Fg8EfBUFw4BONZVmL3+9vHhkZCQL4AoAHgJPK8G+yzC0XDofdoVAo5PP5vkadTBAEtr+/39ff3x8gAp/RPOEqx2qjx+NpvXv3bk9DQ0NDvQgwDIOWlhZrMBj8kgi0UJdxRgYMArzL5XJ7vd57qLPZ7Xamp6fnNgBXtQxcjFuHw+Hyer3t9SYgCAITCAScAJoBNNEY/08GOFVVrfVMv7kMNDntFD1vjIAPrlRN0xjckOm6biFQ3jwNPwDMZrOnqVTqfb3Bi8Wivru7W/VCYkwPlKOjo0IikXh7EwQikYgE4Nw0CfXKDCipVCoTj8df3QABbW1tLUc6oUgkFPMkVACUNjc337148eKvw8PDbJ2jP1taWkoCyNDVXDSECmNSK4qiKNLq6urW8+fPI/UicHx8rD59+jSVy+WOAKSJhKENwFItLtoxk8mwsixzHR0dHe3t7c5PAU+n09rs7OzJkydPYqVSaQfANoDXALIk31S2smU1TWMPDg7K5XKZ7+3t9TudTut1U7+wsFCcmJiIpdPpbQBxADsAknQWymYCOukBHYCuKApisdhpMpnURFEU79y503TVyKenpzOTk5M7e3t7MQKPV0Zv1gNm+awB0MvlshqLxfLb29uyJElWURSbXC4XXyvqxcXFs6mpqeTc3Nzu3t7e3wQcA7BPZ8Cov1pNlJplmQtAG8MwHV6v95tAINA5MDBwPxAIuLu6upr8fr/VAN3c3JQjkcjZ+vp6fnl5+d2bN29SuVzuNYAEpf01CdRChUL+X1VskHACuA3Ay3Fcu9vt7nA6nZ7m5uYWQRCaNE3jVVW15PP580KhIGUymWw2m00DOAJwSP4WwPtq4LX2Ao6USxNlQyS/RcQcdLGwlNIz6vEMAaZpNzCk2Pll94LK/cDYimxERiBwG10sxjgvEZBE0UpE6vxj+0Ct5bTaXthgEhRmja8QWNkkPGsuIpfdjpkK+cZUWTC0KredVmtD/gdlSl6EG4AMvQAAAABJRU5ErkJggg=="},function(e,t,n){n(3);var r=function(){n(4).ZincObject.call(this),this.isLines=!0,this.createLineSegment=(e,t,r)=>{if(e&&t){var i=this.toBufferGeometry(e,r);r.localMorphColour&&i.morphAttributes.color&&(t.onBeforeCompile=n(9).augmentMorphColor());var o=new(n(21).LineSegments)(i,t);this.setMesh(o,r.localTimeEnabled,r.localMorphColour)}},this.setWidth=e=>{this.morph&&this.morph.material&&(this.morph.material.linewidth=e,this.morph.material.needsUpdate=!0)}};r.prototype=Object.create(n(4).ZincObject.prototype),t.Lines=r},function(e,t,n){"use strict";n.r(t),n.d(t,"LineSegments",(function(){return a}));var r=n(22),i=n(3),o=new i["Vector3"],s=new i["Vector3"];class a extends r["Line"]{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,a=t.count;r<a;r+=2)o.fromBufferAttribute(t,r),s.fromBufferAttribute(t,r+1),n[r]=0==r?0:n[r-1],n[r+1]=n[r]+o.distanceTo(s);e.setAttribute("lineDistance",new i["Float32BufferAttribute"](n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}a.prototype.isLineSegments=!0},function(e,t,n){"use strict";n.r(t),n.d(t,"Line",(function(){return p}));var r=n(3),i=new r["Vector3"],o=new r["Vector3"],s=new r["Matrix4"],a=new r["Ray"],c=new r["Sphere"],l=new r["Vector3"],u=new r["Vector3"],h=new r["Vector3"],d=new r["Vector3"];class p extends r["Object3D"]{constructor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new r["BufferGeometry"],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new r["LineBasicMaterial"];super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],s=1,a=t.count;s<a;s++)i.fromBufferAttribute(t,s-1),o.fromBufferAttribute(t,s),n[s]=n[s-1],n[s]+=i.distanceTo(o);e.setAttribute("lineDistance",new r["Float32BufferAttribute"](n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){var n=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,l=n.drawRange,u=n.morphAttributes.position;if(null===n.boundingSphere&&n.computeBoundingSphere(),c.copy(n.boundingSphere),c.applyMatrix4(i),c.radius+=o,!1!==e.ray.intersectsSphere(c)){s.copy(i).invert(),a.copy(e.ray).applyMatrix4(s);var h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=new r["Vector3"],m=new r["Vector3"],g=new r["Vector3"],v=new r["Vector3"],y=this.isLineSegments?2:1;if(n.isBufferGeometry){var b=n.index,x=n.attributes,w=x.position;if(null!==b)for(var _=Math.max(0,l.start),S=Math.min(b.count,l.start+l.count),M=_;M<S-1;M+=y){var T=b.getX(M),E=b.getX(M+1);f(p,m,this,w,u,T,E);var C=a.distanceSqToSegment(p,m,v,g);if(!(C>d)){v.applyMatrix4(this.matrixWorld);var A=e.ray.origin.distanceTo(v);A<e.near||A>e.far||t.push({distance:A,point:g.clone().applyMatrix4(this.matrixWorld),index:M,face:null,faceIndex:null,object:this})}}else for(var L=Math.max(0,l.start),R=Math.min(w.count,l.start+l.count),O=L;O<R-1;O+=y){f(p,m,this,w,u,O,O+1);var P=a.distanceSqToSegment(p,m,v,g);if(!(P>d)){v.applyMatrix4(this.matrixWorld);var k=e.ray.origin.distanceTo(v);k<e.near||k>e.far||t.push({distance:k,point:g.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}updateMorphTargets(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(0<n.length){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i,o=0,s=r.length;o<s;o++)i=r[o].name||o+"",this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=o}}}else{var a=e.morphTargets;void 0!==a&&0<a.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function f(e,t,n,r,i,o,s){e.fromBufferAttribute(r,o),t.fromBufferAttribute(r,s);var a=n.morphTargetInfluences;if(n.material.morphTargets&&i&&a){l.set(0,0,0),u.set(0,0,0);for(var c=0,p=i.length;c<p;c++){var f=a[c],m=i[c];0===f||(h.fromBufferAttribute(m,o),d.fromBufferAttribute(m,s),l.addScaledVector(h.sub(e),f),u.addScaledVector(d.sub(t),f))}e.add(l),t.add(u)}}p.prototype.isLine=!0},function(e,t,n){var r=n(3),o=n(24);t.Renderer=function(e){var t=e,s=void 0,a=void 0,c=new r.Clock(!1);this.playAnimation=!0;var l=1e3,u=[],h=0,d=[],p=0,f=void 0,m=void 0,g=void 0,v=void 0,y=[],b=[],x=new r.Group,w=void 0,_=void 0,S=!1,M=[0,0],T=[0,0];this.getDrawingWidth=()=>t?t.clientWidth:w?"undefined"==typeof w.clientWidth?Math.round(w.width):Math.round(w.clientWidth):0,this.getDrawingHeight=()=>t?t.clientHeight:w?"undefined"==typeof w.clientHeight?Math.round(w.height):Math.round(w.clientHeight):0,this.onWindowResize=()=>{a.onWindowResize();var e=this.getDrawingWidth(),n=this.getDrawingHeight();if(null!=s){var i;t?(i=t.getBoundingClientRect(),s.setSize(e,n)):w&&("undefined"==typeof w.getBoundingClientRect||(i=w.getBoundingClientRect(),w.width=e,w.height=n),s.setSize(e,n,!1)),i&&(T[0]=i.left,T[1]=i.top);var o=new r.Vector2;s.getSize(o),M[0]=o.x,M[1]=o.y}},this.initialiseVisualisation=e=>{if(e=e||{},void 0===e.antialias){var n=!1;try{/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n=!0)}catch(o){n=!1}e.antialias=!n}e.canvas&&(t=void 0,w=e.canvas),s=new r.WebGLRenderer(e),void 0!==t&&t.appendChild(s.domElement),s.setClearColor(16777215,1),w&&w.style&&(w.style.height="100%",w.style.width="100%"),s.autoClear=!1;var i=this.createScene("default");this.setCurrentScene(i)},this.getCurrentScene=()=>a,this.setCurrentScene=e=>{if(e){this.removeActiveScene(e);var t=a;a=e,t&&t.setInteractiveControlEnable(!1),a.setInteractiveControlEnable(!0),a.setAdditionalScenesGroup(x),this.onWindowResize()}},this.getSceneByName=e=>y[e],this.createScene=e=>{var r;if(null==y[e])return r=w?new(n(25).Scene)(w,s):new(n(25).Scene)(t,s),y[e]=r,r.sceneName=e,r},this.resetView=()=>{a.resetView()},this.viewAll=()=>{if(a){var e=a.getBoundingBox();if(e){for(i=0;i<b.length;i++){var t=b[i].getBoundingBox();t&&e.union(t)}a.viewAllWithBoundingBox(e)}}},this.loadModelsURL=(e,t,n,r,i,o)=>{a.loadModelsURL(e,t,n,r,i,o)},this.loadViewURL=e=>{a.loadViewURL(e)},this.loadFromViewURL=(e,t)=>{a.loadFromViewURL(e,t)},this.updateDirectionalLight=()=>{a.updateDirectionalLight()};var E=()=>{S?(f=requestAnimationFrame(E),this.render()):(cancelAnimationFrame(f),f=void 0)};this.stopAnimate=()=>{S&&(c.stop(),S=!1)},this.animate=()=>{S||(c.start(),S=!0,E())},Date.now(),this.addPreRenderCallbackFunction=e=>(++h,u[h]=e,h),this.removePreRenderCallbackFunction=e=>{e in u&&delete u[e]},this.addPostRenderCallbackFunction=e=>(++p,d[p]=e,p),this.removePostRenderCallbackFunction=e=>{e in d&&delete d[e]},this.getPlayRate=()=>l,this.setPlayRate=e=>{l=e},this.getCurrentTime=()=>a.getCurrentTime(),this.setMorphsTime=e=>{a.setMorphsTime(e)},this.getZincGeometryByID=e=>a.getZincGeometryByID(e),this.addToScene=e=>{a.addObject(e)},this.addToOrthoScene=e=>{if(null==g&&(g=new r.Scene),null==m){var t=this.getDrawingWidth(),n=this.getDrawingHeight();m=new r.OrthographicCamera(-t/2,t/2,n/2,-n/2,1,10),m.position.z=10}g.add(e)};var C=e=>t=>{t.needsUpdate=!0;var n=new r.SpriteMaterial({map:t}),i=n.map.image.width,o=n.map.image.height;e.material=n,e.scale.set(i,o,1);var s=this.getDrawingWidth(),a=this.getDrawingHeight();e.position.set((s-i)/2,(-a+o)/2,1),this.addToOrthoScene(e)};this.addLogo=()=>{v=new r.Sprite,r.ImageUtils.loadTexture("images/abi_big_logo_transparent_small.png",void 0,C(v))},this.render=()=>{_||(t?0<t.clientWidth&&0<t.clientHeight&&(_=new o(t,this.onWindowResize)):w&&0<w.width&&0<w.height&&(_=new o(w,this.onWindowResize)));var e=c.getDelta();for(a.renderGeometries(l,e,this.playAnimation),i=0;i<b.length;i++){var n=b[i];n.renderGeometries(l,e,this.playAnimation)}for(key in null!=m&&null!=g&&(s.clearDepth(),s.render(g,m)),u)u.hasOwnProperty(key)&&u[key].call();for(key in a.render(s),d)d.hasOwnProperty(key)&&d[key].call()},this.getThreeJSRenderer=()=>s,this.isSceneActive=e=>{if(a===e)return!0;for(i=0;i<b.length;i++){var t=b[i];if(t===e)return!0}return!1},this.addActiveScene=e=>{this.isSceneActive(e)||(b.push(e),x.add(e.getThreeJSScene()))},this.removeActiveScene=e=>{for(i=0;i<b.length;i++){var t=b[i];if(t===e)return b.splice(i,1),void x.remove(e.getThreeJSScene())}},this.clearAllActiveScene=()=>{for(var e=0;e<b.length;e++)x.remove(b[e].getThreeJSScene());b.splice(0,b.length)},this.dispose=()=>{for(var e in S&&cancelAnimationFrame(f),y)y.hasOwnProperty(e)&&y[e].clearAll();y=[],b=[],x=new r.Group,this.stopAnimate(),u=[],h=0,m=void 0,g=void 0,v=void 0;var t=this.createScene("default");this.setCurrentScene(t),_=void 0},this.transitionScene=(e,t)=>{if(a){var n=a.getZincCameraControls(),r=e.getBoundingBox();if(r){var i=r.min.distanceTo(r.max)/2,o=(r.min.x+r.max.x)/2,s=(r.min.y+r.max.y)/2,c=(r.min.z+r.max.z)/2,l=n.getViewportFromCentreAndRadius(o,s,c,i,40,4*i),u=n.getCurrentViewport();n.cameraTransition(u,l,t),n.enableCameraTransition()}}}}},function(e,t){e.exports=n("2ad6")},function(e,t,n){var r=n(3),i=n(26).SceneLoader,o=n(31).SceneExporter,s=n(33).Viewport,a=function(){return{Duration:"6 secs",OriginalDuration:"-",TimeStamps:{}}},c=6e3;t.Scene=function(e,t){var l=e,u=void 0,h=new i(this),d=void 0,p=new r.Scene,f=new(n(34).Region);p.add(f.getGroup()),this.directionalLight=void 0,this.ambient=void 0,this.camera=void 0;var m=6e3,g=void 0;this.sceneName=void 0;var v=!1,y=void 0;this.autoClearFlag=!0,this.displayMarkers=!1,this.displayMinimap=!1,this.minimapScissor={x_offset:16,y_offset:16,width:128,height:128,align:"top-left",updateRequired:!0};var b={x:0,y:0},x=a(),w=new r.Vector2,_=()=>l?"undefined"==typeof l.clientWidth?l.width:l.clientWidth:0,S=()=>l?"undefined"==typeof l.clientHeight?l.height:l.clientHeight:0;this.getDownloadProgress=()=>h.getDownloadProgress(),this.onWindowResize=()=>{this.camera.aspect=_()/S(),this.camera.updateProjectionMatrix(),this.minimapScissor.updateRequired=!0,g.onResize()},this.resetView=()=>{this.onWindowResize(),g.resetView()},this.changeZoomByScrollRateUnit=e=>{g.changeZoomByScrollRateUnit(e)};var M=()=>{this.camera=new r.PerspectiveCamera(40,_()/S(),0,10),this.ambient=new r.AmbientLight(16777215,.2),p.add(this.ambient),this.directionalLight=new r.DirectionalLight(16777215,.8),p.add(this.directionalLight),g=new(n(33).CameraControls)(this.camera,t.domElement,t,this),g.setDirectionalLight(this.directionalLight),g.resetView(),d=new(n(35).Minimap)(this)};M(),this.loadView=e=>{var t=new s;return t.setFromObject(e),g.setCurrentCameraSettings(t),!0},this.setupMultipleViews=(e,t)=>{for(var[n,r]of Object.entries(t)){var i=new s;i.setFromObject(r),g.addViewport(n,i)}g.setDefaultViewport(e)},this.getBoundingBox=()=>f.getBoundingBox(!0),this.viewAllWithBoundingBox=e=>{if(e){var t=e.min.distanceTo(e.max)/2,n=(e.min.x+e.max.x)/2,r=(e.min.y+e.max.y)/2,i=(e.min.z+e.max.z)/2,o=g.getViewportFromCentreAndRadius(n,r,i,t,40,4*t);g.setCurrentCameraSettings(o)}},this.viewAll=()=>{var e=this.getBoundingBox();this.viewAllWithBoundingBox(e)},this.forEachGeometry=e=>{f.forEachGeometry(e,!0)},this.forEachGlyphset=e=>{f.forEachGlyphset(e,!0)},this.forEachPointset=e=>{f.forEachPointset(e,!0)},this.forEachLine=e=>{f.forEachLine(e,!0)},this.findGeometriesWithGroupName=e=>f.findGeometriesWithGroupName(e,!0),this.findPointsetsWithGroupName=e=>f.findPointsetsWithGroupName(e,!0),this.findGlyphsetsWithGroupName=e=>f.findGlyphsetsWithGroupName(e,!0),this.findLinesWithGroupName=e=>f.findLinesWithGroupName(e,!0),this.findObjectsWithGroupName=e=>f.findObjectsWithGroupName(e,!0),this.findObjectsWithAnatomicalId=e=>f.findObjectsWithAnatomicalId(e,!0),this.getBoundingBoxOfZincObjects=e=>{for(var t,n=void 0,r=0;r<e.length;r++)t=e[r].getBoundingBox(),t&&(n?n.union(t):n=t);return n},this.vectorToScreenXY=e=>{e.project(this.camera);var t=_(),n=S(),r=t/2,i=n/2;return e.x=e.x*r+r,e.y=-e.y*i+i,e},this.getObjectsScreenXY=e=>{if(e&&0<e.length){var t=this.getBoundingBoxOfZincObjects(e),n=new r.Vector3;return t.getCenter(n),this.vectorToScreenXY(n)}},this.getNamedObjectsScreenXY=e=>{var t=this.findObjectsWithGroupName(e);return this.getObjectsScreenXY(t)},this.addZincObject=e=>{e&&(f.addZincObject(e),g&&g.calculateMaxAllowedDistance(this))},this.loadGlyphsetURL=(e,t,n,r)=>{h.loadGlyphsetURL(f,e,t,n,r)},this.loadPointsetURL=(e,t,n,r,i)=>{h.loadPointsetURL(f,e,t,n,r,i)},this.loadLinesURL=(e,t,n,r,i)=>{h.loadLinesURL(f,e,t,n,r,i)},this.loadSTL=(e,t,n)=>{h.loadSTL(f,e,t,n)},this.loadOBJ=(e,t,n)=>{h.loadOBJ(f,e,t,n)},this.loadMetadataURL=(e,t,n)=>{h.loadMetadataURL(f,e,t,n)},this.loadModelsURL=(e,t,n,r,i,o)=>{h.loadModelsURL(f.urls,t,n,r,i,o)},this.loadViewURL=e=>{h.loadViewURL(e)},this.loadFromViewURL=(e,t)=>{h.loadFromViewURL(e,t)},this.loadGLTF=(e,t,n)=>{h.loadGLTF(f,e,t,n)},this.updateDirectionalLight=()=>{g.updateDirectionalLight()},this.addObject=e=>{p.add(e)},this.removeObject=e=>{p.remove(e)},this.getCurrentTime=()=>{if(null!=u)return u.getCurrentTime(m);var e=f.getCurrentTime();return-1===e?0:e},this.setMorphsTime=e=>{null!=u&&u.setMorphTime(e,m),f.setMorphTime(e,!0)},this.isTimeVarying=()=>!(!u||!u.video||u.video.error)||f.isTimeVarying(),this.renderGeometries=(e,t,n)=>{var r={camera:g,displayMarkers:this.displayMarkers,markerDepths:[]};if(u)if(u.isReadyToPlay()){n?u.video.play():u.video.pause();var i=u.video.currentTime/u.getVideoDuration()*m;0==h.toBeDownloaded?(g.setTime(i),g.update(0),f.setMorphTime(i,!0),f.renderGeometries(0,0,n,void 0,!0)):g.update(0)}else myPlayRate=0;else 0==h.toBeDownloaded?(g.update(t),f.renderGeometries(e,t,n,r,!0)):g.update(0)},this.getThreeJSScene=()=>p,this.setVideoHandler=e=>{u||(u=e)},this.setAdditionalScenesGroup=e=>{p.add(e)};var T=(e,t,n,r,i,o,s)=>{var a=0,c=0;return c=e.includes("top")?s-i-n:e.includes("bottom")?n:Math.floor((s-i)/2),a=e.includes("left")?t:e.includes("right")?o-t-r:Math.floor((o-r)/2),{x:a,y:c}},E=e=>{!0===this.displayMinimap&&(e.setScissorTest(!0),e.getSize(w),this.minimapScissor.updateRequired&&(b=T(this.minimapScissor.align,this.minimapScissor.x_offset,this.minimapScissor.y_offset,this.minimapScissor.width,this.minimapScissor.height,w.x,w.y),this.minimapScissor.updateRequired=!1),e.setScissor(b.x,b.y,this.minimapScissor.width,this.minimapScissor.height),e.setViewport(b.x,b.y,this.minimapScissor.width,this.minimapScissor.height),d.updateCamera(),p.add(d.mask),e.render(p,d.camera),p.remove(d.mask),e.setScissorTest(!1),e.setViewport(0,0,w.x,w.y))};this.render=e=>{this.autoClearFlag&&e.clear(),v&&y?y.render(p,this.camera):(e.render(p,this.camera),E(e))},this.setInteractiveControlEnable=e=>{1==e?g.enable():g.disable()},this.getZincCameraControls=()=>g,this.getThreeJSScene=()=>p,this.setDuration=e=>{f.setDuration(e),m=e,g.setPathDuration(e),h.duration=e},this.getDuration=()=>m,this.setStereoEffectEnable=e=>{1!=e||y||(y=new n(33).StereoEffect(t)),t.setSize(_(),S()),this.camera.updateProjectionMatrix(),v=e},this.objectIsInScene=e=>f.objectIsInRegion(e,!0),this.alignBoundingBoxToCameraView=(e,t)=>{if(e){var n=new r.Vector3;e.getCenter(n);var i=this.getZincCameraControls().getCurrentViewport(),o=new r.Vector3(i.targetPosition[0],i.targetPosition[1],i.targetPosition[2]),s=new r.Vector3(i.eyePosition[0],i.eyePosition[1],i.eyePosition[2]),a=(new r.Vector3(i.upVector[0],i.upVector[1],i.upVector[2]),new r.Vector3),c=new r.Vector3;a.subVectors(o,s).normalize(),c.subVectors(o,n).normalize();var l=new r.Vector3;l.crossVectors(a,c);var u=a.angleTo(c);0<t?(this.getZincCameraControls().rotateCameraTransition(l,u,t),this.getZincCameraControls().enableCameraTransition()):this.getZincCameraControls().rotateAboutLookAtpoint(l,u)}},this.alignObjectToCameraView=(e,t)=>{if(this.objectIsInScene(e)){var n=e.getBoundingBox();this.alignBoundingBoxToCameraView(n,t)}},this.setCameraTargetToObject=e=>{if(this.objectIsInScene(e)){var t=new r.Vector3,n=e.getBoundingBox(),i=this.getZincCameraControls().getCurrentViewport();n.getCenter(t);var o=new r.Vector3(i.targetPosition[0],i.targetPosition[1],i.targetPosition[2]),s=new r.Vector3(i.eyePosition[0],i.eyePosition[1],i.eyePosition[2]),a=new r.Vector3,c=new r.Vector3;a.subVectors(s,o),c.addVectors(t,a),i.eyePosition[0]=c.x,i.eyePosition[1]=c.y,i.eyePosition[2]=c.z,i.targetPosition[0]=t.x,i.targetPosition[1]=t.y,i.targetPosition[2]=t.z,this.getZincCameraControls().setCurrentCameraSettings(i)}},this.isStereoEffectEnable=()=>v,this.removeZincObject=e=>{f.removeZincObject(e),g&&g.calculateMaxAllowedDistance(this)},this.getPickableThreeJSObjects=()=>{var e=[];return f.getPickableThreeJSObjects(e,this.displayMarkers,!0),e},this.getNormalisedMinimapCoordinates=(e,t)=>{if(this.displayMinimap){var n=new r.Vector2;e.getSize(n);var i=n.y-t.clientY;if(b.x+this.minimapScissor.width>t.clientX&&t.clientX>b.x&&b.y+this.minimapScissor.height>i&&i>b.y){var o=(t.clientX-b.x)/this.minimapScissor.width*2-1,s=(i-b.y)/this.minimapScissor.height*2-1;return{x:o,y:s}}}},this.getMinimapDiffFromNormalised=(e,t)=>d?d.getDiffFromNormalised(e,t):void 0,this.clearAll=()=>{f.clear(!0),h.toBeDwonloaded=0,g&&g.calculateMaxAllowedDistance(this)},this.addMetadataTimeStamp=(e,t)=>{x.TimeStamps[e]=A(t)},this.getMetadataTag=e=>x[e],this.getMetadata=()=>x,this.setMetadataTag=(e,t)=>{x[e]=t},this.removeMetadataTag=e=>{delete x[e]},this.resetMetadata=()=>{x=a()},this.resetDuration=()=>{this.setDuration(c)};var C=e=>[...e.years?["".concat(e.years,"years")]:[],...e.months?["".concat(e.months,"months")]:[],...e.weeks?["".concat(e.weeks,"weeks")]:[],...e.days?["".concat(e.days,"days")]:[],...e.hours?["".concat(e.hours,"hours")]:[],...e.mins?["".concat(e.mins,"mins")]:[],...e.secs?["".concat(e.secs,"secs")]:[]].join(" "),A=e=>e.years?31536e6*e.years:0+e.months?2592e6*e.months:0+e.weeks?6048e5*e.weeks:0+e.days?864e5*e.days:0+e.hours?36e5*e.hours:0+e.mins?6e4*e.mins:0+e.secs?1e3*e.secs:0;this.setDurationFromObject=e=>{var t=C(e),n=A(e);this.setMetadataTag("Duration",t),this.setDuration(n)},this.setOriginalDurationFromObject=e=>{var t=C(e);this.setMetadataTag("OriginalDuration",t)},this.exportGLTF=e=>{var t=new o(this);return t.exportGLTF(e)},this.getRootRegion=()=>f}},function(e,t,n){var r=n(3),o=n(6).resolveURL,s=n(14).JSONLoader,a=n(27).STLLoader,c=n(28).OBJLoader;t.SceneLoader=function(e){var t=e;this.toBeDownloaded=0,this.progressMap=[];var l=!1,u=!1;this.getDownloadProgress=()=>{var e=0,t=0,n=!1;for(var r in this.progressMap){var i=this.progressMap[r];e+=i[1],t+=i[0],0==i[1]&&(n=!0)}return n&&(e=0),[e,t,u]},this.onProgress=e=>t=>{this.progressMap[e]=[t.loaded,t.total]},this.onError=()=>{--this.toBeDownloaded,u=!0};var h=(e,n)=>{var r=n.Default;if(n.Inline)t.setupMultipleViews(r,n.Entries);else{var i=[],o=function(t,n){e&&(newURL=new URL(n,e).href,i.push(new Promise((e,n)=>{fetch(newURL).then(e=>e.json()).then(n=>e({key:t,data:n})).catch(e=>n(e))})))};for(var[s,a]of Object.entries(n.Entries))o(s,a);Promise.all(i).then(e=>{var n={};e.forEach(e=>{n[e.key]=e.data}),t.setupMultipleViews(r,n);var i=t.getZincCameraControls();i&&i.setCurrentViewport(r),l=!0})}};this.loadViewURL=(e,n)=>{this.toBeDownloaded+=1;var r=new XMLHttpRequest;r.onreadystatechange=()=>{if(4==r.readyState){if(200==r.status){var e=JSON.parse(r.responseText);t.setupMultipleViews("default",{default:e}),t.resetView(),l=!0,null!=n&&"function"==typeof n&&n()}--this.toBeDownloaded}},requestURL=o(e),r.open("GET",requestURL,!0),r.send()},this.loadModelsURL=(e,t,r,i,a,c,l)=>{var u=t.length;this.toBeDownloaded+=u;for(var h=0;h<u;h++){var d=t[h],p=new s,f=n(0).defaultMaterialColor,m=n(0).defaultOpacity;null!=r&&null!=r[h]&&(f=!!r[h]),null!=i&&null!=i[h]&&(m=i[h]);var g=0;null!=a&&null!=a[h]&&(g=!!a[h]);var v=0;null!=c&&null!=c[h]&&(v=!!c[h]),p.crossOrigin="Anonymous",p.load(o(d),b(e,f,m,g,v,void 0,void 0,void 0,l),this.onProgress(h),this.onError)}},this.loadFromViewURL=(e,n,r)=>{var i=new XMLHttpRequest;i.onreadystatechange=()=>{if(4==i.readyState&&200==i.status){var o=JSON.parse(i.responseText);t.loadView(o);for(var s,a=[],c=0;c<o.numberOfResources;c++)s=n+"_"+(c+1)+".json",a.push(s);this.loadModelsURL(e,a,o.colour,o.opacity,o.timeEnabled,o.morphColour,r)}},requestURL=o(n+"_view.json"),i.open("GET",requestURL,!0),i.send()};var d=(e,i,o,s,a,c,l)=>(u,h)=>{var d=new(n(20).Lines),p=void 0;h&&h[0]&&(p=new r.LineBasicMaterial({color:h[0].color.clone()}),1>h[0].opacity&&(p.transparent=!0),p.opacity=h[0].opacity,p.morphTargets=i,p.vertexColors=h[0].vertexColors);var f={};f.localTimeEnabled=i,f.localMorphColour=o,d&&(d.createLineSegment(u,p,f),d.setName(s),d.anatomicalId=a,d.setRenderOrder=c,e.addZincObject(d),d.setDuration(t.getDuration())),--this.toBeDownloaded,u.dispose(),null!=l&&"function"==typeof l&&l(d)};this.loadLinesURL=(e,t,n,r,o,a,c)=>{var l=0;this.toBeDownloaded+=1;var u=!(!c||!c.isInline)&&c.isInline,h=c&&c.anatomicalId?c.anatomicalId:void 0,p=c&&c.renderOrder?c.renderOrder:void 0;null!=n&&(l=!!n);var f=0;null!=r&&(f=!!r);var m=new s;if(u){var g=m.parse(t);d(e,l,f,o,h,p,a)(g.geometry,g.materials)}else m.crossOrigin="Anonymous",m.load(t,d(e,l,f,o,h,p,a),this.onProgress(i),this.onError)};var p=(e,r,i,s,a,c)=>{var l=c&&c.isInline?c.isInline:void 0,u=c&&c.anatomicalId?c.anatomicalId:void 0,h=c&&c.displayLabels?c.displayLabels:void 0,d=c&&c.renderOrder?c.renderOrder:void 0,p=new(n(13).Glyphset);p.setDuration(t.getDuration()),p.groupName=s;var f=()=>{--this.toBeDownloaded,null!=a&&"function"==typeof a&&a(p)};++this.toBeDownloaded,l?p.load(r,i,f,l,h):p.load(r,o(i),f,l,h),p.anatomicalId=u,p.setRenderOrder(d),e.addZincObject(p)},f=(e,t,n,r,i,o)=>()=>{if(4==t.readyState&&200==t.status){var s=JSON.parse(t.responseText);p(e,s,n,r,i,o)}},m=(e,i,o,s,a,c,l)=>(u,h)=>{var d=new(n(17).Pointset),p=new r.PointsMaterial({alphaTest:.5,size:5,sizeAttenuation:!1});h&&h[0]&&(1>h[0].opacity&&(p.transparent=!0),p.opacity=h[0].opacity,p.color=h[0].color,p.morphTargets=i,p.vertexColors=h[0].vertexColors);var f={};f.localTimeEnabled=i,f.localMorphColour=o,d&&(d.createMesh(u,p,f),d.setName(s),d.anatomicalId=a,e.addZincObject(d),d.setDuration(t.getDuration()),d.setRenderOrder(c)),u.dispose(),--this.toBeDownloaded,null!=l&&"function"==typeof l&&l(d)};this.loadSTL=(e,t,r,i)=>{this.toBeDownloaded+=1;var s=n(0).defaultMaterialColor,c=n(0).defaultOpacity,l=new a;l.crossOrigin="Anonymous",l.load(o(t),b(e,s,c,!1,!1,r,void 0,void 0,i))},this.loadOBJ=(e,t,r,i)=>{this.toBeDownloaded+=1;var s=n(0).defaultMaterialColor,a=n(0).defaultOpacity,l=new c;l.crossOrigin="Anonymous",l.load(o(t),b(e,s,a,!1,!1,r,void 0,void 0,i))};var g=(e,t,n,i,o,s,a)=>t=>{this.toBeDownloaded--,t.traverse(t=>{if(t instanceof r.Mesh){var n=addMeshToZincGeometry(t,i,o);e.addZincObject(n),n.morph&&(n.morph.name=s),n.groupName=s,null!=a&&"function"==typeof a&&a(n)}})},v=(e,t,r,o,l,u,h)=>{this.toBeDownloaded+=1;var d=n(0).defaultMaterialColor,p=n(0).defaultOpacity,f=0,m=!(!h||!h.isInline)&&h.isInline,v=h&&h.fileFormat?h.fileFormat:void 0,y=h&&h.anatomicalId?h.anatomicalId:void 0,x=h&&h.renderOrder?h.renderOrder:void 0;null!=r&&(f=!!r);var w=0;null!=o&&(w=!!o);var _=new s;if(void 0!==v)if("STL"==v)_=new a;else if("OBJ"==v)return _=new c,_.crossOrigin="Anonymous",void _.load(t,g(e,d,p,f,w,l,y,u),this.onProgress(i),this.onError);if(m){var S=_.parse(t);b(e,d,p,f,w,l,y,x,u)(S.geometry,S.materials)}else _.crossOrigin="Anonymous",_.load(t,b(e,d,p,f,w,l,y,x,u),this.onProgress(i),this.onError)},y=function(e,n,r){var i=0;return o=>{if(++i,o&&null!=n&&"function"==typeof n){n(o);var s=t.getZincCameraControls();s&&s.calculateMaxAllowedDistance(t)}i==e&&(!1===l&&t.viewAll(),null!=r&&"function"==typeof r&&r())}};this.loadPointsetURL=(e,t,n,r,o,a,c)=>{var l=0;this.toBeDownloaded+=1,null!=n&&(l=!!n);var u=0;null!=r&&(u=!!r);var h=new s,d=!(!c||!c.isInline)&&c.isInline,p=c&&c.anatomicalId?c.anatomicalId:void 0,f=c&&c.renderOrder?c.renderOrder:void 0;if(d){var g=h.parse(t);m(e,l,u,o,p,f,a)(g.geometry,g.materials)}else h.crossOrigin="Anonymous",h.load(t,m(e,l,u,o,p,f,a),this.onProgress(i),this.onError)},this.loadGlyphsetURL=(e,t,n,r,i,s)=>{var a=!(!s||!s.isInline)&&s.isInline;if(a)p(e,t,n,r,i,s);else{var c=new XMLHttpRequest;c.onreadystatechange=f(e,c,n,r,i,s),c.open("GET",o(t),!0),c.send()}},addZincGeometry=(e,r,i,o,s,a,c,l,u)=>{var h=new(n(2).Geometry);return h.createMesh(r,l,{colour:i,opacity:o,localTimeEnabled:s,localMorphColour:a}),h.morph?(h.setName(u),e.addZincObject(h),h.setDuration(t.getDuration()),null!=c&&"function"==typeof c&&c(h),h.videoHandler&&t.setVideoHandler(h.videoHandler),h):void 0};var b=(e,t,n,r,i,o,s,a,c)=>(l,u)=>{var h;u&&u[0]&&(h=u[0]);var d=addZincGeometry(e,l,t,n,r,i,void 0,h,o,a);d.anatomicalId=s,d.setRenderOrder(a),--this.toBeDownloaded,l.dispose(),null!=c&&"function"==typeof c&&c(d)},x=e=>{var t=/P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?)?$/,[,n,r,i,o,s,a,c]=e.match(t);return{years:n,months:r,weeks:i,days:o,hours:s,mins:a,secs:c}};this.loadSettings=e=>{if(e){if(e.Duration){var n=x(e.Duration);t.setDurationFromObject(n)}if(e.OriginalDuration){var r=x(e.OriginalDuration);t.setOriginalDurationFromObject(r)}if(e.TimeStamps)for(var i in e.TimeStamps){var o=x(e.TimeStamps[i]);t.addMetadataTimeStamp(i,o)}}};var w=(e,t,n,r,i)=>{if(n){var o=void 0,s=!1;n.URL?(o=n.URL,t&&(o=new URL(n.URL,t).href)):n.Inline&&(o=n.Inline.URL,s=!0);var a=n.GroupName;(void 0===a||""===a)&&(a="_Unnamed");var c={isInline:s,fileFormat:n.FileFormat,anatomicalId:n.AnatomicalId,compression:n.compression,renderOrder:r};switch(n.Type){case"Surfaces":v(e,o,n.MorphVertices,n.MorphColours,a,i,c);break;case"Glyph":var l;s?l=n.Inline.GlyphGeometriesURL:(l=n.GlyphGeometriesURL,l=new URL(n.GlyphGeometriesURL,t).href),n.DisplayLabels&&(c.displayLabels=!0),this.loadGlyphsetURL(e,o,l,a,i,c);break;case"Points":this.loadPointsetURL(e,o,n.MorphVertices,n.MorphColours,a,i,c);break;case"Lines":this.loadLinesURL(e,o,n.MorphVertices,n.MorphColours,a,i,c);break;default:}}},_=(e,n,r)=>{if(n){var i=void 0,o=!1;switch(n.URL?(i=n.URL,e&&(i=new URL(n.URL,e).href)):n.Inline&&(i=n.Inline.URL,o=!0),n.Type){case"View":o?(t.setupMultipleViews("default",{default:i}),l=!0,null!=r&&"function"==typeof r&&r()):this.loadViewURL(i,r);break;case"Settings":this.loadSettings(n),null!=r&&"function"==typeof r&&r();break;default:}}};this.loadGLTF=(e,r,i,o)=>{var s=new(n(29).GLTFToZincJSLoader);s.load(t,e,r,i,o)};var S=(e,t,n,r)=>{if(n.Primitives&&n.Primitives.forEach(n=>{var i=1;n.Order&&(i=n.Order),w(e,t,n,i,r)}),n.Transformation&&e.setTransformation(n.Transformation),n.Children)for(var[i,o]of Object.entries(n.Children)){var s=e.findOrCreateChildFromPath(i);s&&S(s,t,o,r)}},M=e=>{var t=e.Primitives?e.Primitives.length:0;return e.Children&&e.Children.forEach(e=>{t+=M(e)}),t},T=e=>Array.isArray(e)?numberOfObjects=e.length:"object"==typeof e&&null!==e&&"2.0"==e.version?M(e.Regions):void 0,E=(e,t,n,r,i)=>{for(var o=T(t),s=new y(o,r,i),a=0;a<t.length;a++)_(n,t[a],s);for(var c=0;c<t.length;c++)w(e,n,t[c],2*c,s)},C=(e,t,n,r,i)=>{var o=T(t),s=new y(o,r,i);t.Settings&&this.loadSettings(t.Settings),t.Views&&h(n,t.Views,n),t.Regions&&S(e,n,t.Regions,s)};this.loadMetadataURL=(e,n,r,i)=>{var s=new XMLHttpRequest,a=o(n);s.onreadystatechange=()=>{if(4==s.readyState&&200==s.status){t.resetMetadata(),t.resetDuration(),l=!1;var n=s.responseURL;void 0===n&&(n=new URL(a).href);var o=JSON.parse(s.responseText);Array.isArray(o)?E(e,o,n,r,i):"object"==typeof o&&null!==o&&"2.0"==o.Version&&C(e,o,n,r,i)}},s.open("GET",a,!0),s.send()}}},function(e,t){e.exports=n("518e")},function(e,t){e.exports=n("e642")},function(e,t,n){n(3);var r=n(30).GLTFLoader,i=function(){var e=this;this.parseGLTFObjects=(t,r,i,o)=>{var s=r;if(0!==i)if("Object3D"===t.type)""!==t.name&&r&&(s=r.findOrCreateChildFromPath(t.name));else{var a;if("Mesh"===t.type?a=new(n(2).Geometry):"LineSegments"===t.type?a=new(n(20).Lines):"Points"===t.type&&(a=new(n(17).Pointset)),a){var c=!1,l=!1;t.geometry&&t.geometry.morphAttributes&&(c=!!t.geometry.morphAttributes.position,l=!!t.geometry.morphAttributes.color),a.setMesh(t.clone(),c,l),r.addZincObject(a),a.groupName=a.morph.name,null!=o&&"function"==typeof o&&o(a)}}i++,t.children.forEach(t=>{e.parseGLTFObjects(t,s,i,o)})},this.setCamera=e=>{e.viewAll();var t=e.getZincCameraControls(),n=t.getCurrentViewport();t.addViewport("default",n),t.setDefaultViewport("default")},this.load=(t,n,i,o,s)=>{var a=i.substring(0,i.lastIndexOf("/")+1),c=i.substring(i.lastIndexOf("/")+1,i.length),l=(new r).setPath(a);l.load(c,(function(r){e.parseGLTFObjects(r.scene,n,0,o),e.setCamera(t),null!=s&&"function"==typeof s&&s()}))}};t.GLTFToZincJSLoader=i},function(e,t){e.exports=n("34ad")},function(e,t,n){var r=n(32).GLTFExporter,i=function(e){var t=e;this.exportGLTF=e=>{var n=t.getRootRegion(),i=n.getAllObjects(!0),o=[];i.forEach(e=>{e.animationClip&&o.push({clip:e.animationClip[0],mesh:e.morph})});var s=new r,a={binary:e,animations:o};return new Promise(e=>{s.parse(t.getThreeJSScene(),(function(t){e(t)}),a)})}};t.SceneExporter=i},function(e,t,n){"use strict";n.r(t),n.d(t,"GLTFExporter",(function(){return i}));var r=n(3);class i{constructor(){this.pluginCallbacks=[],this.register((function(e){return new _(e)})),this.register((function(e){return new S(e)})),this.register((function(e){return new M(e)}))}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n){for(var r=new w,i=[],o=0,s=this.pluginCallbacks.length;o<s;o++)i.push(this.pluginCallbacks[o](r));r.setPlugins(i),r.write(e,t,n)}}var o={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,FLOAT:5126,UNSIGNED_INT:5125,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},s={};s[r["NearestFilter"]]=o.NEAREST,s[r["NearestMipmapNearestFilter"]]=o.NEAREST_MIPMAP_NEAREST,s[r["NearestMipmapLinearFilter"]]=o.NEAREST_MIPMAP_LINEAR,s[r["LinearFilter"]]=o.LINEAR,s[r["LinearMipmapNearestFilter"]]=o.LINEAR_MIPMAP_NEAREST,s[r["LinearMipmapLinearFilter"]]=o.LINEAR_MIPMAP_LINEAR,s[r["ClampToEdgeWrapping"]]=o.CLAMP_TO_EDGE,s[r["RepeatWrapping"]]=o.REPEAT,s[r["MirroredRepeatWrapping"]]=o.MIRRORED_REPEAT;var a={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},c=12,l=1179937895,u=2,h=8,d=1313821514,p=5130562;function f(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function m(e){if(void 0!==window.TextEncoder)return(new TextEncoder).encode(e).buffer;for(var t,n=new Uint8Array(new ArrayBuffer(e.length)),r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),n[r]=255<t?32:t;return n.buffer}function g(e){return f(e.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function v(e,t,n){for(var r={min:Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},i=t;i<t+n;i++)for(var o,s=0;s<e.itemSize;s++)o=void 0,4<e.itemSize?o=e.array[i*e.itemSize+s]:0===s?o=e.getX(i):1===s?o=e.getY(i):2===s?o=e.getZ(i):3==s&&(o=e.getW(i)),r.min[s]=Math.min(r.min[s],o),r.max[s]=Math.max(r.max[s],o);return r}function y(e){return 4*Math.ceil(e/4)}function b(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=y(e.byteLength);if(n!==e.byteLength){var r=new Uint8Array(n);if(r.set(new Uint8Array(e)),0!==t)for(var i=e.byteLength;i<n;i++)r[i]=t;return r.buffer}return e}var x=null;class w{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(e){this.plugins=e}write(e,t,n){this.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},n),0<this.options.animations.length&&(this.options.trs=!0),this.processInput(e);var r=this;Promise.all(this.pending).then((function(){var e=r.buffers,n=r.json,i=r.options,o=r.extensionsUsed,s=new Blob(e,{type:"application/octet-stream"}),a=Object.keys(o);if(0<a.length&&(n.extensionsUsed=a),n.buffers&&0<n.buffers.length&&(n.buffers[0].byteLength=s.size),!0===i.binary){var f=new window.FileReader;f.readAsArrayBuffer(s),f.onloadend=function(){var e=b(f.result),r=new DataView(new ArrayBuffer(h));r.setUint32(0,e.byteLength,!0),r.setUint32(4,p,!0);var i=b(m(JSON.stringify(n)),32),o=new DataView(new ArrayBuffer(h));o.setUint32(0,i.byteLength,!0),o.setUint32(4,d,!0);var s=new ArrayBuffer(c),a=new DataView(s);a.setUint32(0,l,!0),a.setUint32(4,u,!0);var g=c+o.byteLength+i.byteLength+r.byteLength+e.byteLength;a.setUint32(8,g,!0);var v=new Blob([s,o,i,r,e],{type:"application/octet-stream"}),y=new window.FileReader;y.readAsArrayBuffer(v),y.onloadend=function(){t(y.result)}}}else if(n.buffers&&0<n.buffers.length){var g=new window.FileReader;g.readAsDataURL(s),g.onloadend=function(){var e=g.result;n.buffers[0].uri=e,t(n)}}else t(n)}))}serializeUserData(e,t){if((!e.userData||!e.userData.isZincObject)&&0!==Object.keys(e.userData).length){var n=this.options,r=this.extensionsUsed;try{var i=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&i.gltfExtensions){for(var o in void 0===t.extensions&&(t.extensions={}),i.gltfExtensions)t.extensions[o]=i.gltfExtensions[o],r[o]=!0;delete i.gltfExtensions}0<Object.keys(i).length&&(t.extras=i)}catch(s){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+s.message)}}}getUID(e){return this.uids.has(e)||this.uids.set(e,this.uid++),this.uids.get(e)}isNormalizedNormalAttribute(e){var t=this.cache;if(t.attributesNormalized.has(e))return!1;for(var n=new r["Vector3"],i=0,o=e.count;i<o;i++)if(5e-4<Math.abs(n.fromBufferAttribute(e,i).length()-1))return!1;return!0}createNormalizedNormalAttribute(e){var t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);for(var n=e.clone(),i=new r["Vector3"],o=0,s=n.count;o<s;o++)i.fromBufferAttribute(n,o),0===i.x&&0===i.y&&0===i.z?i.setX(1):i.normalize(),n.setXYZ(o,i.x,i.y,i.z);return t.attributesNormalized.set(e,n),n}applyTextureTransform(e,t){var n=!1,r={};(0!==t.offset.x||0!==t.offset.y)&&(r.offset=t.offset.toArray(),n=!0),0!==t.rotation&&(r.rotation=t.rotation,n=!0),(1!==t.repeat.x||1!==t.repeat.y)&&(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}processBuffer(e){var t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}processBufferView(e,t,n,r,i){var s=this.json;s.bufferViews||(s.bufferViews=[]);for(var a=t===o.UNSIGNED_BYTE?1:t===o.UNSIGNED_SHORT?2:4,c=y(r*e.itemSize*a),l=new DataView(new ArrayBuffer(c)),u=0,h=n;h<n+r;h++)for(var d,p=0;p<e.itemSize;p++)d=void 0,4<e.itemSize?d=e.array[h*e.itemSize+p]:0===p?d=e.getX(h):1===p?d=e.getY(h):2===p?d=e.getZ(h):3==p&&(d=e.getW(h)),t===o.FLOAT?l.setFloat32(u,d,!0):t===o.UNSIGNED_INT?l.setUint32(u,d,!0):t===o.UNSIGNED_SHORT?l.setUint16(u,d,!0):t===o.UNSIGNED_BYTE&&l.setUint8(u,d),u+=a;var f={buffer:this.processBuffer(l.buffer),byteOffset:this.byteOffset,byteLength:c};void 0!==i&&(f.target=i),i===o.ARRAY_BUFFER&&(f.byteStride=e.itemSize*a),this.byteOffset+=c,s.bufferViews.push(f);var m={id:s.bufferViews.length-1,byteLength:0};return m}processBufferViewImage(e){var t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise((function(r){var i=new window.FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){var e=b(i.result),o={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,r(n.bufferViews.push(o)-1)}}))}processAccessor(e,t,n,r){var i,s=this.options,a=this.json;if(e.array.constructor===Float32Array)i=o.FLOAT;else if(e.array.constructor===Uint32Array)i=o.UNSIGNED_INT;else if(e.array.constructor===Uint16Array)i=o.UNSIGNED_SHORT;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");i=o.UNSIGNED_BYTE}if(void 0===n&&(n=0),void 0===r&&(r=e.count),s.truncateDrawRange&&void 0!==t&&null===t.index){var c=n+r,l=t.drawRange.count===1/0?e.count:t.drawRange.start+t.drawRange.count;n=Math.max(n,t.drawRange.start),r=Math.min(c,l)-n,0>r&&(r=0)}if(0===r)return null;var u,h=v(e,n,r);void 0!==t&&(u=e===t.index?o.ELEMENT_ARRAY_BUFFER:o.ARRAY_BUFFER);var d=this.processBufferView(e,i,n,r,u),p={bufferView:d.id,byteOffset:d.byteOffset,componentType:i,count:r,max:h.max,min:h.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(p.normalized=!0),a.accessors||(a.accessors=[]),a.accessors.push(p)-1}processImage(e,t,n){var i=this,o=i.cache,s=i.json,a=i.options,c=i.pending;o.images.has(e)||o.images.set(e,{});var l=o.images.get(e),u=t===r["RGBAFormat"]?"image/png":"image/jpeg",h=u+":flipY/"+n.toString();if(void 0!==l[h])return l[h];s.images||(s.images=[]);var d={mimeType:u};if(a.embedImages){var p=x=x||document.createElement("canvas");p.width=Math.min(e.width,a.maxTextureSize),p.height=Math.min(e.height,a.maxTextureSize);var f=p.getContext("2d");if(!0===n&&(f.translate(0,p.height),f.scale(1,-1)),"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap)f.drawImage(e,0,0,p.width,p.height);else{t!==r["RGBAFormat"]&&t!==r["RGBFormat"]&&console.error("GLTFExporter: Only RGB and RGBA formats are supported."),(e.width>a.maxTextureSize||e.height>a.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);var m=new Uint8ClampedArray(e.height*e.width*4);if(t===r["RGBAFormat"])for(var g=0;g<m.length;g+=4)m[g+0]=e.data[g+0],m[g+1]=e.data[g+1],m[g+2]=e.data[g+2],m[g+3]=e.data[g+3];else for(var v=0,y=0;v<m.length;v+=4,y+=3)m[v+0]=e.data[y+0],m[v+1]=e.data[y+1],m[v+2]=e.data[y+2],m[v+3]=255;f.putImageData(new ImageData(m,e.width,e.height),0,0)}!0===a.binary?c.push(new Promise((function(e){p.toBlob((function(t){i.processBufferViewImage(t).then((function(t){d.bufferView=t,e()}))}),u)}))):d.uri=p.toDataURL(u)}else d.uri=e.src;var b=s.images.push(d)-1;return l[h]=b,b}processSampler(e){var t=this.json;t.samplers||(t.samplers=[]);var n={magFilter:s[e.magFilter],minFilter:s[e.minFilter],wrapS:s[e.wrapS],wrapT:s[e.wrapT]};return t.samplers.push(n)-1}processTexture(e){var t=this.cache,n=this.json;if(t.textures.has(e))return t.textures.get(e);n.textures||(n.textures=[]);var r={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY)};e.name&&(r.name=e.name),this._invokeAll((function(t){t.writeTexture&&t.writeTexture(e,r)}));var i=n.textures.push(r)-1;return t.textures.set(e,i),i}processMaterial(e){var t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);var i={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var o=e.color.toArray().concat([e.opacity]);if(f(o,[1,1,1,1])||(i.pbrMetallicRoughness.baseColorFactor=o),e.isMeshStandardMaterial?(i.pbrMetallicRoughness.metallicFactor=e.metalness,i.pbrMetallicRoughness.roughnessFactor=e.roughness):(i.pbrMetallicRoughness.metallicFactor=.5,i.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap)if(e.metalnessMap===e.roughnessMap){var s={index:this.processTexture(e.metalnessMap)};this.applyTextureTransform(s,e.metalnessMap),i.pbrMetallicRoughness.metallicRoughnessTexture=s}else console.warn("THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.");if(e.map){var a={index:this.processTexture(e.map)};this.applyTextureTransform(a,e.map),i.pbrMetallicRoughness.baseColorTexture=a}if(e.emissive){var c=e.emissive.clone().multiplyScalar(e.emissiveIntensity),l=Math.max(c.r,c.g,c.b);if(1<l&&(c.multiplyScalar(1/l),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),0<l&&(i.emissiveFactor=c.toArray()),e.emissiveMap){var u={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(u,e.emissiveMap),i.emissiveTexture=u}}if(e.normalMap){var h={index:this.processTexture(e.normalMap)};e.normalScale&&-1!==e.normalScale.x&&(e.normalScale.x!==e.normalScale.y&&console.warn("THREE.GLTFExporter: Normal scale components are different, ignoring Y and exporting X."),h.scale=e.normalScale.x),this.applyTextureTransform(h,e.normalMap),i.normalTexture=h}if(e.aoMap){var d={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(d.strength=e.aoMapIntensity),this.applyTextureTransform(d,e.aoMap),i.occlusionTexture=d}e.transparent?i.alphaMode="BLEND":0<e.alphaTest&&(i.alphaMode="MASK",i.alphaCutoff=e.alphaTest),e.side===r["DoubleSide"]&&(i.doubleSided=!0),""!==e.name&&(i.name=e.name),this.serializeUserData(e,i),this._invokeAll((function(t){t.writeMaterial&&t.writeMaterial(e,i)}));var p=n.materials.push(i)-1;return t.materials.set(e,p),p}processMesh(e){var t=this.cache,n=this.json,i=[e.geometry.uuid];if(Array.isArray(e.material))for(var s=0,a=e.material.length;s<a;s++)i.push(e.material[s].uuid);else i.push(e.material.uuid);var c=i.join(":");if(t.meshes.has(c))return t.meshes.get(c);var l,u=e.geometry;if(l=e.isLineSegments?o.LINES:e.isLineLoop?o.LINE_LOOP:e.isLine?o.LINE_STRIP:e.isPoints?o.POINTS:e.material.wireframe?o.LINES:o.TRIANGLES,!0!==u.isBufferGeometry)throw new Error("THREE.GLTFExporter: Geometry is not of type THREE.BufferGeometry.");var h={},d={},p=[],f=[],m={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},g=u.getAttribute("normal");void 0===g||this.isNormalizedNormalAttribute(g)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),u.setAttribute("normal",this.createNormalizedNormalAttribute(g)));var v=null;for(var y in u.attributes)if("morph"!==y.substr(0,5)){var b=u.attributes[y];y=m[y]||y.toUpperCase();var x=/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/;if(x.test(y)||(y="_"+y),t.attributes.has(this.getUID(b))){d[y]=t.attributes.get(this.getUID(b));continue}v=null;var w=b.array;"JOINTS_0"!==y||w instanceof Uint16Array||w instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),v=new r["BufferAttribute"](new Uint16Array(w),b.itemSize,b.normalized));var _=this.processAccessor(v||b,u);null!==_&&(d[y]=_,t.attributes.set(this.getUID(b),_))}if(void 0!==g&&u.setAttribute("normal",g),0===Object.keys(d).length)return null;if(void 0!==e.morphTargetInfluences&&0<e.morphTargetInfluences.length){var S=[],M=[],T={};if(void 0!==e.morphTargetDictionary)for(var E in e.morphTargetDictionary)T[e.morphTargetDictionary[E]]=E;for(var C=0;C<e.morphTargetInfluences.length;++C){var A={},L=!1;for(var R in u.morphAttributes)if("position"==R||"normal"===R||"color"===R){var O=u.morphAttributes[R][C],P=R.toUpperCase();m[R]&&(P=m[R]);var k=u.attributes[R];if(t.attributes.has(this.getUID(O)))A[P]=t.attributes.get(this.getUID(O));else{var N=k.clone();if(!u.morphTargetsRelative)if(k)for(var F=0,I=O.count;F<I;F++)k.count>F&&N.setXYZ(F,O.getX(F)-k.getX(F),O.getY(F)-k.getY(F),O.getZ(F)-k.getZ(F));else for(var D=0,B=O.count;D<B;D++)N.setXYZ(D,0,0,0);A[P]=this.processAccessor(N,u),t.attributes.set(this.getUID(k),A[P])}}else L||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),L=!0);f.push(A),S.push(e.morphTargetInfluences[C]),void 0!==e.morphTargetDictionary&&M.push(T[C])}h.weights=S,0<M.length&&(h.extras={},h.extras.targetNames=M)}var z=Array.isArray(e.material);if(z&&0===u.groups.length)return null;for(var j,U=z?e.material:[e.material],V=z?u.groups:[{materialIndex:0,start:void 0,count:void 0}],G=0,H=V.length;G<H;G++){if(j={mode:l,attributes:d},this.serializeUserData(u,j),0<f.length&&(j.targets=f),null!==u.index){var W=this.getUID(u.index);(void 0!==V[G].start||void 0!==V[G].count)&&(W+=":"+V[G].start+":"+V[G].count),t.attributes.has(W)?j.indices=t.attributes.get(W):(j.indices=this.processAccessor(u.index,u,V[G].start,V[G].count),t.attributes.set(W,j.indices)),null===j.indices&&delete j.indices}var $=this.processMaterial(U[V[G].materialIndex]);null!==$&&(j.material=$),p.push(j)}h.primitives=p,n.meshes||(n.meshes=[]),this._invokeAll((function(t){t.writeMesh&&t.writeMesh(e,h)}));var q=n.meshes.push(h)-1;return t.meshes.set(c,q),q}processCamera(e){var t=this.json;t.cameras||(t.cameras=[]);var n=e.isOrthographicCamera,i={type:n?"orthographic":"perspective"};return n?i.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:0>=e.far?.001:e.far,znear:0>e.near?0:e.near}:i.perspective={aspectRatio:e.aspect,yfov:r["MathUtils"].degToRad(e.fov),zfar:0>=e.far?.001:e.far,znear:0>e.near?0:e.near},""!==e.name&&(i.name=e.type),t.cameras.push(i)-1}processAnimation(e,t){var n=this.json,o=this.nodeMap;n.animations||(n.animations=[]),e=i.Utils.mergeMorphTargetTracks(e.clone(),t);for(var s=e.tracks,c=[],l=[],u=0;u<s.length;++u){var h=s[u],d=r["PropertyBinding"].parseTrackName(h.name),p=r["PropertyBinding"].findNode(t,d.nodeName),f=a[d.propertyName];if("bones"===d.objectName&&(p=!0===p.isSkinnedMesh?p.skeleton.getBoneByName(d.objectIndex):void 0),!p||!f)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',h.name),null;var m=h.values.length/h.times.length;f===a.morphTargetInfluences&&(m/=p.morphTargetInfluences.length);var g=void 0;!0===h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(g="CUBICSPLINE",m/=3):g=h.getInterpolation()===r["InterpolateDiscrete"]?"STEP":"LINEAR",l.push({input:this.processAccessor(new r["BufferAttribute"](h.times,1)),output:this.processAccessor(new r["BufferAttribute"](h.values,m)),interpolation:g}),c.push({sampler:l.length-1,target:{node:o.get(p),path:f}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:l,channels:c}),n.animations.length-1}processSkin(e){var t=this.json,n=this.nodeMap,i=t.nodes[n.get(e)],o=e.skeleton;if(void 0===o)return null;var s=e.skeleton.bones[0];if(void 0===s)return null;for(var a=[],c=new Float32Array(16*o.bones.length),l=new r["Matrix4"],u=0;u<o.bones.length;++u)a.push(n.get(o.bones[u])),l.copy(o.boneInverses[u]),l.multiply(e.bindMatrix).toArray(c,16*u);void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new r["BufferAttribute"](c,16)),joints:a,skeleton:n.get(s)});var h=i.skin=t.skins.length-1;return h}processNode(e){var t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);var i={};if(n.trs){var o=e.quaternion.toArray(),s=e.position.toArray(),a=e.scale.toArray();f(o,[0,0,0,1])||(i.rotation=o),f(s,[0,0,0])||(i.translation=s),f(a,[1,1,1])||(i.scale=a)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===g(e.matrix)&&(i.matrix=e.matrix.elements);if(""!==e.name&&(i.name=e.name+""),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){var c=this.processMesh(e);null!==c&&(i.mesh=c)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),0<e.children.length){for(var l,u=[],h=0,d=e.children.length;h<d;h++)if(l=e.children[h],l.visible||!1===n.onlyVisible){var p=this.processNode(l);null!==p&&u.push(p)}0<u.length&&(i.children=u)}this._invokeAll((function(t){t.writeNode&&t.writeNode(e,i)}));var m=t.nodes.push(i)-1;return r.set(e,m),m}processScene(e){var t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);var r={};""!==e.name&&(r.name=e.name),t.scenes.push(r);for(var i,o=[],s=0,a=e.children.length;s<a;s++)if(i=e.children[s],i.visible||!1===n.onlyVisible){var c=this.processNode(i);null!==c&&o.push(c)}0<o.length&&(r.nodes=o),this.serializeUserData(e,r)}processObjects(e){var t=new r["Scene"];t.name="AuxScene";for(var n=0;n<e.length;n++)t.children.push(e[n]);this.processScene(t)}processInput(e){var t=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(t){t.beforeParse&&t.beforeParse(e)}));for(var n=[],i=0;i<e.length;i++)e[i]instanceof r["Scene"]?this.processScene(e[i]):n.push(e[i]);0<n.length&&this.processObjects(n);for(var o=0;o<this.skins.length;++o)this.processSkin(this.skins[o]);for(var s=0;s<t.animations.length;++s)this.processAnimation(t.animations[s].clip,t.animations[s].mesh);this._invokeAll((function(t){t.afterParse&&t.afterParse(e)}))}_invokeAll(e){for(var t=0,n=this.plugins.length;t<n;t++)e(this.plugins[t])}}class _{constructor(e){this.writer=e,this.name="KHR_lights_punctual"}writeNode(e,t){if(e.isLight){if(!e.isDirectionalLight&&!e.isPointLight&&!e.isSpotLight)return void console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e);var n=this.writer,r=n.json,i=n.extensionsUsed,o={};e.name&&(o.name=e.name),o.color=e.color.toArray(),o.intensity=e.intensity,e.isDirectionalLight?o.type="directional":e.isPointLight?(o.type="point",0<e.distance&&(o.range=e.distance)):e.isSpotLight&&(o.type="spot",0<e.distance&&(o.range=e.distance),o.spot={},o.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,o.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),e.target&&(e.target.parent!==e||0!==e.target.position.x||0!==e.target.position.y||-1!==e.target.position.z)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),i[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},i[this.name]=!0);var s=r.extensions[this.name].lights;s.push(o),t.extensions=t.extensions||{},t.extensions[this.name]={light:s.length-1}}}}class S{constructor(e){this.writer=e,this.name="KHR_materials_unlit"}writeMaterial(e,t){if(e.isMeshBasicMaterial){var n=this.writer,r=n.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},r[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}}class M{constructor(e){this.writer=e,this.name="KHR_materials_pbrSpecularGlossiness"}writeMaterial(e,t){if(e.isGLTFSpecularGlossinessMaterial){var n=this.writer,r=n.extensionsUsed,i={};t.pbrMetallicRoughness.baseColorFactor&&(i.diffuseFactor=t.pbrMetallicRoughness.baseColorFactor);var o=[1,1,1];if(e.specular.toArray(o,0),i.specularFactor=o,i.glossinessFactor=e.glossiness,t.pbrMetallicRoughness.baseColorTexture&&(i.diffuseTexture=t.pbrMetallicRoughness.baseColorTexture),e.specularMap){var s={index:n.processTexture(e.specularMap)};n.applyTextureTransform(s,e.specularMap),i.specularGlossinessTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}i.Utils={insertKeyframe:function(e,t){var n,r=.001,i=e.getValueSize(),o=new e.TimeBufferType(e.times.length+1),s=new e.ValueBufferType(e.values.length+i),a=e.createInterpolant(new e.ValueBufferType(i));if(0===e.times.length){o[0]=t;for(var c=0;c<i;c++)s[c]=0;n=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<r)return 0;o[0]=t,o.set(e.times,1),s.set(a.evaluate(t),0),s.set(e.values,i),n=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<r)return e.times.length-1;o[o.length-1]=t,o.set(e.times,0),s.set(e.values,0),s.set(a.evaluate(t),e.values.length),n=o.length-1}else for(var l=0;l<e.times.length;l++){if(Math.abs(e.times[l]-t)<r)return l;if(e.times[l]<t&&e.times[l+1]>t){o.set(e.times.slice(0,l+1),0),o[l+1]=t,o.set(e.times.slice(l+1),l+2),s.set(e.values.slice(0,(l+1)*i),0),s.set(a.evaluate(t),(l+1)*i),s.set(e.values.slice((l+1)*i),(l+2)*i),n=l+1;break}}return e.times=o,e.values=s,n},mergeMorphTargetTracks:function(e,t){for(var n=[],i={},o=e.tracks,s=0;s<o.length;++s){var a=o[s],c=r["PropertyBinding"].parseTrackName(a.name),l=r["PropertyBinding"].findNode(t,c.nodeName);if("morphTargetInfluences"===c.propertyName&&void 0!==c.propertyIndex){if(a.createInterpolant!==a.InterpolantFactoryMethodDiscrete&&a.createInterpolant!==a.InterpolantFactoryMethodLinear){if(a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),a=a.clone(),a.setInterpolation(r["InterpolateLinear"])}var u=l.morphTargetInfluences.length,h=l.morphTargetDictionary[c.propertyIndex];if(void 0===h)throw new Error("THREE.GLTFExporter: Morph target name not found: "+c.propertyIndex);var d=void 0;if(void 0!==i[l.uuid]){var p=a.createInterpolant(new a.ValueBufferType(1));d=i[l.uuid];for(var f=0;f<d.times.length;f++)d.values[f*u+h]=p.evaluate(d.times[f]);for(var m,g=0;g<a.times.length;g++)m=this.insertKeyframe(d,a.times[g]),d.values[m*u+h]=a.values[g]}else{d=a.clone();for(var v=new d.ValueBufferType(u*d.times.length),y=0;y<d.times.length;y++)v[y*u+h]=d.values[y];d.name=(c.nodeName||"")+".morphTargetInfluences",d.values=v,i[l.uuid]=d,n.push(d)}}else n.push(a)}return e.tracks=n,e}}},function(e,t,n){var r=n(3),i=n(6).resolveURL,o=function(){this.nearPlane=.168248,this.farPlane=6.82906,this.eyePosition=[.5,-2.86496,.5],this.targetPosition=[.5,.5,.5],this.upVector=[0,0,1];var e=this;this.setFromObject=t=>{var{nearPlane:n,farPlane:r,eyePosition:i,targetPosition:o,upVector:s}=t;e.nearPlane=n,e.farPlane=r,e.eyePosition=i,e.targetPosition=o,e.upVector=s}},s=function(e,t,n,s){var h={NONE:-1,DEFAULT:0,PATH:1,SMOOTH_CAMERA_TRANSITION:2,AUTO_TUMBLE:3,ROTATE_TRANSITION:4,MINIMAP:5,SYNC_CONTROL:6},p={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM:4,TOUCH_PAN:5,SCROLL:6},f={NONE:-1,FREE:1,HORIZONTAL:2,VERTICAL:3},m={};m.MAIN=p.ROTATE,m.AUXILIARY=p.ZOOM,m.SECONDARY=p.PAN,this.cameraObject=e,this.domElement=void 0===t?document:t,this.renderer=n,this.scene=s,this.tumble_rate=1.5,this.pointer_x=0,this.pointer_y=0,this.pointer_x_start=0,this.pointer_y_start=0,this.previous_pointer_x=0,this.previous_pointer_y=0,this.near_plane_fly_debt=0,this.touchZoomDistanceStart=0,this.touchZoomDistanceEnd=0,this.directionalLight=0,this.scrollRate=50;var g,v=6e3,y=0,b=void 0,x=void 0,w=!1,_=500,S=void 0,M="default",T=h.DEFAULT,E=void 0,C=void 0,A=void 0,L=0,R=f.FREE;this._state=p.NONE,this.targetTouchId=-1;var O=void 0,P=new r.Vector3,k=new r.Vector3,N=new r.Vector3,F=new r.Vector3,I=new r.Vector3,D=new r.Vector3,B=new r.Vector3,z=new r.Vector3,j=new r.Sphere,U=new r.Vector3,V=void 0,G=0,H={default:new o};H.default.nearPlane=.1,H.default.farPlane=2e3,H.default.eyePosition=[0,0,0],H.default.targetPosition=[0,0,-1],H.default.upVector=[0,1,0],void 0===this.cameraObject.target&&(this.cameraObject.target=new r.Vector3(...H.default.targetPosition)),this.calculateMaxAllowedDistance=e=>{var t=e.getBoundingBox();if(t){t.getBoundingSphere(j),G=6*j.radius;var n=0;this.cameraObject&&(n=this.cameraObject.position.distanceTo(j.center)),G=n>G?n:G}else G=0},this.addViewport=(e,t)=>{e&&t&&(H[e]=t)},this.setDefaultViewport=e=>{e&&e in H&&(M=e)},this.getDefaultViewport=()=>M,this.getViewportOfName=e=>H[e],this.setCurrentViewport=e=>!!(e in H)&&(this.setCurrentCameraSettings(H[e]),!0),this.setRotationMode=e=>{switch(e){case"none":R=f.NONE;break;case"horizontal":R=f.HORIZONTAL;break;case"vertical":R=f.VERTICAL;break;case"free":default:R=f.FREE}},this.onResize=()=>{O&&(O=void 0),V&&V.setCurrentCameraSettings(this.cameraObject,H[M])},this.setMouseButtonAction=(e,t)=>{m[e]=p[t]};var W=()=>{if(0<G){var e=U.distanceTo(j.center);return G>e||this.cameraObject.position.distanceTo(j.center)>e}return!0},$=e=>{U.copy(this.cameraObject.position).add(e),W()&&(this.cameraObject.target.add(e),this.cameraObject.position.add(e),this.updateDirectionalLight())},q=e=>{var t;if(void 0===O&&(O=this.domElement.getBoundingClientRect()),T===h.DEFAULT&&(t=this.scene.getNormalisedMinimapCoordinates(this.renderer,e)),t){T=h.MINIMAP;var n=this.scene.getMinimapDiffFromNormalised(t.x,t.y);$(n)}else 0==e.button?e.ctrlKey?this._state=m.AUXILIARY:e.shiftKey?this._state=m.SECONDARY:this._state=m.MAIN:1==e.button?(e.preventDefault(),this._state=m.AUXILIARY):2==e.button&&(this._state=m.SECONDARY),this.pointer_x=e.clientX-O.left,this.pointer_y=e.clientY-O.top,this.pointer_x_start=this.pointer_x,this.pointer_y_start=this.pointer_y,this.previous_pointer_x=this.pointer_x,this.previous_pointer_y=this.pointer_y},X=e=>{if(void 0===O&&(O=this.domElement.getBoundingClientRect()),this.pointer_x=e.clientX-O.left,this.pointer_y=e.clientY-O.top,T===h.MINIMAP){var t=this.scene.getNormalisedMinimapCoordinates(this.renderer,e);if(t){var n=this.scene.getMinimapDiffFromNormalised(t.x,t.y);$(n)}}else this._state===p.NONE&&void 0!==g&&g.move(this,e.clientX,e.clientY,this.renderer)},Y=e=>{this._state=p.NONE,T==h.MINIMAP&&(T=h.DEFAULT),void 0!==g&&this.pointer_x_start==e.clientX-O.left&&this.pointer_y_start==e.clientY-O.top&&g.pick(this,e.clientX,e.clientY,this.renderer)},Z=()=>{this._state=p.NONE},J=e=>{void 0===O&&(O=this.domElement.getBoundingClientRect());var t=e.touches.length;if(1==t)this._state=p.TOUCH_ROTATE,this.pointer_x=e.touches[0].clientX-O.left,this.pointer_y=e.touches[0].clientY-O.top,this.pointer_x_start=this.pointer_x,this.pointer_y_start=this.pointer_y,this.previous_pointer_x=this.pointer_x,this.previous_pointer_y=this.pointer_y;else if(2==t){this._state=p.TOUCH_ZOOM;var n=e.touches[0].clientX-e.touches[1].clientX,r=e.touches[0].clientY-e.touches[1].clientY;this.touchZoomDistanceEnd=this.touchZoomDistanceStart=Math.sqrt(n*n+r*r)}else 3==t&&(this._state=p.TOUCH_PAN,this.targetTouchId=e.touches[0].identifier,this.pointer_x=e.touches[0].clientX-O.left,this.pointer_y=e.touches[0].clientY-O.top,this.previous_pointer_x=this.pointer_x,this.previous_pointer_y=this.pointer_y)},K=e=>{e.preventDefault(),e.stopPropagation();var t=e.touches.length;if(1==t)this.pointer_x=e.touches[0].clientX-O.left,this.pointer_y=e.touches[0].clientY-O.top;else if(2==t){if(this._state===p.TOUCH_ZOOM){var n=e.touches[0].clientX-e.touches[1].clientX,r=e.touches[0].clientY-e.touches[1].clientY;this.touchZoomDistanceEnd=Math.sqrt(n*n+r*r)}}else if(3==t&&this._state===p.TOUCH_PAN)for(var i=0;3>i;i++)e.touches[i].identifier==this.targetTouchId&&(this.pointer_x=e.touches[0].clientX-O.left,this.pointer_y=e.touches[0].clientY-O.top)},Q=e=>{var t=e.touches.length;this.touchZoomDistanceStart=this.touchZoomDistanceEnd=0,this.targetTouchId=-1,this._state=p.NONE,1==t&&void 0!==g&&this.pointer_x_start==e.touches[0].clientX-O.left&&this.pointer_y_start==e.touches[0].clientY-O.top&&g.pick(this.cameraObject,e.touches[0].clientX,e.touches[0].clientY,this.renderer)},ee=e=>{void 0===O&&(O=this.domElement.getBoundingClientRect()),this._state=p.SCROLL;var t=0;0<e.deltaY?t=this.scrollRate:0>e.deltaY&&(t=-1*this.scrollRate),L+=t,e.preventDefault(),e.stopImmediatePropagation()},te=()=>{if("undefined"!=typeof this.cameraObject){var e=O.height,t=this.cameraObject.position.distanceTo(this.cameraObject.target),n=0;this.cameraObject.far>this.cameraObject.near&&t>=this.cameraObject.near&&t<=this.cameraObject.far&&(n=(t-this.cameraObject.near)/(this.cameraObject.far-this.cameraObject.near)),k.set(this.previous_pointer_x,e-this.previous_pointer_y,0),N.set(this.previous_pointer_x,e-this.previous_pointer_y,1),F.set(this.pointer_x,e-this.pointer_y,0),I.set(this.pointer_x,e-this.pointer_y,1),k.unproject(this.cameraObject),N.unproject(this.cameraObject),F.unproject(this.cameraObject),I.unproject(this.cameraObject),F.sub(k).multiplyScalar(1-n),I.sub(N).multiplyScalar(n),F.add(I).multiplyScalar(-.002),$(F)}this.previous_pointer_x=this.pointer_x,this.previous_pointer_y=this.pointer_y};this.getVectorsFromRotateAboutLookAtPoints=(e,t)=>{e.normalize(),B.copy(this.cameraObject.position).sub(this.cameraObject.target),z.copy(B),B.normalize(),.8<Math.abs(B.dot(e))&&B.copy(this.cameraObject.up),k.crossVectors(e,B).normalize(),N.crossVectors(e,k);var n=e.dot(z),r=k.dot(z),i=N.dot(z),o=e.dot(this.cameraObject.up),s=k.dot(this.cameraObject.up),a=N.dot(this.cameraObject.up),c=Math.cos(t),l=Math.sin(t);return F.set(c*k.x+l*N.x,c*k.y+l*N.y,c*k.z+l*N.z),I.set(c*N.x-l*k.x,c*N.y-l*k.y,c*N.z-l*k.z),B.copy(this.cameraObject.target),B.x=B.x+e.x*n+F.x*r+I.x*i,B.y=B.y+e.y*n+F.y*r+I.y*i,B.z=B.z+e.z*n+F.z*r+I.z*i,P.set(e.x*o+F.x*s+I.x*a,e.y*o+F.y*s+I.y*a,e.z*o+F.z*s+I.z*a),{position:B,up:P}},this.rotateAboutLookAtpoint=(e,t)=>{var n=this.getVectorsFromRotateAboutLookAtPoints(e,t);this.cameraObject.position.copy(n.position),this.updateDirectionalLight(),this.cameraObject.up.copy(n.up)};var ne=()=>{if("undefined"!=typeof this.cameraObject){var e=O.width,t=O.height;if(0<e&&0<t){var n=.25*(e+t),r=0,i=0;(R===f.FREE||R===f.HORIZONTAL)&&(r=this.pointer_x-this.previous_pointer_x),(R===f.FREE||R===f.VERTICAL)&&(i=this.previous_pointer_y-this.pointer_y);var o=Math.sqrt(r*r+i*i);if(0<o){var s=1*-i/o,a=1*r/o;if(R===f.FREE){var c=s*(this.pointer_x-.5*(e-1))+a*(.5*(t-1)-this.pointer_y);c>n?c=n:c<-n&&(c=-n)}var l=Math.acos(0/n)-.5*Math.PI,u=this.tumble_rate*o/n;P.copy(this.cameraObject.position).sub(this.cameraObject.target).normalize(),k.copy(this.cameraObject.up).normalize(),N.copy(k).cross(P).normalize().multiplyScalar(s),k.multiplyScalar(a),D.addVectors(N,k).multiplyScalar(Math.cos(l)),P.multiplyScalar(Math.sin(l)),D.add(P),this.rotateAboutLookAtpoint(D,-u)}}}this.previous_pointer_x=this.pointer_x,this.previous_pointer_y=this.pointer_y},re=()=>{var e=0;return this._state===p.ZOOM?e=this.previous_pointer_y-this.pointer_y:this._state===p.SCROLL?e=L:(e=-1*(this.touchZoomDistanceEnd-this.touchZoomDistanceStart),this.touchZoomDistanceStart=this.touchZoomDistanceEnd),e};this.changeZoomByScrollRateUnit=e=>{var t=e*this.scrollRate;this.changeZoomByValue(t)},this.changeZoomByValue=e=>{if("undefined"!=typeof this.cameraObject){O.width;var t=O.height,n=this.cameraObject.position.clone();n.sub(this.cameraObject.target);var r=n.length(),i=1.5*e/t;if(.01<r+i*r&&(n.normalize(),U.copy(this.cameraObject.position),U.x+=n.x*i*r,U.y+=n.y*i*r,U.z+=n.z*i*r,W())){this.cameraObject.position.copy(U),this.updateDirectionalLight();var o=1e-5;if(o*this.cameraObject.far<this.cameraObject.near+i*r+this.near_plane_fly_debt)0!=this.near_plane_fly_debt&&(this.near_plane_fly_debt+=i*r,0<this.near_plane_fly_debt?(this.cameraObject.near+=this.near_plane_fly_debt,this.cameraObject.far+=this.near_plane_fly_debt,this.near_plane_fly_debt=0):(this.cameraObject.near+=i*r,this.cameraObject.far+=i*r));else{if(0==this.near_plane_fly_debt){var s=this.cameraObject.near-o*this.cameraObject.far;this.cameraObject.near=o*this.cameraObject.far,this.cameraObject.far-=s,this.near_plane_fly_debt-=o*this.cameraObject.far}this.near_plane_fly_debt+=i*r}}}};var ie=()=>{var e=re();this.changeZoomByValue(e),this._state===p.ZOOM&&(this.previous_pointer_x=this.pointer_x,this.previous_pointer_y=this.pointer_y),this._state===p.SCROLL&&(L=0,this._state=p.NONE)};this.setDirectionalLight=e=>{this.directionalLight=e},this.updateDirectionalLight=()=>{0!=this.directionalLight&&this.directionalLight.position.set(this.cameraObject.position.x,this.cameraObject.position.y,this.cameraObject.position.z)},this.enable=function(){enabled=!0,this.domElement&&this.domElement.addEventListener&&(this.domElement.addEventListener("mousedown",q,!1),this.domElement.addEventListener("mousemove",X,!1),this.domElement.addEventListener("mouseup",Y,!1),this.domElement.addEventListener("mouseleave",Z,!1),this.domElement.addEventListener("touchstart",J,!1),this.domElement.addEventListener("touchmove",K,!1),this.domElement.addEventListener("touchend",Q,!1),this.domElement.addEventListener("wheel",ee,!1),this.domElement.addEventListener("contextmenu",e=>{e.preventDefault()},!1))},this.disable=function(){enabled=!1,this.domElement&&this.domElement.removeEventListener&&(this.domElement.removeEventListener("mousedown",q,!1),this.domElement.removeEventListener("mousemove",X,!1),this.domElement.removeEventListener("mouseup",Y,!1),this.domElement.removeEventListener("mouseleave",Z,!1),this.domElement.removeEventListener("touchstart",J,!1),this.domElement.removeEventListener("touchmove",K,!1),this.domElement.removeEventListener("touchend",Q,!1),this.domElement.removeEventListener("wheel",ee,!1),this.domElement.removeEventListener("contextmenu",e=>{e.preventDefault()},!1))},this.loadPath=e=>{b=e.CameraPath,x=e.NumberOfPoints},this.loadPathURL=(e,t)=>{var n=new XMLHttpRequest;n.onreadystatechange=()=>{if(4==n.readyState&&200==n.status){var e=JSON.parse(n.responseText);this.loadPath(e),null!=t&&"function"==typeof t&&t()}},requestURL=i(e),n.open("GET",requestURL,!0),n.send()},this.setPathDuration=e=>{v=e,E&&E.setDuration(v),C&&C.setDuration(v)},this.getPlayRate=()=>_,this.setPlayRate=e=>{_=e};var oe=e=>{var t=y+e;t>v&&(t-=v),y=t};this.getTime=()=>y,this.setTime=e=>{y=e>v?v:0>e?0:e},this.getNumberOfTimeFrame=()=>x,this.getCurrentTimeFrame=()=>{if(2<x){var e=y/v*(x-1),t=Math.floor(e),n=Math.ceil(e);return t==n?t==x-1?[t-1,n,0]:[t,n+1,1]:[t,n,1-(e-t)]}return 1==x?[0,0,0]:void 0},this.setCurrentTimeFrame=e=>{2<x&&(y=v*e/(x-1),0>y&&(y=0),y>v&&(y=v))};var se=e=>{if(T===h.PATH&&(oe(e),b)){for(var t=this.getCurrentTimeFrame(),n=t[0],r=t[1],i=t[2],o=[b[3*n],b[3*n+1],b[3*n+2]],s=[b[3*r],b[3*r+1],b[3*r+2]],a=[],c=0;c<o.length;c++)a.push(i*o[c]+(1-i)*s[c]);this.cameraObject.position.set(a[0],a[1],a[2]),this.cameraObject.target.set(s[0],s[1],s[2]),S&&this.cameraObject.lookAt(this.cameraObject.target),w&&(this.directionalLight.position.set(a[0],a[1],a[2]),this.directionalLight.target.position.set(s[0],s[1],s[2]))}};this.calculatePathNow=()=>{se(0)},handleSyncControl=()=>{this._state===p.ROTATE||this._state===p.TOUCH_ROTATE?ne():this._state===p.PAN||this._state===p.TOUCH_PAN?(te(),V.triggerCallback()):(this._state===p.ZOOM||this._state===p.TOUCH_ZOOM||this._state===p.SCROLL)&&(V.zoom(re()),this.previous_pointer_x=this.pointer_x,this.previous_pointer_y=this.pointer_y,this._state===p.SCROLL&&(this._state=p.NONE),L=0,V.triggerCallback())},this.update=e=>{var t=e*_,n=enabled;T===h.PATH?se(t):T===h.SMOOTH_CAMERA_TRANSITION&&E?(E.update(t),E.isTransitionCompleted()&&(T=h.DEFAULT),n=!1):T===h.ROTATE_CAMERA_TRANSITION&&C?(C.update(t),C.isTransitionCompleted()&&(T=h.DEFAULT),n=!1):T===h.AUTO_TUMBLE&&A?A.update(t):T===h.SYNC_CONTROL&&V&&(handleSyncControl(),n=!1),n&&(this._state===p.ROTATE||this._state===p.TOUCH_ROTATE?ne():this._state===p.PAN||this._state===p.TOUCH_PAN?te():(this._state===p.ZOOM||this._state===p.TOUCH_ZOOM||this._state===p.SCROLL)&&ie(),this._state!==p.NONE&&T===h.AUTO_TUMBLE&&A&&A.stopOnCameraInput,this._state===p.SCROLL&&(this._state=p.NONE)),S?S.update():this.cameraObject.lookAt(this.cameraObject.target)},this.playPath=()=>{T=h.PATH},this.stopPath=()=>{T=h.DEFAULT},this.isPlayingPath=()=>T===h.PATH,this.enableDirectionalLightUpdateWithPath=e=>{w=e},this.enableDeviceOrientation=()=>{S||(S=new ModifiedDeviceOrientationControls(this.cameraObject))},this.disableDeviceOrientation=()=>{S&&(S.dispose(),S=void 0)},this.isDeviceOrientationEnabled=()=>!!S,this.resetView=()=>{var e=H[M];this.cameraObject.near=e.nearPlane,this.cameraObject.far=e.farPlane,this.cameraObject.position.set(e.eyePosition[0],e.eyePosition[1],e.eyePosition[2]),this.cameraObject.target.set(e.targetPosition[0],e.targetPosition[1],e.targetPosition[2]),this.cameraObject.up.set(e.upVector[0],e.upVector[1],e.upVector[2]),this.cameraObject.updateProjectionMatrix(),this.updateDirectionalLight()},this.setCurrentCameraSettings=e=>{e.nearPlane&&(this.cameraObject.near=e.nearPlane),e.farPlane&&(this.cameraObject.far=e.farPlane),e.eyePosition&&this.cameraObject.position.set(e.eyePosition[0],e.eyePosition[1],e.eyePosition[2]),e.targetPosition&&this.cameraObject.target.set(e.targetPosition[0],e.targetPosition[1],e.targetPosition[2]),e.upVector&&this.cameraObject.up.set(e.upVector[0],e.upVector[1],e.upVector[2]),this.cameraObject.updateProjectionMatrix(),this.updateDirectionalLight()},this.getViewportFromCentreAndRadius=(e,t,n,r,i,s)=>{var a=this.cameraObject.position.x-this.cameraObject.target.x,c=this.cameraObject.position.y-this.cameraObject.target.y,l=this.cameraObject.position.z-this.cameraObject.target.z,u=1/Math.sqrt(a*a+c*c+l*l);a*=u,c*=u,l*=u;var h=r/Math.tan(i*Math.PI/360),d=[e+a*h,t+c*h,n+l*h],p=0,f=.95;p=s>f*h?(1-f)*h:h-s;var m=new o;return m.nearPlane=p,m.farPlane=h+s,m.eyePosition=d,m.targetPosition=[e,t,n],m.upVector=[this.cameraObject.up.x,this.cameraObject.up.y,this.cameraObject.up.z],m},this.getCurrentViewport=()=>{var e=new o;return e.nearPlane=this.cameraObject.near,e.farPlane=this.cameraObject.far,e.eyePosition[0]=this.cameraObject.position.x,e.eyePosition[1]=this.cameraObject.position.y,e.eyePosition[2]=this.cameraObject.position.z,e.targetPosition[0]=this.cameraObject.target.x,e.targetPosition[1]=this.cameraObject.target.y,e.targetPosition[2]=this.cameraObject.target.z,e.upVector[0]=this.cameraObject.up.x,e.upVector[1]=this.cameraObject.up.y,e.upVector[2]=this.cameraObject.up.z,e},this.getDefaultEyePosition=()=>eyePosition,this.getDefaultTargetPosition=()=>targetPosition,this.cameraTransition=(e,t,n)=>{null==C&&(E=new a(e,t,this,n))},this.rotateCameraTransition=(e,t,n)=>{null==E&&(C=new c(e,t,this,n))},this.enableCameraTransition=()=>{E&&(T=h.SMOOTH_CAMERA_TRANSITION),C&&(T=h.ROTATE_CAMERA_TRANSITION)},this.pauseCameraTransition=()=>{T=h.DEFAULT},this.stopCameraTransition=()=>{T=h.DEFAULT,E=void 0,C=void 0},this.isTransitioningCamera=()=>T===h.SMOOTH_CAMERA_TRANSITION||T===h.ROTATE_CAMERA_TRANSITION,this.autoTumble=(e,t,n)=>{A=new u(e,t,n,this)},this.enableAutoTumble=()=>{T=h.AUTO_TUMBLE},this.stopAutoTumble=()=>{T=h.DEFAULT,A=void 0},this.updateAutoTumble=()=>{A&&(A.requireUpdate=!0)},this.isAutoTumble=()=>T===h.AUTO_TUMBLE,this.enableRaycaster=(e,t,n)=>{null==g&&(g=new l(e,this.scene,t,n,this.renderer))},this.disableRaycaster=()=>{g.disable(),g=void 0},this.isSyncControl=()=>currentMpde===h.SYNC_CONTROL,this.enableSyncControl=()=>(T=h.SYNC_CONTROL,V||(V=new d),V.setCurrentCameraSettings(this.cameraObject,H[M]),V),this.disableSyncControl=()=>{T=h.DEFAULT,this.cameraObject.zoom=1,this.cameraObject.updateProjectionMatrix()},this.enable()},a=function(e,t,n,r){var i=e.eyePosition,o=e.targetPosition,s=e.upVector,a=t.eyePosition,c=t.targetPosition,l=t.upVector,u=n,h=r,d=0,p=!1;u.near=Math.min(e.nearPlane,t.nearPlane),u.far=Math.max(e.farPlane,t.farPlane),u.cameraObject.up.set(t.upVector[0],t.upVector[1],t.upVector[2]),this.setDuration=e=>{h=e};var f=e=>{var t=d+e;t>h&&(t=h),d=t},m=()=>{var e=d/h,t=[i[0]*(1-e)+a[0]*e,i[1]*(1-e)+a[1]*e,i[2]*(1-e)+a[2]*e],n=[o[0]*(1-e)+c[0]*e,o[1]*(1-e)+c[1]*e,o[2]*(1-e)+c[2]*e];s[0],l[0],s[1],l[1],s[2],l[2];u.cameraObject.position.set(t[0],t[1],t[2]),u.cameraObject.target.set(n[0],n[1],n[2])};this.update=e=>{!1===this.enabled||(f(e),m(),d==h&&(p=!0))},this.isTransitionCompleted=()=>p},c=function(e,t,n,r){var i=r,o=0,s=!1;this.setDuration=e=>{i=e};var a=r=>{var s=o,a=o+r;a>i&&(a=i),o=a;var c=o-s,l=c/i;n.rotateAboutLookAtpoint(e,l*t)};this.update=e=>{!1===this.enabled||(a(e),o==i&&(s=!0))},this.isTransitionCompleted=()=>s},l=function(e,t,n,i,o){var s=e,a=o,c=n,l=i,u=!0,h=new r.Raycaster;h.params.Line.threshold=.1,h.params.Points.threshold=.1;var d=new r.Vector2,p=void 0,f=!1;this.enable=()=>{enable=!0},this.disable=()=>{enable=!1};var m=(e,n,r)=>{var i=e.domElement.getBoundingClientRect();if(d.x=(n-i.left)/i.width*2-1,d.y=-(r-i.top)/i.height*2+1,t!==s){var o=s.getThreeJSScene();a.render(o,e.cameraObject)}h.setFromCamera(d,e.cameraObject);var c=s.getPickableThreeJSObjects();return h.intersectObjects(c,!0)};this.pick=(e,t,n)=>{if(u&&a&&s&&e&&c){var r=m(e,t,n);c(r,t,n)}};var g=(e,t,n)=>{if(u&&a&&s&&e&&l){var r=m(e,t,n);p=new Date,l(r,t,n)}};this.move=(e,t,n)=>{if(u&&a&&s&&e&&l)if(s.displayMarkers)g(e,t,n);else if(!f){var r=new Date;!p||250<r.getTime()-p.getTime()?g(e,t,n):(f=!0,setTimeout(v(e,t,n),250))}};var v=(e,t,n)=>function(){f=!1,g(e,t,n)}},u=function(e,t,n,i){var o=new r.Vector3,s=i;this.stopOnCameraInput=n,this.requireUpdate=!0;var a=new r.Vector3,c=new r.Vector3,l=e=>{var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=4*Math.abs(e[0]),r=4*Math.abs(e[1]),i=.25*(n+r),l=-e[1]/t,u=e[0]/t,h=l*e[0]+u*-e[1];h>i?h=i:h<-i&&(h=-i);var d=Math.acos(h/i)-.5*Math.PI;o.copy(s.cameraObject.position).sub(s.cameraObject.target).normalize(),a.copy(s.cameraObject.up).normalize(),c.crossVectors(a,o).normalize().multiplyScalar(l),a.multiplyScalar(u),a.add(c).multiplyScalar(Math.cos(d)),o.multiplyScalar(Math.sin(d)).add(a)};this.update=n=>{!1===this.enabled||(this.requireUpdate&&(l(e),this.requireUpdate=!1),s.rotateAboutLookAtpoint(o,-t*n/1e3))}};StereoCameraZoomFixed=function(){this.type="StereoCamera",this.aspect=1,this.cameraL=new r.PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new r.PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1},Object.assign(StereoCameraZoomFixed.prototype,{update:(()=>{var e,t,n,i,o,s,a=new r.Matrix4,c=new r.Matrix4;return function(l){var u=e!==l.focus||t!==l.fov||n!==l.aspect*this.aspect||i!==l.near||o!==l.far||s!==l.zoom;if(u){e=l.focus,t=l.fov,n=l.aspect*this.aspect,i=l.near,o=l.far,s=l.zoom;var h,d,p=l.projectionMatrix.clone(),f=.032,m=f*i/e,g=i*Math.tan(r.Math.DEG2RAD*t*.5)/l.zoom;c.elements[12]=-f,a.elements[12]=f,h=-g*n+m,d=g*n+m,p.elements[0]=2*i/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraL.projectionMatrix.copy(p),h=-g*n-m,d=g*n-m,p.elements[0]=2*i/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(a)}})()});var h=function(e){var t=new StereoCameraZoomFixed;t.aspect=.5,this.setSize=(t,n)=>{e.setSize(t,n)},this.render=(n,r)=>{n.updateMatrixWorld(),null===r.parent&&r.updateMatrixWorld(),t.update(r);var i=e.getSize();e.setScissorTest(!0),e.clear(),e.setScissor(0,0,i.width/2,i.height),e.setViewport(0,0,i.width/2,i.height),e.render(n,t.cameraL),e.setScissor(i.width/2,0,i.width/2,i.height),e.setViewport(i.width/2,0,i.width/2,i.height),e.render(n,t.cameraR),e.setScissorTest(!1)}};ModifiedDeviceOrientationControls=function(e){var t=this;this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0;var n=e=>{t.deviceOrientation=e},i=()=>{"undefined"!=typeof window&&(t.screenOrientation=window.orientation||0)},o=(()=>{var e=new r.Vector3(0,0,1),t=new r.Euler,n=new r.Quaternion,i=new r.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return(o,s,a,c,l)=>{var u=new r.Vector3(0,0,1);u.subVectors(o.target,o.position),t.set(a,s,-c,"YXZ");var h=new r.Quaternion;h.setFromEuler(t),h.multiply(i),h.multiply(n.setFromAxisAngle(e,-l)),u.applyQuaternion(h),u.addVectors(o.position,u),o.lookAt(u)}})();this.connect=()=>{i(),"undefined"!=typeof window&&(window.addEventListener("orientationchange",i,!1),window.addEventListener("deviceorientation",n,!1)),t.enabled=!0},this.disconnect=()=>{"undefined"!=typeof window&&(window.removeEventListener("orientationchange",i,!1),window.removeEventListener("deviceorientation",n,!1)),t.enabled=!1},this.update=()=>{if(!1!==t.enabled){var e=t.deviceOrientation.alpha?r.Math.degToRad(t.deviceOrientation.alpha):0,n=t.deviceOrientation.beta?r.Math.degToRad(t.deviceOrientation.beta):0,i=t.deviceOrientation.gamma?r.Math.degToRad(t.deviceOrientation.gamma):0,s=t.screenOrientation?r.Math.degToRad(t.screenOrientation):0;o(t.object,e,n,i,s)}},this.dispose=function(){this.disconnect()},this.connect()};var d=function(){var e=void 0,t=void 0,n=void 0,i=new r.Vector3,o=new r.Vector3,s=new r.Vector3,a=new r.Vector3,c=void 0;this.setCurrentCameraSettings=(s,a)=>{e=s.clone(),t=s,n=a,e.near=n.nearPlane,n.farPlane&&(e.far=n.farPlane),n.eyePosition&&e.position.set(n.eyePosition[0],n.eyePosition[1],n.eyePosition[2]),n.upVector&&e.up.set(n.upVector[0],n.upVector[1],n.upVector[2]),n.targetPosition&&(e.target=new r.Vector3(n.targetPosition[0],n.targetPosition[1],n.targetPosition[2]),e.lookAt(e.target)),e.updateProjectionMatrix(),i.copy(e.position).project(e),o.copy(e.target).project(e)},this.getCurrentPosition=()=>(o.copy(t.target).project(e),[o.x,o.y]),this.zoom=e=>{var n=Math.max(t.zoom-.002*e,1);t.zoom=n,t.updateProjectionMatrix()},this.zoomToBox=(t,n)=>{t.getCenter(s),s.project(e),this.setCenterZoom([s.x,s.y],n)},this.getPanZoom=()=>({target:this.getCurrentPosition(),zoom:t.zoom}),this.setCenterZoom=(n,r)=>{s.set(n[0],n[1],o.z).unproject(e),a.copy(s).sub(t.target),t.target.copy(s),t.lookAt(t.target),t.position.add(a),t.zoom=r,t.updateProjectionMatrix()},this.setEventCallback=e=>{(void 0===e||"function"==typeof e)&&(c=e)},this.triggerCallback=()=>{void 0!==c&&"function"==typeof c&&c()}};t.Viewport=o,t.CameraControls=s,t.SmoothCameraTransition=a,t.RotateCameraTransition=c,t.RayCaster=l,t.CameraAutoTumble=u,t.StereoEffect=h,t.NDCCameraControl=d},function(e,t,n){var{Group:r,Matrix4:i}=n(3),o=function(e){var t=e,n=new r;n.matrixAutoUpdate=!1,n.userData=this;var s=[],a="",c=[],l=new i,u=3e3;l.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this.hideAllChildren=()=>{s.forEach(e=>e.hideAllChildren()),c.forEach(e=>e.setVisibility(!1))},this.setVisibility=e=>{n.visible=e},this.getVisibility=()=>n.visible,this.getGroup=()=>n,this.setTransformation=e=>{l.set(...e),n.matrix.copy(l),n.updateMatrixWorld()},this.setName=e=>{e&&""!==e&&(a=e)},this.getName=()=>a,this.getParent=()=>t,this.getFullSeparatedPath=()=>{var e=[];if(""!==a){e.push(a);for(var n,r=t;void 0!==r;)n=r.getName(),""!==n&&e.unshift(n),r=r.getParent()}return e},this.getFullPath=()=>{var e=this.getFullSeparatedPath();if(0<e.length){var t=e.shift();return e.forEach(e=>{t=t.concat("/",e)}),t}return""},this.createChild=e=>{var t=new o(this);return t.setName(e),s.push(t),n.add(t.getGroup()),t},this.getChildWithName=e=>{if(e)for(var t=0;t<s.length;t++)if(s[t].getName()===e)return s[t]},this.findChildFromSeparatedPath=e=>{if(e&&0<e.length&&""===e[0]&&e.shift(),e&&0<e.length){var t=this.getChildWithName(e[0]);return t?(e.shift(),t.findChildFromSeparatedPath(e)):void 0}return this},this.findChildFromPath=e=>{var t=e.split("/");return this.findChildFromSeparatedPath(t)},this.createChildFromSeparatedPath=e=>{if(0<e.length&&""===e[0]&&e.shift(),0<e.length){var t=this.getChildWithName(e[0]);return t||(t=this.createChild(e[0])),e.shift(),t.createChildFromSeparatedPath(e)}return this},this.createChildFromPath=e=>{var t=e.split("/");return this.createChildFromSeparatedPath(t)},this.findOrCreateChildFromPath=e=>{var t=this.findChildFromPath(e);return t||(t=this.createChildFromPath(e)),t},this.addZincObject=e=>{e&&(e.setRegion(this),n.add(e.morph),c.push(e))},this.removeZincObject=e=>{for(var t=0;t<c.length;t++)if(e===c[t])return n.remove(e.morph),c.splice(t,1),void e.dispose()},this.getPickableThreeJSObjects=(e,t,n)=>(c.forEach(n=>{if(n.morph&&!0===n.morph.visible)if(t){var r=n.marker;r&&r.isEnabled()&&e.push(r.morph)}else e.push(n.morph)}),n&&s.forEach(r=>{r.getPickableThreeJSObjects(e,t,n)}),e),this.setDuration=e=>{u=e,c.forEach(t=>t.setDuration(e)),s.forEach(t=>t.setDuration(e))},this.getDuration=()=>u,this.getBoundingBox=e=>{var t,r;return c.forEach(e=>{r=e.getBoundingBox(),r&&(null==t?t=r.clone():t.union(r))}),t&&t.applyMatrix4(n.matrixWorld),e&&s.forEach(n=>{r=n.getBoundingBox(e),r&&(null==t?t=r.clone():t.union(r))}),t},this.clear=e=>{e&&s.forEach(t=>t.clear(e)),c.forEach(e=>{n.remove(e.morph),e.dispose()}),s=[],c=[]},this.objectIsInRegion=(e,t)=>{for(var n=0;n<c.length;n++)if(e===c[n])return!0;if(t)for(var r=0;r<s.length;r++)if(s[r].objectIsInRegion())return!0;return!1},this.forEachGeometry=(e,t)=>{c.forEach(t=>{t.isGeometry&&e(t)}),t&&s.forEach(n=>n.forEachGeometry(e,t))},this.forEachGlyphset=(e,t)=>{c.forEach(t=>{t.isGlyphset&&e(t)}),t&&s.forEach(n=>n.forEachGlyphset(e,t))},this.forEachPointset=(e,t)=>{c.forEach(t=>{t.isPointset&&e(t)}),t&&s.forEach(n=>n.forEachPointset(e,t))},this.forEachLine=(e,t)=>{c.forEach(t=>{t.isLines&&e(t)}),t&&s.forEach(n=>n.forEachLine(e,t))},this.findObjectsWithAnatomicalId=(e,t)=>(c.forEach(t=>{t.anatomicalId===e&&objectsArray.push(t)}),t&&s.forEach(n=>{var r=n.findObjectsWithAnatomicalId(e,t);objectsArray.push(...r)}),objectsArray),this.findObjectsWithGroupName=(e,t)=>{var n=[];return c.forEach(t=>{t.groupName===e&&n.push(t)}),t&&s.forEach(r=>{var i=r.findObjectsWithGroupName(e,t);n.push(...i)}),n},this.findGeometriesWithGroupName=(e,t)=>{var n=this.findObjectsWithGroupName(e,t),r=n.filter(e=>e.isGeometry);return r},this.findPointsetsWithGroupName=(e,t)=>{var n=this.findObjectsWithGroupName(e,t),r=n.filter(e=>e.isPointset);return r},this.findGlyphsetsWithGroupName=(e,t)=>{var n=this.findObjectsWithGroupName(e,t),r=n.filter(e=>e.isGlyphset);return r},this.findLinesWithGroupName=(e,t)=>{var n=this.findObjectsWithGroupName(e,t),r=n.filter(e=>e.isLines);return r},this.getAllObjects=e=>{var t=[...c];return s.forEach(n=>{var r=n.getAllObjects(e);t.push(...r)}),t},this.getCurrentTime=()=>{if(null!=c[0])return c[0].getCurrentTime();for(var e,t=0;t<s.length;t++)if(e=s[t].getCurrentTime(),-1!==e)return e;return-1},this.setMorphTime=(e,t)=>{c.forEach(t=>{t.setMorphTime(e)}),t&&s.forEach(t=>{t.setMorphTime(e)})},this.isTimeVarying=()=>{for(var e=0;e<c.length;e++)if(c[e].isTimeVarying())return!0;for(var t=0;t<s.length;t++)if(s[t].isTimeVarying())return!0;return!1},this.renderGeometries=(e,t,n,r,i)=>{var o=this.getAllObjects(i);if(o.forEach(i=>{i.render(e*t,n,r)}),r&&r.displayMarkers&&!1===n&&0<r.markerDepths.length){var s=Math.min(...r.markerDepths),a=Math.max(...r.markerDepths);o.forEach(e=>{e.processMarkerVisual(s,a,r)})}}};t.Region=o},function(e,t,n){var r=n(3);t.Minimap=function(e){var t=e;this.camera=new r.OrthographicCamera(-.5,.5,.5,-.5,.01,10),this.helper=void 0;var n=new r.BufferGeometry,i=new Float32Array([-1,-1,1,1,-1,1,1,1,1,1,1,1,-1,1,1,-1,-1,1]),o=new r.BufferAttribute(i,3);n.setAttribute("position",o);var s=new r.MeshBasicMaterial({color:3355443,depthTest:!1,depthWrite:!1,opacity:.5,transparent:!0});this.mask=new r.Mesh(n,s);var a=new r.Box3,c=new r.Vector3;this.getDiffFromNormalised=(e,t)=>{a.setFromBufferAttribute(o).getCenter(c);var n=c.clone().project(this.camera),i=new r.Vector3(e,t,n.z).unproject(this.camera);return i.sub(c)};var l=(e,n)=>{t.camera.near&&(this.camera.near=t.camera.near),n.farPlane&&(this.camera.far=n.farPlane),n.eyePosition&&this.camera.position.set(n.eyePosition[0],n.eyePosition[1],n.eyePosition[2]),n.upVector&&this.camera.up.set(n.upVector[0],n.upVector[1],n.upVector[2]),n.targetPosition&&this.camera.lookAt(new r.Vector3(n.targetPosition[0],n.targetPosition[1],n.targetPosition[2])),this.camera.zoom=1/e,this.camera.updateProjectionMatrix()};this.getBoundary=()=>{var e=(new r.Vector3).copy(t.camera.target).project(t.camera),n=new r.Vector3(-1,-1,e.z).unproject(t.camera),i=new r.Vector3(1,-1,e.z).unproject(t.camera),s=new r.Vector3(1,1,e.z).unproject(t.camera),a=new r.Vector3(-1,1,e.z).unproject(t.camera);o.copyVector3sArray([n,i,s,s,a,n]),o.needsUpdate=!0},this.updateCamera=()=>{this.getBoundary();var e=t.getZincCameraControls(),n=t.getBoundingBox();if(n){var r=n.min.distanceTo(n.max),i=r/2,o=(n.min.x+n.max.x)/2,s=(n.min.y+n.max.y)/2,a=(n.min.z+n.max.z)/2,c=e.getViewportFromCentreAndRadius(o,s,a,i,40,4*i);l(r,c)}}}},function(e,t,n){var r=n(3),i=n(37)(r),o=n(2).Geometry,s=n(38),a=n(39).default,c=r.BufferGeometryLoader,l=function(e){var t;e&&e.isGeometry&&(t=e);var u=void 0,h=void 0,d=!1,p=void 0,f=e=>{var n=t.morph.material.clone();n.morphTargets=!1;var i=new o,s=new c,a=s.parse(e),l=new r.Mesh(a.geometry,n);return i.geometry=l.geometry,i.morph=l,i.morph.userData=i,i},m=e=>{switch(e.data.action){case"message":console.log(e.data.message);break;case"result":var t=new l(f(e.data.object));p&&p(t),p=void 0,d=!1;break;default:throw"Cannot handle specified action."}},g=e=>{if(void 0!==s&&(h=s(40)),h){if(e&&e.isGeometry){var t=e.morph,r=t.geometry.clone().applyMatrix(t.matrix).toJSON();h.addEventListener("message",(function(e){m(e)})),h.postMessage({action:"initialise",object:r})}}else u=new(n(41).GeometryCSGInternal)(e)};this.getHostGeometry=()=>{var e=new i(t.morph);return new v(e)},this.getGeometry=()=>t;var v=e=>{var n=t.morph.material.clone();n.morphTargets=!1;var r=e.toMesh(n),i=new o;return i.geometry=r.geometry,i.morph=r,i.morph.userData=i,i};this.setCSG=e=>{u.setCSG(e)};var y=(e,t,n,r)=>{if(d)r("On progress");else{var i=e.morph,o=i.geometry.clone().applyMatrix(i.matrix).toJSON();p=n,d=!0,h.postMessage({action:t,object:o})}};this.intersect=e=>new a((t,n)=>{if(h)y(e,"intersect",t,n);else{var r=u.intersect(e),i=new l(v(r));i.setCSG(r),t(i)}}),this.subtract=e=>new a((t,n)=>{if(h)y(e,"intersect",t,n);else{var r=u.subtract(e),i=new l(v(r));i.setCSG(r),t(i)}}),this.union=e=>new a((t,n)=>{if(h)y(e,"intersect",t,n);else{var r=u.union(e),i=new l(v(r));i.setCSG(r),t(i)}}),this.terminateWorker=()=>{h&&h.terminate()},g(e)};t.GeometryCSG=l},function(e,t,n){"use strict";var r=1e-5,i=0,o=1,s=2,a=3;e.exports=function(e){var t=function(n){var r,i,o,s,a,c,l,u=[];if(n.isBufferGeometry&&(n=(new e.Geometry).fromBufferGeometry(n)),n instanceof e.Geometry)this.matrix=new e.Matrix4;else{if(!n.isMesh){if(n instanceof t.Node)return this.tree=n,this.matrix=new e.Matrix4,this;throw"ThreeBSP: Given geometry is unsupported"}n.updateMatrix(),this.matrix=n.matrix.clone(),n=n.geometry,n.isBufferGeometry&&(n=(new e.Geometry).fromBufferGeometry(n)),n.mergeVertices(),n.computeVertexNormals(!1)}for(r=0,i=n.faces.length;r<i;r++)o=n.faces[r],a=n.faceVertexUvs[0][r],l=new t.Polygon,o instanceof e.Face3?(s=n.vertices[o.a],c=a?new e.Vector2(a[0].x,a[0].y):null,s=new t.Vertex(s.x,s.y,s.z,o.vertexNormals[0],c),s.applyMatrix4(this.matrix),l.vertices.push(s),s=n.vertices[o.b],c=a?new e.Vector2(a[1].x,a[1].y):null,s=new t.Vertex(s.x,s.y,s.z,o.vertexNormals[2],c),s.applyMatrix4(this.matrix),l.vertices.push(s),s=n.vertices[o.c],c=a?new e.Vector2(a[2].x,a[2].y):null,s=new t.Vertex(s.x,s.y,s.z,o.vertexNormals[2],c),s.applyMatrix4(this.matrix),l.vertices.push(s)):(e.Face4,s=n.vertices[o.a],c=a?new e.Vector2(a[0].x,a[0].y):null,s=new t.Vertex(s.x,s.y,s.z,o.vertexNormals[0],c),s.applyMatrix4(this.matrix),l.vertices.push(s),s=n.vertices[o.b],c=a?new e.Vector2(a[1].x,a[1].y):null,s=new t.Vertex(s.x,s.y,s.z,o.vertexNormals[1],c),s.applyMatrix4(this.matrix),l.vertices.push(s),s=n.vertices[o.c],c=a?new e.Vector2(a[2].x,a[2].y):null,s=new t.Vertex(s.x,s.y,s.z,o.vertexNormals[2],c),s.applyMatrix4(this.matrix),l.vertices.push(s),s=n.vertices[o.d],c=a?new e.Vector2(a[3].x,a[3].y):null,s=new t.Vertex(s.x,s.y,s.z,o.vertexNormals[3],c),s.applyMatrix4(this.matrix),l.vertices.push(s)),l.calculateProperties(),u.push(l);this.tree=new t.Node(u)};return t.prototype.subtract=function(e){var n=this.tree.clone(),r=e.tree.clone();return n.invert(),n.clipTo(r),r.clipTo(n),r.invert(),r.clipTo(n),r.invert(),n.build(r.allPolygons()),n.invert(),n=new t(n),n.matrix=this.matrix,n},t.prototype.union=function(e){var n=this.tree.clone(),r=e.tree.clone();return n.clipTo(r),r.clipTo(n),r.invert(),r.clipTo(n),r.invert(),n.build(r.allPolygons()),n=new t(n),n.matrix=this.matrix,n},t.prototype.intersect=function(e){var n=this.tree.clone(),r=e.tree.clone();return n.invert(),r.clipTo(n),r.invert(),n.clipTo(r),r.clipTo(n),n.build(r.allPolygons()),n.invert(),n=new t(n),n.matrix=this.matrix,n},t.prototype.toGeometry=function(){var t,n,r,i,o,s,a,c,l,u,h=(new e.Matrix4).getInverse(this.matrix),d=new e.Geometry,p=this.tree.allPolygons(),f=p.length,m={};for(t=0;t<f;t++)for(r=p[t],i=r.vertices.length,n=2;n<i;n++)u=[],c=r.vertices[0],u.push(new e.Vector2(c.uv.x,c.uv.y)),c=new e.Vector3(c.x,c.y,c.z),c.applyMatrix4(h),"undefined"==typeof m[c.x+","+c.y+","+c.z]?(d.vertices.push(c),o=m[c.x+","+c.y+","+c.z]=d.vertices.length-1):o=m[c.x+","+c.y+","+c.z],c=r.vertices[n-1],u.push(new e.Vector2(c.uv.x,c.uv.y)),c=new e.Vector3(c.x,c.y,c.z),c.applyMatrix4(h),"undefined"==typeof m[c.x+","+c.y+","+c.z]?(d.vertices.push(c),s=m[c.x+","+c.y+","+c.z]=d.vertices.length-1):s=m[c.x+","+c.y+","+c.z],c=r.vertices[n],u.push(new e.Vector2(c.uv.x,c.uv.y)),c=new e.Vector3(c.x,c.y,c.z),c.applyMatrix4(h),"undefined"==typeof m[c.x+","+c.y+","+c.z]?(d.vertices.push(c),a=m[c.x+","+c.y+","+c.z]=d.vertices.length-1):a=m[c.x+","+c.y+","+c.z],l=new e.Face3(o,s,a,new e.Vector3(r.normal.x,r.normal.y,r.normal.z)),d.faces.push(l),d.faceVertexUvs[0].push(u);return d},t.prototype.toBufferGeometry=function(){var t=this.toGeometry(),n=(new e.BufferGeometry).fromGeometry(t);return n},t.prototype.toMesh=function(t){var n=this.toBufferGeometry(),r=new e.Mesh(n,t);return r.position.setFromMatrixPosition(this.matrix),r.rotation.setFromRotationMatrix(this.matrix),r},t.Polygon=function(e){e instanceof Array||(e=[]),this.vertices=e,0<e.length?this.calculateProperties():this.normal=this.w=void 0},t.Polygon.prototype.calculateProperties=function(){var e=this.vertices[0],t=this.vertices[1],n=this.vertices[2];return this.normal=t.clone().subtract(e).cross(n.clone().subtract(e)).normalize(),this.w=this.normal.clone().dot(e),this},t.Polygon.prototype.clone=function(){var e,n,r=new t.Polygon;for(e=0,n=this.vertices.length;e<n;e++)r.vertices.push(this.vertices[e].clone());return r.calculateProperties(),r},t.Polygon.prototype.flip=function(){var e,t=[];for(this.normal.multiplyScalar(-1),this.w*=-1,e=this.vertices.length-1;0<=e;e--)t.push(this.vertices[e]);return this.vertices=t,this},t.Polygon.prototype.classifyVertex=function(e){var t=this.normal.dot(e)-this.w;return t<-r?s:t>r?o:i},t.Polygon.prototype.classifySide=function(e){var t,n,r,c=0,l=0,u=e.vertices.length;for(t=0;t<u;t++)n=e.vertices[t],r=this.classifyVertex(n),r===o?c++:r===s&&l++;return 0<c&&0===l?o:0===c&&0<l?s:0===c&&0===l?i:a},t.Polygon.prototype.splitPolygon=function(e,n,r,c,l){var u=this.classifySide(e);if(u===i)(0<this.normal.dot(e.normal)?n:r).push(e);else if(u===o)c.push(e);else if(u===s)l.push(e);else{var h,d,p,f,m,g,v,y,b,x=[],w=[];for(d=0,h=e.vertices.length;d<h;d++)p=(d+1)%h,g=e.vertices[d],v=e.vertices[p],f=this.classifyVertex(g),m=this.classifyVertex(v),f!=s&&x.push(g),f!=o&&w.push(g),(f|m)===a&&(y=(this.w-this.normal.dot(g))/this.normal.dot(v.clone().subtract(g)),b=g.interpolate(v,y),x.push(b),w.push(b));3<=x.length&&c.push(new t.Polygon(x).calculateProperties()),3<=w.length&&l.push(new t.Polygon(w).calculateProperties())}},t.Vertex=function(t,n,r,i,o){this.x=t,this.y=n,this.z=r,this.normal=i||new e.Vector3,this.uv=o||new e.Vector2},t.Vertex.prototype.clone=function(){return new t.Vertex(this.x,this.y,this.z,this.normal.clone(),this.uv.clone())},t.Vertex.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},t.Vertex.prototype.subtract=function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},t.Vertex.prototype.multiplyScalar=function(e){return this.x*=e,this.y*=e,this.z*=e,this},t.Vertex.prototype.cross=function(e){var t=this.x,n=this.y,r=this.z;return this.x=n*e.z-r*e.y,this.y=r*e.x-t*e.z,this.z=t*e.y-n*e.x,this},t.Vertex.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return this.x/=e,this.y/=e,this.z/=e,this},t.Vertex.prototype.dot=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},t.Vertex.prototype.lerp=function(e,t){return this.add(e.clone().subtract(this).multiplyScalar(t)),this.normal.add(e.normal.clone().sub(this.normal).multiplyScalar(t)),this.uv.add(e.uv.clone().sub(this.uv).multiplyScalar(t)),this},t.Vertex.prototype.interpolate=function(e,t){return this.clone().lerp(e,t)},t.Vertex.prototype.applyMatrix4=function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12],this.y=i[1]*t+i[5]*n+i[9]*r+i[13],this.z=i[2]*t+i[6]*n+i[10]*r+i[14],this},t.Node=function(e){var n,r,i=[],o=[];if(this.polygons=[],this.front=this.back=void 0,e instanceof Array&&0!==e.length){for(this.divider=e[0].clone(),n=0,r=e.length;n<r;n++)this.divider.splitPolygon(e[n],this.polygons,this.polygons,i,o);0<i.length&&(this.front=new t.Node(i)),0<o.length&&(this.back=new t.Node(o))}},t.Node.isConvex=function(e){var t,n;for(t=0;t<e.length;t++)for(n=0;n<e.length;n++)if(t!==n&&e[t].classifySide(e[n])!==s)return!1;return!0},t.Node.prototype.build=function(e){var n,r,i=[],o=[];for(this.divider||(this.divider=e[0].clone()),n=0,r=e.length;n<r;n++)this.divider.splitPolygon(e[n],this.polygons,this.polygons,i,o);0<i.length&&(!this.front&&(this.front=new t.Node),this.front.build(i)),0<o.length&&(!this.back&&(this.back=new t.Node),this.back.build(o))},t.Node.prototype.allPolygons=function(){var e=this.polygons.slice();return this.front&&(e=e.concat(this.front.allPolygons())),this.back&&(e=e.concat(this.back.allPolygons())),e},t.Node.prototype.clone=function(){var e=new t.Node;return e.divider=this.divider.clone(),e.polygons=this.polygons.map((function(e){return e.clone()})),e.front=this.front&&this.front.clone(),e.back=this.back&&this.back.clone(),e},t.Node.prototype.invert=function(){var e,t,n;for(e=0,t=this.polygons.length;e<t;e++)this.polygons[e].flip();return this.divider.flip(),this.front&&this.front.invert(),this.back&&this.back.invert(),n=this.front,this.front=this.back,this.back=n,this},t.Node.prototype.clipPolygons=function(e){var t,n,r,i;if(!this.divider)return e.slice();for(r=[],i=[],t=0,n=e.length;t<n;t++)this.divider.splitPolygon(e[t],r,i,r,i);return this.front&&(r=this.front.clipPolygons(r)),i=this.back?this.back.clipPolygons(i):[],r.concat(i)},t.Node.prototype.clipTo=function(e){this.polygons=e.clipPolygons(this.polygons),this.front&&this.front.clipTo(e),this.back&&this.back.clipTo(e)},t}},function(e,t){e.exports=n("ae69")},function(e,t){e.exports=n("07f7")},function(e,t,n){var r=n(2).Geometry,i=n(3),o=i.BufferGeometryLoader;e.exports=function(e){var t=void 0,s=function(e){var t=new o,n=t.parse(e),s=new i.MeshPhongMaterial,a=new i.Mesh(n.geometry,s),c=new r;return c.morph=a,c},a=function(r){var i=s(r);t=new(n(41).GeometryCSGInternal)(i),e.postMessage({action:"message",message:"Initialised"})},c=function(n){if(t){var r=s(n),i=t.intersect(r),o=i.toBufferGeometry().toJSON();e.postMessage({action:"result",object:o})}},l=function(n){if(t){var r=s(n),i=t.subtract(r),o=i.toBufferGeometry().toJSON();e.postMessage({action:"result",object:o})}},u=function(n){if(t){var r=s(n),i=t.union(r),o=i.toBufferGeometry().toJSON();e.postMessage({action:"result",object:o})}};e.addEventListener("message",(function(e){switch(e.data.action){case"initialise":a(e.data.object);break;case"intersect":c(e.data.object);break;case"subtract":l(e.data.object);break;case"union":u(e.data.object);break;default:throw"Cannot handle specified action."}}))}},function(e,t,n){var r=n(3),i=n(37)(r),o=(n(2).Geometry,n(36).GeometryCSG,function(e){var t,n;e&&e.isGeometry&&(t=e),this.setGeometry=e=>{e&&e.isGeometry&&(t=e),n=void 0},this.setCSG=e=>{n=e};var r=e=>{if(t&&t.morph&&e&&e.morph){void 0===n&&(n=new i(t.morph));var r=new i(e.morph);return r}};this.intersect=e=>{var t=r(e);return n&&t?n.intersect(t):void 0},this.subtract=e=>{var t=r(e);return n&&t?n.subtract(t):void 0},this.union=e=>{var t=r(e);return n&&t?n.union(t):void 0}});t.GeometryCSGInternal=o},function(e,t,n){var r=n(3),i=n(37)(r),o=(n(13).Glyphset,function(e){var t;e&&e.isGlyphset&&(t=e);var s=[];this.setGlyphset=e=>{e&&e.isGlyphset&&(t=e),hostCSG=void 0},this.getGlyphset=()=>t;var a=()=>e=>{var t=e.getMesh(),n=e.getLabel();if(t){var r=new i(t.geometry.clone().applyMatrix(t.matrix)),o=[];o.csg=r,o.label=n,t.material&&(o.material=t.material.clone()),s.push(o)}},c=e=>{if(t&&e&&e.morph){0==s.length&&t.forEachGlyph(a());var n=new i(e.morph);return n}};this.intersect=e=>{var t=c(e);if(0<s.length&&t){for(var i=new(n(13).Glyphset),a=0;a<s.length;a++){var l=s[a],u=l.csg.intersect(t),h=u.toMesh();if(h&&h.geometry&&0<h.geometry.vertices.length){l.material&&(h.material=l.material,h.material.side=r.DoubleSide,h.material.clippingPlanes=null);var d=i.addMeshAsGlyph(h,a+1);d.setLabel(l.label)}}var p=new o(i);return p}}});t.GlyphsetCSG=o}])}))},"4d64":function(e,t,n){var r=n("fc6a"),i=n("23cb"),o=n("07fa"),s=function(e){return function(t,n,s){var a,c=r(t),l=o(c),u=i(s,l);if(e&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4dae":function(e,t,n){var r=n("23cb"),i=n("07fa"),o=n("8418"),s=Array,a=Math.max;e.exports=function(e,t,n){for(var c=i(e),l=r(t,c),u=r(void 0===n?c:n,c),h=s(a(u-l,0)),d=0;l<u;l++,d++)o(h,d,e[l]);return h.length=d,h}},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("c65b"),o=n("7b0b"),s=n("9bdd"),a=n("e95a"),c=n("68ee"),l=n("07fa"),u=n("8418"),h=n("9a1f"),d=n("35a1"),p=Array;e.exports=function(e){var t=o(e),n=c(this),f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m;g&&(m=r(m,f>2?arguments[2]:void 0));var v,y,b,x,w,_,S=d(t),M=0;if(!S||this===p&&a(S))for(v=l(t),y=n?new this(v):p(v);v>M;M++)_=g?m(t[M],M):t[M],u(y,M,_);else for(x=h(t,S),w=x.next,y=n?new this:[];!(b=i(w,x)).done;M++)_=g?s(x,m,[b.value,M],!0):b.value,u(y,M,_);return y.length=M,y}},"4e82":function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("59ed"),s=n("7b0b"),a=n("07fa"),c=n("083a"),l=n("577e"),u=n("d039"),h=n("addb"),d=n("a640"),p=n("04d1"),f=n("d998"),m=n("2d00"),g=n("512c"),v=[],y=i(v.sort),b=i(v.push),x=u((function(){v.sort(void 0)})),w=u((function(){v.sort(null)})),_=d("sort"),S=!u((function(){if(m)return m<70;if(!(p&&p>3)){if(f)return!0;if(g)return g<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)v.push({k:t+r,v:n})}for(v.sort((function(e,t){return t.v-e.v})),r=0;r<v.length;r++)t=v[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),M=x||!w||!_||!S,T=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:l(t)>l(n)?1:-1}};r({target:"Array",proto:!0,forced:M},{sort:function(e){void 0!==e&&o(e);var t=s(this);if(S)return void 0===e?y(t):y(t,e);var n,r,i=[],l=a(t);for(r=0;r<l;r++)r in t&&b(i,t[r]);h(i,T(e)),n=i.length,r=0;while(r<n)t[r]=i[r++];while(r<l)c(t,r++);return t}})},"4f5a":function(e,t,n){(function(e){(function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}},n=t(),r=function(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t},i=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},o=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))},s=function(){var t=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var n=typeof e;if("undefined"===n);else if("string"===n)""!==e&&this._fromString(e);else if(e instanceof t){var r=this;e.forEach((function(e,t){r.append(t,e)}))}else{if(null===e||"object"!==n)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var i=0;i<e.length;i++){var o=e[i];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+i+" of URLSearchParams's input");this.append(o[0],o[1])}else for(var s in e)e.hasOwnProperty(s)&&this.append(s,e[s])}},o=t.prototype;o.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},o.delete=function(e){delete this._entries[e]},o.get=function(e){return e in this._entries?this._entries[e][0]:null},o.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},o.has=function(e){return e in this._entries},o.set=function(e,t){this._entries[e]=[String(t)]},o.forEach=function(e,t){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var i=0;i<n.length;i++)e.call(t,n[i],r,this)}},o.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),r(e)},o.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),r(e)},o.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),r(e)},n&&(o[Symbol.iterator]=o.entries),o.toString=function(){var e=[];return this.forEach((function(t,n){e.push(i(n)+"="+i(t))})),e.join("&")},e.URLSearchParams=t},a=function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"===typeof t.prototype.set&&"function"===typeof t.prototype.entries}catch(n){return!1}};a()||s();var c=e.URLSearchParams.prototype;"function"!==typeof c.sort&&(c.sort=function(){var e=this,t=[];this.forEach((function(n,r){t.push([r,n]),e._entries||e.delete(r)})),t.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),e._entries&&(e._entries={});for(var n=0;n<t.length;n++)this.append(t[n][0],t[n][1])}),"function"!==typeof c._fromString&&Object.defineProperty(c,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach((function(e,n){t.push(n)}));for(var n=0;n<t.length;n++)this.delete(t[n])}e=e.replace(/^\?/,"");var r,i=e.split("&");for(n=0;n<i.length;n++)r=i[n].split("="),this.append(o(r[0]),r.length>1?o(r[1]):"")}})})("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this),function(e){var t=function(){try{var t=new e.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href&&t.searchParams}catch(n){return!1}},n=function(){var t=e.URL,n=function(t,n){"string"!==typeof t&&(t=String(t)),n&&"string"!==typeof n&&(n=String(n));var r,i=document;if(n&&(void 0===e.location||n!==e.location.href)){n=n.toLowerCase(),i=document.implementation.createHTMLDocument(""),r=i.createElement("base"),r.href=n,i.head.appendChild(r);try{if(0!==r.href.indexOf(n))throw new Error(r.href)}catch(d){throw new Error("URL unable to set base "+n+" due to "+d)}}var o=i.createElement("a");o.href=t,r&&(i.body.appendChild(o),o.href=o.href);var s=i.createElement("input");if(s.type="url",s.value=t,":"===o.protocol||!/:/.test(o.href)||!s.checkValidity()&&!n)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o});var a=new e.URLSearchParams(this.search),c=!0,l=!0,u=this;["append","delete","set"].forEach((function(e){var t=a[e];a[e]=function(){t.apply(a,arguments),c&&(l=!1,u.search=a.toString(),l=!0)}})),Object.defineProperty(this,"searchParams",{value:a,enumerable:!0});var h=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==h&&(h=this.search,l&&(c=!1,this.searchParams._fromString(this.search),c=!0))}})},r=n.prototype,i=function(e){Object.defineProperty(r,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach((function(e){i(e)})),Object.defineProperty(r,"search",{get:function(){return this._anchorElement["search"]},set:function(e){this._anchorElement["search"]=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n};if(t()||n(),void 0!==e.location&&!("origin"in e.location)){var r=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:r,enumerable:!0})}catch(i){setInterval((function(){e.location.origin=r()}),100)}}}("undefined"!==typeof e?e:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this)}).call(this,n("c8ba"))},"50c4":function(e,t,n){var r=n("5926"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"50d8":function(e,t){function n(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}e.exports=n},"512c":function(e,t,n){var r=n("342f"),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},"518e":function(e,t,n){"use strict";n.r(t),n.d(t,"STLLoader",(function(){return i}));var r=n("5a89");class i extends r["Loader"]{constructor(e){super(e)}load(e,t,n,i){const o=this,s=new r["FileLoader"](this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{t(o.parse(n))}catch(r){i?i(r):console.error(r),o.manager.itemError(e)}}),n,i)}parse(e){function t(e){const t=new DataView(e),r=50,i=t.getUint32(80,!0),o=84+i*r;if(o===t.byteLength)return!0;const s=[115,111,108,105,100];for(let a=0;a<5;a++)if(n(s,t,a))return!1;return!0}function n(e,t,n){for(let r=0,i=e.length;r<i;r++)if(e[r]!==t.getUint8(n+r,!1))return!1;return!0}function i(e){const t=new DataView(e),n=t.getUint32(80,!0);let i,o,s,a,c,l,u,h,d=!1;for(let r=0;r<70;r++)1129270351==t.getUint32(r,!1)&&82==t.getUint8(r+4)&&61==t.getUint8(r+5)&&(d=!0,a=new Float32Array(3*n*3),c=t.getUint8(r+6)/255,l=t.getUint8(r+7)/255,u=t.getUint8(r+8)/255,h=t.getUint8(r+9)/255);const p=84,f=50,m=new r["BufferGeometry"],g=new Float32Array(3*n*3),v=new Float32Array(3*n*3);for(let r=0;r<n;r++){const e=p+r*f,n=t.getFloat32(e,!0),h=t.getFloat32(e+4,!0),m=t.getFloat32(e+8,!0);if(d){const n=t.getUint16(e+48,!0);0===(32768&n)?(i=(31&n)/31,o=(n>>5&31)/31,s=(n>>10&31)/31):(i=c,o=l,s=u)}for(let c=1;c<=3;c++){const l=e+12*c,u=3*r*3+3*(c-1);g[u]=t.getFloat32(l,!0),g[u+1]=t.getFloat32(l+4,!0),g[u+2]=t.getFloat32(l+8,!0),v[u]=n,v[u+1]=h,v[u+2]=m,d&&(a[u]=i,a[u+1]=o,a[u+2]=s)}}return m.setAttribute("position",new r["BufferAttribute"](g,3)),m.setAttribute("normal",new r["BufferAttribute"](v,3)),d&&(m.setAttribute("color",new r["BufferAttribute"](a,3)),m.hasColors=!0,m.alpha=h),m}function o(e){const t=new r["BufferGeometry"],n=/solid([\s\S]*?)endsolid/g,i=/facet([\s\S]*?)endfacet/g;let o=0;const s=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,a=new RegExp("vertex"+s+s+s,"g"),c=new RegExp("normal"+s+s+s,"g"),l=[],u=[],h=new r["Vector3"];let d,p=0,f=0,m=0;while(null!==(d=n.exec(e))){f=m;const e=d[0];while(null!==(d=i.exec(e))){let e=0,t=0;const n=d[0];while(null!==(d=c.exec(n)))h.x=parseFloat(d[1]),h.y=parseFloat(d[2]),h.z=parseFloat(d[3]),t++;while(null!==(d=a.exec(n)))l.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),u.push(h.x,h.y,h.z),e++,m++;1!==t&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+o),3!==e&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+o),o++}const n=f,r=m-f;t.addGroup(n,r,p),p++}return t.setAttribute("position",new r["Float32BufferAttribute"](l,3)),t.setAttribute("normal",new r["Float32BufferAttribute"](u,3)),t}function s(e){return"string"!==typeof e?r["LoaderUtils"].decodeText(new Uint8Array(e)):e}function a(e){if("string"===typeof e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}const c=a(e);return t(c)?i(c):o(s(e))}}},5319:function(e,t,n){"use strict";var r=n("2ba4"),i=n("c65b"),o=n("e330"),s=n("d784"),a=n("d039"),c=n("825a"),l=n("1626"),u=n("5926"),h=n("50c4"),d=n("577e"),p=n("1d80"),f=n("8aa5"),m=n("dc4a"),g=n("0cb2"),v=n("14c3"),y=n("b622"),b=y("replace"),x=Math.max,w=Math.min,_=o([].concat),S=o([].push),M=o("".indexOf),T=o("".slice),E=function(e){return void 0===e?e:String(e)},C=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),L=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,n){var o=A?"$":"$0";return[function(e,n){var r=p(this),o=void 0==e?void 0:m(e,b);return o?i(o,e,r,n):i(t,d(r),e,n)},function(e,i){var s=c(this),a=d(e);if("string"==typeof i&&-1===M(i,o)&&-1===M(i,"$<")){var p=n(t,s,a,i);if(p.done)return p.value}var m=l(i);m||(i=d(i));var y=s.global;if(y){var b=s.unicode;s.lastIndex=0}var C=[];while(1){var A=v(s,a);if(null===A)break;if(S(C,A),!y)break;var L=d(A[0]);""===L&&(s.lastIndex=f(a,h(s.lastIndex),b))}for(var R="",O=0,P=0;P<C.length;P++){A=C[P];for(var k=d(A[0]),N=x(w(u(A.index),a.length),0),F=[],I=1;I<A.length;I++)S(F,E(A[I]));var D=A.groups;if(m){var B=_([k],F,N,a);void 0!==D&&S(B,D);var z=d(r(i,void 0,B))}else z=g(k,a,N,F,D,i);N>=O&&(R+=T(a,O,N)+z,O=N+k.length)}return R+T(a,O)}]}),!L||!C||A)},5352:function(e,t,n){"use strict";n("e260");var r=n("23e7"),i=n("da84"),o=n("c65b"),s=n("e330"),a=n("83ab"),c=n("0d3b"),l=n("cb2d"),u=n("6964"),h=n("d44e"),d=n("9ed3"),p=n("69f3"),f=n("19aa"),m=n("1626"),g=n("1a2d"),v=n("0366"),y=n("f5df"),b=n("825a"),x=n("861d"),w=n("577e"),_=n("7c73"),S=n("5c6c"),M=n("9a1f"),T=n("35a1"),E=n("d6d6"),C=n("b622"),A=n("addb"),L=C("iterator"),R="URLSearchParams",O=R+"Iterator",P=p.set,k=p.getterFor(R),N=p.getterFor(O),F=Object.getOwnPropertyDescriptor,I=function(e){if(!a)return i[e];var t=F(i,e);return t&&t.value},D=I("fetch"),B=I("Request"),z=I("Headers"),j=B&&B.prototype,U=z&&z.prototype,V=i.RegExp,G=i.TypeError,H=i.decodeURIComponent,W=i.encodeURIComponent,$=s("".charAt),q=s([].join),X=s([].push),Y=s("".replace),Z=s([].shift),J=s([].splice),K=s("".split),Q=s("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return H(e)}catch(t){return e}},ie=function(e){var t=Y(e,ee," "),n=4;try{return H(t)}catch(r){while(n)t=Y(t,ne(n--),re);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return se[e]},ce=function(e){return Y(W(e),oe,ae)},le=d((function(e,t){P(this,{type:O,iterator:M(k(e).entries),kind:t})}),"Iterator",(function(){var e=N(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(x(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===$(e,0)?Q(e,1):e:w(e)))};ue.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,s,a,c,l=T(e);if(l){t=M(e,l),n=t.next;while(!(r=o(n,t)).done){if(i=M(b(r.value)),s=i.next,(a=o(s,i)).done||(c=o(s,i)).done||!o(s,i).done)throw G("Expected sequence with length 2");X(this.entries,{key:w(a.value),value:w(c.value)})}}else for(var u in e)g(e,u)&&X(this.entries,{key:u,value:w(e[u])})},parseQuery:function(e){if(e){var t,n,r=K(e,"&"),i=0;while(i<r.length)t=r[i++],t.length&&(n=K(t,"="),X(this.entries,{key:ie(Z(n)),value:ie(q(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],r=0;while(r<t.length)e=t[r++],X(n,ce(e.key)+"="+ce(e.value));return q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){f(this,de);var e=arguments.length>0?arguments[0]:void 0;P(this,new ue(e))},de=he.prototype;if(u(de,{append:function(e,t){E(arguments.length,2);var n=k(this);X(n.entries,{key:w(e),value:w(t)}),n.updateURL()},delete:function(e){E(arguments.length,1);var t=k(this),n=t.entries,r=w(e),i=0;while(i<n.length)n[i].key===r?J(n,i,1):i++;t.updateURL()},get:function(e){E(arguments.length,1);for(var t=k(this).entries,n=w(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){E(arguments.length,1);for(var t=k(this).entries,n=w(e),r=[],i=0;i<t.length;i++)t[i].key===n&&X(r,t[i].value);return r},has:function(e){E(arguments.length,1);var t=k(this).entries,n=w(e),r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){E(arguments.length,1);for(var n,r=k(this),i=r.entries,o=!1,s=w(e),a=w(t),c=0;c<i.length;c++)n=i[c],n.key===s&&(o?J(i,c--,1):(o=!0,n.value=a));o||X(i,{key:s,value:a}),r.updateURL()},sort:function(){var e=k(this);A(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=k(this).entries,r=v(e,arguments.length>1?arguments[1]:void 0),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),l(de,L,de.entries,{name:"entries"}),l(de,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),h(he,R),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:he}),!c&&m(z)){var pe=s(U.has),fe=s(U.set),me=function(e){if(x(e)){var t,n=e.body;if(y(n)===R)return t=e.headers?new z(e.headers):new z,pe(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),_(e,{body:S(0,w(n)),headers:S(0,t)})}return e};if(m(D)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return D(e,arguments.length>1?me(arguments[1]):{})}}),m(B)){var ge=function(e){return f(this,j),new B(e,arguments.length>1?me(arguments[1]):{})};j.constructor=ge,ge.prototype=j,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:he,getState:k}},"55a3":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,n){var r=n("d066"),i=n("e330"),o=n("241c"),s=n("7418"),a=n("825a"),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?c(t,n(e)):t}},"577e":function(e,t,n){var r=n("f5df"),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},"57a5":function(e,t,n){var r=n("91e9"),i=r(Object.keys,Object);e.exports=i},"57b9":function(e,t,n){var r=n("c65b"),i=n("d066"),o=n("b622"),s=n("cb2d");e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=o("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return r(n,this)}),{arity:1})}},"585a":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("c8ba"))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("e330"),i=n("1d80"),o=n("577e"),s=n("5899"),a=r("".replace),c="["+s+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),h=function(e){return function(t){var n=o(i(t));return 1&e&&(n=a(n,l,"")),2&e&&(n=a(n,u,"")),n}};e.exports={start:h(1),end:h(2),trim:h(3)}},5926:function(e,t,n){var r=n("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},"597f":function(e,t){e.exports=function(e,t,n,r){var i,o=0;function s(){var s=this,a=Number(new Date)-o,c=arguments;function l(){o=Number(new Date),n.apply(s,c)}function u(){i=void 0}r&&!i&&l(),i&&clearTimeout(i),void 0===r&&a>e?l():!0!==t&&(i=setTimeout(r?u:l,void 0===r?e-a:e))}return"boolean"!==typeof t&&(r=n,n=t,t=void 0),s}},"59ed":function(e,t,n){var r=n("1626"),i=n("0d51"),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},"5a34":function(e,t,n){var r=n("44e7"),i=TypeError;e.exports=function(e){if(r(e))throw i("The method doesn't accept regular expressions");return e}},"5a47":function(e,t,n){var r=n("23e7"),i=n("4930"),o=n("d039"),s=n("7418"),a=n("7b0b"),c=!i||o((function(){s.f(1)}));r({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},"5a89":function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return ne})),n.d(t,"AddEquation",(function(){return T})),n.d(t,"AddOperation",(function(){return J})),n.d(t,"AdditiveAnimationBlendMode",(function(){return $t})),n.d(t,"AdditiveBlending",(function(){return w})),n.d(t,"AlphaFormat",(function(){return Ie})),n.d(t,"AlwaysDepth",(function(){return V})),n.d(t,"AlwaysStencilFunc",(function(){return Mn})),n.d(t,"AmbientLight",(function(){return Yf})),n.d(t,"AmbientLightProbe",(function(){return ym})),n.d(t,"AnimationClip",(function(){return mf})),n.d(t,"AnimationLoader",(function(){return Mf})),n.d(t,"AnimationMixer",(function(){return Jm})),n.d(t,"AnimationObjectGroup",(function(){return Ym})),n.d(t,"AnimationUtils",(function(){return tf})),n.d(t,"ArcCurve",(function(){return xd})),n.d(t,"ArrayCamera",(function(){return Hu})),n.d(t,"ArrowHelper",(function(){return Ug})),n.d(t,"Audio",(function(){return Lm})),n.d(t,"AudioAnalyser",(function(){return Fm})),n.d(t,"AudioContext",(function(){return mm})),n.d(t,"AudioListener",(function(){return Am})),n.d(t,"AudioLoader",(function(){return gm})),n.d(t,"AxesHelper",(function(){return Vg})),n.d(t,"AxisHelper",(function(){return Wv})),n.d(t,"BackSide",(function(){return m})),n.d(t,"BasicDepthPacking",(function(){return on})),n.d(t,"BasicShadowMap",(function(){return u})),n.d(t,"BinaryTextureLoader",(function(){return Zv})),n.d(t,"Bone",(function(){return Rh})),n.d(t,"BooleanKeyframeTrack",(function(){return cf})),n.d(t,"BoundingBoxHelper",(function(){return $v})),n.d(t,"Box2",(function(){return ag})),n.d(t,"Box3",(function(){return Sr})),n.d(t,"Box3Helper",(function(){return Ig})),n.d(t,"BoxBufferGeometry",(function(){return Fo})),n.d(t,"BoxGeometry",(function(){return Fo})),n.d(t,"BoxHelper",(function(){return Fg})),n.d(t,"BufferAttribute",(function(){return $i})),n.d(t,"BufferGeometry",(function(){return fo})),n.d(t,"BufferGeometryLoader",(function(){return rm})),n.d(t,"ByteType",(function(){return Te})),n.d(t,"Cache",(function(){return yf})),n.d(t,"Camera",(function(){return Vo})),n.d(t,"CameraHelper",(function(){return Pg})),n.d(t,"CanvasRenderer",(function(){return Kv})),n.d(t,"CanvasTexture",(function(){return sd})),n.d(t,"CatmullRomCurve3",(function(){return Ed})),n.d(t,"CineonToneMapping",(function(){return te})),n.d(t,"CircleBufferGeometry",(function(){return cd})),n.d(t,"CircleGeometry",(function(){return cd})),n.d(t,"ClampToEdgeWrapping",(function(){return de})),n.d(t,"Clock",(function(){return _m})),n.d(t,"Color",(function(){return Vi})),n.d(t,"ColorKeyframeTrack",(function(){return lf})),n.d(t,"CompressedTexture",(function(){return od})),n.d(t,"CompressedTextureLoader",(function(){return Tf})),n.d(t,"ConeBufferGeometry",(function(){return ud})),n.d(t,"ConeGeometry",(function(){return ud})),n.d(t,"CubeCamera",(function(){return $o})),n.d(t,"CubeReflectionMapping",(function(){return oe})),n.d(t,"CubeRefractionMapping",(function(){return se})),n.d(t,"CubeTexture",(function(){return qo})),n.d(t,"CubeTextureLoader",(function(){return Cf})),n.d(t,"CubeUVReflectionMapping",(function(){return le})),n.d(t,"CubeUVRefractionMapping",(function(){return ue})),n.d(t,"CubicBezierCurve",(function(){return Dd})),n.d(t,"CubicBezierCurve3",(function(){return Bd})),n.d(t,"CubicInterpolant",(function(){return rf})),n.d(t,"CullFaceBack",(function(){return a})),n.d(t,"CullFaceFront",(function(){return c})),n.d(t,"CullFaceFrontBack",(function(){return l})),n.d(t,"CullFaceNone",(function(){return s})),n.d(t,"Curve",(function(){return yd})),n.d(t,"CurvePath",(function(){return Rf})),n.d(t,"CustomBlending",(function(){return M})),n.d(t,"CustomToneMapping",(function(){return re})),n.d(t,"CylinderBufferGeometry",(function(){return ld})),n.d(t,"CylinderGeometry",(function(){return ld})),n.d(t,"Cylindrical",(function(){return og})),n.d(t,"DataTexture",(function(){return Oh})),n.d(t,"DataTexture2DArray",(function(){return Gc})),n.d(t,"DataTexture3D",(function(){return Hc})),n.d(t,"DataTextureLoader",(function(){return Af})),n.d(t,"DataUtils",(function(){return Wg})),n.d(t,"DecrementStencilOp",(function(){return pn})),n.d(t,"DecrementWrapStencilOp",(function(){return mn})),n.d(t,"DefaultLoadingManager",(function(){return xf})),n.d(t,"DepthFormat",(function(){return Ve})),n.d(t,"DepthStencilFormat",(function(){return Ge})),n.d(t,"DepthTexture",(function(){return ad})),n.d(t,"DirectionalLight",(function(){return Xf})),n.d(t,"DirectionalLightHelper",(function(){return Lg})),n.d(t,"DiscreteInterpolant",(function(){return sf})),n.d(t,"DodecahedronBufferGeometry",(function(){return dd})),n.d(t,"DodecahedronGeometry",(function(){return dd})),n.d(t,"DoubleSide",(function(){return g})),n.d(t,"DstAlphaFactor",(function(){return I})),n.d(t,"DstColorFactor",(function(){return B})),n.d(t,"DynamicBufferAttribute",(function(){return Fv})),n.d(t,"DynamicCopyUsage",(function(){return Pn})),n.d(t,"DynamicDrawUsage",(function(){return En})),n.d(t,"DynamicReadUsage",(function(){return Ln})),n.d(t,"EdgesGeometry",(function(){return vd})),n.d(t,"EdgesHelper",(function(){return qv})),n.d(t,"EllipseCurve",(function(){return bd})),n.d(t,"EqualDepth",(function(){return W})),n.d(t,"EqualStencilFunc",(function(){return bn})),n.d(t,"EquirectangularReflectionMapping",(function(){return ae})),n.d(t,"EquirectangularRefractionMapping",(function(){return ce})),n.d(t,"Euler",(function(){return ai})),n.d(t,"EventDispatcher",(function(){return In})),n.d(t,"ExtrudeBufferGeometry",(function(){return Ep})),n.d(t,"ExtrudeGeometry",(function(){return Ep})),n.d(t,"FaceColors",(function(){return Mv})),n.d(t,"FileLoader",(function(){return Sf})),n.d(t,"FlatShading",(function(){return v})),n.d(t,"Float16BufferAttribute",(function(){return eo})),n.d(t,"Float32Attribute",(function(){return Gv})),n.d(t,"Float32BufferAttribute",(function(){return to})),n.d(t,"Float64Attribute",(function(){return Hv})),n.d(t,"Float64BufferAttribute",(function(){return no})),n.d(t,"FloatType",(function(){return Re})),n.d(t,"Fog",(function(){return eh})),n.d(t,"FogExp2",(function(){return Qu})),n.d(t,"Font",(function(){return um})),n.d(t,"FontLoader",(function(){return pm})),n.d(t,"FrontSide",(function(){return f})),n.d(t,"Frustum",(function(){return ts})),n.d(t,"GLBufferAttribute",(function(){return eg})),n.d(t,"GLSL1",(function(){return Nn})),n.d(t,"GLSL3",(function(){return Fn})),n.d(t,"GammaEncoding",(function(){return Kt})),n.d(t,"GreaterDepth",(function(){return q})),n.d(t,"GreaterEqualDepth",(function(){return $})),n.d(t,"GreaterEqualStencilFunc",(function(){return Sn})),n.d(t,"GreaterStencilFunc",(function(){return wn})),n.d(t,"GridHelper",(function(){return Mg})),n.d(t,"Group",(function(){return Wu})),n.d(t,"HalfFloatType",(function(){return Oe})),n.d(t,"HemisphereLight",(function(){return Nf})),n.d(t,"HemisphereLightHelper",(function(){return Sg})),n.d(t,"HemisphereLightProbe",(function(){return vm})),n.d(t,"IcosahedronBufferGeometry",(function(){return Lp})),n.d(t,"IcosahedronGeometry",(function(){return Lp})),n.d(t,"ImageBitmapLoader",(function(){return cm})),n.d(t,"ImageLoader",(function(){return Ef})),n.d(t,"ImageUtils",(function(){return hr})),n.d(t,"ImmediateRenderObject",(function(){return hg})),n.d(t,"IncrementStencilOp",(function(){return dn})),n.d(t,"IncrementWrapStencilOp",(function(){return fn})),n.d(t,"InstancedBufferAttribute",(function(){return nm})),n.d(t,"InstancedBufferGeometry",(function(){return tm})),n.d(t,"InstancedInterleavedBuffer",(function(){return Qm})),n.d(t,"InstancedMesh",(function(){return zh})),n.d(t,"Int16Attribute",(function(){return zv})),n.d(t,"Int16BufferAttribute",(function(){return Zi})),n.d(t,"Int32Attribute",(function(){return Uv})),n.d(t,"Int32BufferAttribute",(function(){return Ki})),n.d(t,"Int8Attribute",(function(){return Iv})),n.d(t,"Int8BufferAttribute",(function(){return qi})),n.d(t,"IntType",(function(){return Ae})),n.d(t,"InterleavedBuffer",(function(){return nh})),n.d(t,"InterleavedBufferAttribute",(function(){return ih})),n.d(t,"Interpolant",(function(){return nf})),n.d(t,"InterpolateDiscrete",(function(){return zt})),n.d(t,"InterpolateLinear",(function(){return jt})),n.d(t,"InterpolateSmooth",(function(){return Ut})),n.d(t,"InvertStencilOp",(function(){return gn})),n.d(t,"JSONLoader",(function(){return Qv})),n.d(t,"KeepStencilOp",(function(){return un})),n.d(t,"KeyframeTrack",(function(){return af})),n.d(t,"LOD",(function(){return Sh})),n.d(t,"LatheBufferGeometry",(function(){return Rp})),n.d(t,"LatheGeometry",(function(){return Rp})),n.d(t,"Layers",(function(){return ci})),n.d(t,"LensFlare",(function(){return ty})),n.d(t,"LessDepth",(function(){return G})),n.d(t,"LessEqualDepth",(function(){return H})),n.d(t,"LessEqualStencilFunc",(function(){return xn})),n.d(t,"LessStencilFunc",(function(){return yn})),n.d(t,"Light",(function(){return kf})),n.d(t,"LightProbe",(function(){return Kf})),n.d(t,"Line",(function(){return $h})),n.d(t,"Line3",(function(){return ug})),n.d(t,"LineBasicMaterial",(function(){return jh})),n.d(t,"LineCurve",(function(){return zd})),n.d(t,"LineCurve3",(function(){return jd})),n.d(t,"LineDashedMaterial",(function(){return Qp})),n.d(t,"LineLoop",(function(){return Zh})),n.d(t,"LinePieces",(function(){return _v})),n.d(t,"LineSegments",(function(){return Yh})),n.d(t,"LineStrip",(function(){return wv})),n.d(t,"LinearEncoding",(function(){return Zt})),n.d(t,"LinearFilter",(function(){return be})),n.d(t,"LinearInterpolant",(function(){return of})),n.d(t,"LinearMipMapLinearFilter",(function(){return Se})),n.d(t,"LinearMipMapNearestFilter",(function(){return we})),n.d(t,"LinearMipmapLinearFilter",(function(){return _e})),n.d(t,"LinearMipmapNearestFilter",(function(){return xe})),n.d(t,"LinearToneMapping",(function(){return Q})),n.d(t,"Loader",(function(){return wf})),n.d(t,"LoaderUtils",(function(){return em})),n.d(t,"LoadingManager",(function(){return bf})),n.d(t,"LogLuvEncoding",(function(){return en})),n.d(t,"LoopOnce",(function(){return It})),n.d(t,"LoopPingPong",(function(){return Bt})),n.d(t,"LoopRepeat",(function(){return Dt})),n.d(t,"LuminanceAlphaFormat",(function(){return je})),n.d(t,"LuminanceFormat",(function(){return ze})),n.d(t,"MOUSE",(function(){return i})),n.d(t,"Material",(function(){return Fi})),n.d(t,"MaterialLoader",(function(){return Qf})),n.d(t,"Math",(function(){return ar})),n.d(t,"MathUtils",(function(){return ar})),n.d(t,"Matrix3",(function(){return lr})),n.d(t,"Matrix4",(function(){return Jr})),n.d(t,"MaxEquation",(function(){return L})),n.d(t,"Mesh",(function(){return Po})),n.d(t,"MeshBasicMaterial",(function(){return Gi})),n.d(t,"MeshDepthMaterial",(function(){return Iu})),n.d(t,"MeshDistanceMaterial",(function(){return Du})),n.d(t,"MeshFaceMaterial",(function(){return Ev})),n.d(t,"MeshLambertMaterial",(function(){return Jp})),n.d(t,"MeshMatcapMaterial",(function(){return Kp})),n.d(t,"MeshNormalMaterial",(function(){return Zp})),n.d(t,"MeshPhongMaterial",(function(){return Xp})),n.d(t,"MeshPhysicalMaterial",(function(){return qp})),n.d(t,"MeshStandardMaterial",(function(){return $p})),n.d(t,"MeshToonMaterial",(function(){return Yp})),n.d(t,"MinEquation",(function(){return A})),n.d(t,"MirroredRepeatWrapping",(function(){return pe})),n.d(t,"MixOperation",(function(){return Z})),n.d(t,"MultiMaterial",(function(){return Cv})),n.d(t,"MultiplyBlending",(function(){return S})),n.d(t,"MultiplyOperation",(function(){return Y})),n.d(t,"NearestFilter",(function(){return fe})),n.d(t,"NearestMipMapLinearFilter",(function(){return ye})),n.d(t,"NearestMipMapNearestFilter",(function(){return ge})),n.d(t,"NearestMipmapLinearFilter",(function(){return ve})),n.d(t,"NearestMipmapNearestFilter",(function(){return me})),n.d(t,"NeverDepth",(function(){return U})),n.d(t,"NeverStencilFunc",(function(){return vn})),n.d(t,"NoBlending",(function(){return b})),n.d(t,"NoColors",(function(){return Sv})),n.d(t,"NoToneMapping",(function(){return K})),n.d(t,"NormalAnimationBlendMode",(function(){return Wt})),n.d(t,"NormalBlending",(function(){return x})),n.d(t,"NotEqualDepth",(function(){return X})),n.d(t,"NotEqualStencilFunc",(function(){return _n})),n.d(t,"NumberKeyframeTrack",(function(){return uf})),n.d(t,"Object3D",(function(){return _i})),n.d(t,"ObjectLoader",(function(){return im})),n.d(t,"ObjectSpaceNormalMap",(function(){return cn})),n.d(t,"OctahedronBufferGeometry",(function(){return Op})),n.d(t,"OctahedronGeometry",(function(){return Op})),n.d(t,"OneFactor",(function(){return O})),n.d(t,"OneMinusDstAlphaFactor",(function(){return D})),n.d(t,"OneMinusDstColorFactor",(function(){return z})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return F})),n.d(t,"OneMinusSrcColorFactor",(function(){return k})),n.d(t,"OrthographicCamera",(function(){return $f})),n.d(t,"PCFShadowMap",(function(){return h})),n.d(t,"PCFSoftShadowMap",(function(){return d})),n.d(t,"PMREMGenerator",(function(){return hv})),n.d(t,"ParametricBufferGeometry",(function(){return Pp})),n.d(t,"ParametricGeometry",(function(){return Pp})),n.d(t,"Particle",(function(){return Lv})),n.d(t,"ParticleBasicMaterial",(function(){return Pv})),n.d(t,"ParticleSystem",(function(){return Rv})),n.d(t,"ParticleSystemMaterial",(function(){return kv})),n.d(t,"Path",(function(){return Of})),n.d(t,"PerspectiveCamera",(function(){return Go})),n.d(t,"Plane",(function(){return Ko})),n.d(t,"PlaneBufferGeometry",(function(){return is})),n.d(t,"PlaneGeometry",(function(){return is})),n.d(t,"PlaneHelper",(function(){return Dg})),n.d(t,"PointCloud",(function(){return Av})),n.d(t,"PointCloudMaterial",(function(){return Ov})),n.d(t,"PointLight",(function(){return Wf})),n.d(t,"PointLightHelper",(function(){return bg})),n.d(t,"Points",(function(){return nd})),n.d(t,"PointsMaterial",(function(){return Jh})),n.d(t,"PolarGridHelper",(function(){return Tg})),n.d(t,"PolyhedronBufferGeometry",(function(){return hd})),n.d(t,"PolyhedronGeometry",(function(){return hd})),n.d(t,"PositionalAudio",(function(){return Nm})),n.d(t,"PropertyBinding",(function(){return Xm})),n.d(t,"PropertyMixer",(function(){return Im})),n.d(t,"QuadraticBezierCurve",(function(){return Ud})),n.d(t,"QuadraticBezierCurve3",(function(){return Vd})),n.d(t,"Quaternion",(function(){return br})),n.d(t,"QuaternionKeyframeTrack",(function(){return df})),n.d(t,"QuaternionLinearInterpolant",(function(){return hf})),n.d(t,"REVISION",(function(){return r})),n.d(t,"RGBADepthPacking",(function(){return sn})),n.d(t,"RGBAFormat",(function(){return Be})),n.d(t,"RGBAIntegerFormat",(function(){return Ye})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return yt})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return mt})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return gt})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return vt})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return bt})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return xt})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return at})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return ct})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return lt})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return ut})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return ht})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return dt})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return pt})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return ft})),n.d(t,"RGBA_BPTC_Format",(function(){return wt})),n.d(t,"RGBA_ETC2_EAC_Format",(function(){return st})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return rt})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return nt})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return Je})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return Ke})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return Qe})),n.d(t,"RGBDEncoding",(function(){return rn})),n.d(t,"RGBEEncoding",(function(){return Qt})),n.d(t,"RGBEFormat",(function(){return Ue})),n.d(t,"RGBFormat",(function(){return De})),n.d(t,"RGBIntegerFormat",(function(){return Xe})),n.d(t,"RGBM16Encoding",(function(){return nn})),n.d(t,"RGBM7Encoding",(function(){return tn})),n.d(t,"RGB_ETC1_Format",(function(){return it})),n.d(t,"RGB_ETC2_Format",(function(){return ot})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return tt})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return et})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return Ze})),n.d(t,"RGFormat",(function(){return $e})),n.d(t,"RGIntegerFormat",(function(){return qe})),n.d(t,"RawShaderMaterial",(function(){return Wp})),n.d(t,"Ray",(function(){return Zr})),n.d(t,"Raycaster",(function(){return tg})),n.d(t,"RectAreaLight",(function(){return Zf})),n.d(t,"RedFormat",(function(){return He})),n.d(t,"RedIntegerFormat",(function(){return We})),n.d(t,"ReinhardToneMapping",(function(){return ee})),n.d(t,"RepeatWrapping",(function(){return he})),n.d(t,"ReplaceStencilOp",(function(){return hn})),n.d(t,"ReverseSubtractEquation",(function(){return C})),n.d(t,"RingBufferGeometry",(function(){return kp})),n.d(t,"RingGeometry",(function(){return kp})),n.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return kt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Rt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return Ot})),n.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Pt})),n.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Nt})),n.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return Ft})),n.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return _t})),n.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return St})),n.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return Mt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Tt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Et})),n.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return Ct})),n.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return At})),n.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return Lt})),n.d(t,"Scene",(function(){return th})),n.d(t,"SceneUtils",(function(){return ey})),n.d(t,"ShaderChunk",(function(){return Ec})),n.d(t,"ShaderLib",(function(){return Ac})),n.d(t,"ShaderMaterial",(function(){return Uo})),n.d(t,"ShadowMaterial",(function(){return Hp})),n.d(t,"Shape",(function(){return Pf})),n.d(t,"ShapeBufferGeometry",(function(){return Np})),n.d(t,"ShapeGeometry",(function(){return Np})),n.d(t,"ShapePath",(function(){return lm})),n.d(t,"ShapeUtils",(function(){return Sp})),n.d(t,"ShortType",(function(){return Ee})),n.d(t,"Skeleton",(function(){return Nh})),n.d(t,"SkeletonHelper",(function(){return vg})),n.d(t,"SkinnedMesh",(function(){return Lh})),n.d(t,"SmoothShading",(function(){return y})),n.d(t,"Sphere",(function(){return Vr})),n.d(t,"SphereBufferGeometry",(function(){return Ip})),n.d(t,"SphereGeometry",(function(){return Ip})),n.d(t,"Spherical",(function(){return ig})),n.d(t,"SphericalHarmonics3",(function(){return Jf})),n.d(t,"SplineCurve",(function(){return Gd})),n.d(t,"SpotLight",(function(){return jf})),n.d(t,"SpotLightHelper",(function(){return pg})),n.d(t,"Sprite",(function(){return bh})),n.d(t,"SpriteMaterial",(function(){return oh})),n.d(t,"SrcAlphaFactor",(function(){return N})),n.d(t,"SrcAlphaSaturateFactor",(function(){return j})),n.d(t,"SrcColorFactor",(function(){return P})),n.d(t,"StaticCopyUsage",(function(){return On})),n.d(t,"StaticDrawUsage",(function(){return Tn})),n.d(t,"StaticReadUsage",(function(){return An})),n.d(t,"StereoCamera",(function(){return wm})),n.d(t,"StreamCopyUsage",(function(){return kn})),n.d(t,"StreamDrawUsage",(function(){return Cn})),n.d(t,"StreamReadUsage",(function(){return Rn})),n.d(t,"StringKeyframeTrack",(function(){return pf})),n.d(t,"SubtractEquation",(function(){return E})),n.d(t,"SubtractiveBlending",(function(){return _})),n.d(t,"TOUCH",(function(){return o})),n.d(t,"TangentSpaceNormalMap",(function(){return an})),n.d(t,"TetrahedronBufferGeometry",(function(){return Dp})),n.d(t,"TetrahedronGeometry",(function(){return Dp})),n.d(t,"TextBufferGeometry",(function(){return Bp})),n.d(t,"TextGeometry",(function(){return Bp})),n.d(t,"Texture",(function(){return pr})),n.d(t,"TextureLoader",(function(){return Lf})),n.d(t,"TorusBufferGeometry",(function(){return zp})),n.d(t,"TorusGeometry",(function(){return zp})),n.d(t,"TorusKnotBufferGeometry",(function(){return jp})),n.d(t,"TorusKnotGeometry",(function(){return jp})),n.d(t,"Triangle",(function(){return ki})),n.d(t,"TriangleFanDrawMode",(function(){return Yt})),n.d(t,"TriangleStripDrawMode",(function(){return Xt})),n.d(t,"TrianglesDrawMode",(function(){return qt})),n.d(t,"TubeBufferGeometry",(function(){return Up})),n.d(t,"TubeGeometry",(function(){return Up})),n.d(t,"UVMapping",(function(){return ie})),n.d(t,"Uint16Attribute",(function(){return jv})),n.d(t,"Uint16BufferAttribute",(function(){return Ji})),n.d(t,"Uint32Attribute",(function(){return Vv})),n.d(t,"Uint32BufferAttribute",(function(){return Qi})),n.d(t,"Uint8Attribute",(function(){return Dv})),n.d(t,"Uint8BufferAttribute",(function(){return Xi})),n.d(t,"Uint8ClampedAttribute",(function(){return Bv})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return Yi})),n.d(t,"Uniform",(function(){return Km})),n.d(t,"UniformsLib",(function(){return Cc})),n.d(t,"UniformsUtils",(function(){return Bo})),n.d(t,"UnsignedByteType",(function(){return Me})),n.d(t,"UnsignedInt248Type",(function(){return Fe})),n.d(t,"UnsignedIntType",(function(){return Le})),n.d(t,"UnsignedShort4444Type",(function(){return Pe})),n.d(t,"UnsignedShort5551Type",(function(){return ke})),n.d(t,"UnsignedShort565Type",(function(){return Ne})),n.d(t,"UnsignedShortType",(function(){return Ce})),n.d(t,"VSMShadowMap",(function(){return p})),n.d(t,"Vector2",(function(){return cr})),n.d(t,"Vector3",(function(){return xr})),n.d(t,"Vector4",(function(){return mr})),n.d(t,"VectorKeyframeTrack",(function(){return ff})),n.d(t,"Vertex",(function(){return Nv})),n.d(t,"VertexColors",(function(){return Tv})),n.d(t,"VideoTexture",(function(){return id})),n.d(t,"WebGL1Renderer",(function(){return Ku})),n.d(t,"WebGLCubeRenderTarget",(function(){return Xo})),n.d(t,"WebGLMultipleRenderTargets",(function(){return vr})),n.d(t,"WebGLMultisampleRenderTarget",(function(){return yr})),n.d(t,"WebGLRenderTarget",(function(){return gr})),n.d(t,"WebGLRenderTargetCube",(function(){return Jv})),n.d(t,"WebGLRenderer",(function(){return Ju})),n.d(t,"WebGLUtils",(function(){return Gu})),n.d(t,"WireframeGeometry",(function(){return Vp})),n.d(t,"WireframeHelper",(function(){return Xv})),n.d(t,"WrapAroundEnding",(function(){return Ht})),n.d(t,"XHRLoader",(function(){return Yv})),n.d(t,"ZeroCurvatureEnding",(function(){return Vt})),n.d(t,"ZeroFactor",(function(){return R})),n.d(t,"ZeroSlopeEnding",(function(){return Gt})),n.d(t,"ZeroStencilOp",(function(){return ln})),n.d(t,"sRGBEncoding",(function(){return Jt}));
/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const r="130",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s=0,a=1,c=2,l=3,u=0,h=1,d=2,p=3,f=0,m=1,g=2,v=1,y=2,b=0,x=1,w=2,_=3,S=4,M=5,T=100,E=101,C=102,A=103,L=104,R=200,O=201,P=202,k=203,N=204,F=205,I=206,D=207,B=208,z=209,j=210,U=0,V=1,G=2,H=3,W=4,$=5,q=6,X=7,Y=0,Z=1,J=2,K=0,Q=1,ee=2,te=3,ne=4,re=5,ie=300,oe=301,se=302,ae=303,ce=304,le=306,ue=307,he=1e3,de=1001,pe=1002,fe=1003,me=1004,ge=1004,ve=1005,ye=1005,be=1006,xe=1007,we=1007,_e=1008,Se=1008,Me=1009,Te=1010,Ee=1011,Ce=1012,Ae=1013,Le=1014,Re=1015,Oe=1016,Pe=1017,ke=1018,Ne=1019,Fe=1020,Ie=1021,De=1022,Be=1023,ze=1024,je=1025,Ue=Be,Ve=1026,Ge=1027,He=1028,We=1029,$e=1030,qe=1031,Xe=1032,Ye=1033,Ze=33776,Je=33777,Ke=33778,Qe=33779,et=35840,tt=35841,nt=35842,rt=35843,it=36196,ot=37492,st=37496,at=37808,ct=37809,lt=37810,ut=37811,ht=37812,dt=37813,pt=37814,ft=37815,mt=37816,gt=37817,vt=37818,yt=37819,bt=37820,xt=37821,wt=36492,_t=37840,St=37841,Mt=37842,Tt=37843,Et=37844,Ct=37845,At=37846,Lt=37847,Rt=37848,Ot=37849,Pt=37850,kt=37851,Nt=37852,Ft=37853,It=2200,Dt=2201,Bt=2202,zt=2300,jt=2301,Ut=2302,Vt=2400,Gt=2401,Ht=2402,Wt=2500,$t=2501,qt=0,Xt=1,Yt=2,Zt=3e3,Jt=3001,Kt=3007,Qt=3002,en=3003,tn=3004,nn=3005,rn=3006,on=3200,sn=3201,an=0,cn=1,ln=0,un=7680,hn=7681,dn=7682,pn=7683,fn=34055,mn=34056,gn=5386,vn=512,yn=513,bn=514,xn=515,wn=516,_n=517,Sn=518,Mn=519,Tn=35044,En=35048,Cn=35040,An=35045,Ln=35049,Rn=35041,On=35046,Pn=35050,kn=35042,Nn="100",Fn="300 es";class In{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners,r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const Dn=[];for(let ny=0;ny<256;ny++)Dn[ny]=(ny<16?"0":"")+ny.toString(16);let Bn=1234567;const zn=Math.PI/180,jn=180/Math.PI;function Un(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=Dn[255&e]+Dn[e>>8&255]+Dn[e>>16&255]+Dn[e>>24&255]+"-"+Dn[255&t]+Dn[t>>8&255]+"-"+Dn[t>>16&15|64]+Dn[t>>24&255]+"-"+Dn[63&n|128]+Dn[n>>8&255]+"-"+Dn[n>>16&255]+Dn[n>>24&255]+Dn[255&r]+Dn[r>>8&255]+Dn[r>>16&255]+Dn[r>>24&255];return i.toUpperCase()}function Vn(e,t,n){return Math.max(t,Math.min(n,e))}function Gn(e,t){return(e%t+t)%t}function Hn(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)}function Wn(e,t,n){return e!==t?(n-e)/(t-e):0}function $n(e,t,n){return(1-n)*e+n*t}function qn(e,t,n,r){return $n(e,t,1-Math.exp(-n*r))}function Xn(e,t=1){return t-Math.abs(Gn(e,2*t)-t)}function Yn(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function Zn(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))}function Jn(e,t){return e+Math.floor(Math.random()*(t-e+1))}function Kn(e,t){return e+Math.random()*(t-e)}function Qn(e){return e*(.5-Math.random())}function er(e){return void 0!==e&&(Bn=e%2147483647),Bn=16807*Bn%2147483647,(Bn-1)/2147483646}function tr(e){return e*zn}function nr(e){return e*jn}function rr(e){return 0===(e&e-1)&&0!==e}function ir(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function or(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function sr(e,t,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),c=s(n/2),l=o((t+r)/2),u=s((t+r)/2),h=o((t-r)/2),d=s((t-r)/2),p=o((r-t)/2),f=s((r-t)/2);switch(i){case"XYX":e.set(a*u,c*h,c*d,a*l);break;case"YZY":e.set(c*d,a*u,c*h,a*l);break;case"ZXZ":e.set(c*h,c*d,a*u,a*l);break;case"XZX":e.set(a*u,c*f,c*p,a*l);break;case"YXY":e.set(c*p,a*u,c*f,a*l);break;case"ZYZ":e.set(c*f,c*p,a*u,a*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var ar=Object.freeze({__proto__:null,DEG2RAD:zn,RAD2DEG:jn,generateUUID:Un,clamp:Vn,euclideanModulo:Gn,mapLinear:Hn,inverseLerp:Wn,lerp:$n,damp:qn,pingpong:Xn,smoothstep:Yn,smootherstep:Zn,randInt:Jn,randFloat:Kn,randFloatSpread:Qn,seededRandom:er,degToRad:tr,radToDeg:nr,isPowerOfTwo:rr,ceilPowerOfTwo:ir,floorPowerOfTwo:or,setQuaternionFromProperEuler:sr});class cr{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){const e=Math.atan2(-this.y,-this.x)+Math.PI;return e}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}cr.prototype.isVector2=!0;class lr{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,i,o,s,a,c){const l=this.elements;return l[0]=e,l[1]=r,l[2]=s,l[3]=t,l[4]=i,l[5]=a,l[6]=n,l[7]=o,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],s=n[3],a=n[6],c=n[1],l=n[4],u=n[7],h=n[2],d=n[5],p=n[8],f=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],w=r[5],_=r[8];return i[0]=o*f+s*v+a*x,i[3]=o*m+s*y+a*w,i[6]=o*g+s*b+a*_,i[1]=c*f+l*v+u*x,i[4]=c*m+l*y+u*w,i[7]=c*g+l*b+u*_,i[2]=h*f+d*v+p*x,i[5]=h*m+d*y+p*w,i[8]=h*g+d*b+p*_,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],c=e[7],l=e[8];return t*o*l-t*s*c-n*i*l+n*s*a+r*i*c-r*o*a}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],c=e[7],l=e[8],u=l*o-s*c,h=s*a-l*i,d=c*i-o*a,p=t*u+n*h+r*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(r*c-l*n)*f,e[2]=(s*n-r*o)*f,e[3]=h*f,e[4]=(l*t-r*a)*f,e[5]=(r*i-s*t)*f,e[6]=d*f,e[7]=(n*a-c*t)*f,e[8]=(o*t-n*i)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,s){const a=Math.cos(i),c=Math.sin(i);return this.set(n*a,n*c,-n*(a*o+c*s)+o+e,-r*c,r*a,-r*(-c*o+a*s)+s+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],s=r[6],a=r[1],c=r[4],l=r[7];return r[0]=t*i+n*a,r[3]=t*o+n*c,r[6]=t*s+n*l,r[1]=-n*i+t*a,r[4]=-n*o+t*c,r[7]=-n*s+t*l,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}let ur;lr.prototype.isMatrix3=!0;class hr{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===ur&&(ur=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),ur.width=e.width,ur.height=e.height;const n=ur.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ur}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let dr=0;class pr extends In{constructor(e=pr.DEFAULT_IMAGE,t=pr.DEFAULT_MAPPING,n=de,r=de,i=be,o=_e,s=Be,a=Me,c=1,l=Zt){super(),Object.defineProperty(this,"id",{value:dr++}),this.uuid=Un(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=a,this.offset=new cr(0,0),this.repeat=new cr(1,1),this.center=new cr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new lr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const r=this.image;if(void 0===r.uuid&&(r.uuid=Un()),!t&&void 0===e.images[r.uuid]){let t;if(Array.isArray(r)){t=[];for(let e=0,n=r.length;e<n;e++)r[e].isDataTexture?t.push(fr(r[e].image)):t.push(fr(r[e]))}else t=fr(r);e.images[r.uuid]={uuid:r.uuid,url:t}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ie)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case he:e.x=e.x-Math.floor(e.x);break;case de:e.x=e.x<0?0:1;break;case pe:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case he:e.y=e.y-Math.floor(e.y);break;case de:e.y=e.y<0?0:1;break;case pe:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&this.version++}}function fr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?hr.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}pr.DEFAULT_IMAGE=void 0,pr.DEFAULT_MAPPING=ie,pr.prototype.isTexture=!0;class mr{constructor(e=0,t=0,n=0,r=1){this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,s=.1,a=e.elements,c=a[0],l=a[4],u=a[8],h=a[1],d=a[5],p=a[9],f=a[2],m=a[6],g=a[10];if(Math.abs(l-h)<o&&Math.abs(u-f)<o&&Math.abs(p-m)<o){if(Math.abs(l+h)<s&&Math.abs(u+f)<s&&Math.abs(p+m)<s&&Math.abs(c+d+g-3)<s)return this.set(1,0,0,0),this;t=Math.PI;const e=(c+1)/2,a=(d+1)/2,v=(g+1)/2,y=(l+h)/4,b=(u+f)/4,x=(p+m)/4;return e>a&&e>v?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):a>v?a<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(a),n=y/r,i=x/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(h-l)*(h-l));return Math.abs(v)<.001&&(v=1),this.x=(m-p)/v,this.y=(u-f)/v,this.z=(h-l)/v,this.w=Math.acos((c+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}mr.prototype.isVector4=!0;class gr extends In{constructor(e,t,n={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new mr(0,0,e,t),this.scissorTest=!1,this.viewport=new mr(0,0,e,t),this.texture=new pr(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:be,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}gr.prototype.isWebGLRenderTarget=!0;class vr extends gr{constructor(e,t,n){super(e,t);const r=this.texture;this.texture=[];for(let i=0;i<n;i++)this.texture[i]=r.clone()}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}vr.prototype.isWebGLMultipleRenderTargets=!0;class yr extends gr{constructor(e,t,n){super(e,t,n),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}yr.prototype.isWebGLMultisampleRenderTarget=!0;class br{constructor(e=0,t=0,n=0,r=1){this._x=e,this._y=t,this._z=n,this._w=r}static slerp(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}static slerpFlat(e,t,n,r,i,o,s){let a=n[r+0],c=n[r+1],l=n[r+2],u=n[r+3];const h=i[o+0],d=i[o+1],p=i[o+2],f=i[o+3];if(0===s)return e[t+0]=a,e[t+1]=c,e[t+2]=l,void(e[t+3]=u);if(1===s)return e[t+0]=h,e[t+1]=d,e[t+2]=p,void(e[t+3]=f);if(u!==f||a!==h||c!==d||l!==p){let e=1-s;const t=a*h+c*d+l*p+u*f,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,s=Math.sin(s*o)/i}const i=s*n;if(a=a*e+h*i,c=c*e+d*i,l=l*e+p*i,u=u*e+f*i,e===1-s){const e=1/Math.sqrt(a*a+c*c+l*l+u*u);a*=e,c*=e,l*=e,u*=e}}e[t]=a,e[t+1]=c,e[t+2]=l,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const s=n[r],a=n[r+1],c=n[r+2],l=n[r+3],u=i[o],h=i[o+1],d=i[o+2],p=i[o+3];return e[t]=s*p+l*u+a*d-c*h,e[t+1]=a*p+l*h+c*u-s*d,e[t+2]=c*p+l*d+s*h-a*u,e[t+3]=l*p-s*u-a*h-c*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,i=e._z,o=e._order,s=Math.cos,a=Math.sin,c=s(n/2),l=s(r/2),u=s(i/2),h=a(n/2),d=a(r/2),p=a(i/2);switch(o){case"XYZ":this._x=h*l*u+c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u-h*d*p;break;case"YXZ":this._x=h*l*u+c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u+h*d*p;break;case"ZXY":this._x=h*l*u-c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u-h*d*p;break;case"ZYX":this._x=h*l*u-c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u+h*d*p;break;case"YZX":this._x=h*l*u+c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u-h*d*p;break;case"XZY":this._x=h*l*u-c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],s=t[5],a=t[9],c=t[2],l=t[6],u=t[10],h=n+s+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(l-a)*e,this._y=(i-c)*e,this._z=(o-r)*e}else if(n>s&&n>u){const e=2*Math.sqrt(1+n-s-u);this._w=(l-a)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+c)/e}else if(s>u){const e=2*Math.sqrt(1+s-n-u);this._w=(i-c)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(a+l)/e}else{const e=2*Math.sqrt(1+u-n-s);this._w=(o-r)/e,this._x=(i+c)/e,this._y=(a+l)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,s=t._x,a=t._y,c=t._z,l=t._w;return this._x=n*l+o*s+r*c-i*a,this._y=r*l+o*a+i*s-n*c,this._z=i*l+o*c+n*a-r*s,this._w=o*l-n*s-r*a-i*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let s=o*e._w+n*e._x+r*e._y+i*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const a=1-s*s;if(a<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(a),l=Math.atan2(c,s),u=Math.sin((1-t)*l)/c,h=Math.sin(t*l)/c;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){this.copy(e).slerp(t,n)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}br.prototype.isQuaternion=!0;class xr{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_r.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(_r.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,s=e.z,a=e.w,c=a*t+o*r-s*n,l=a*n+s*t-i*r,u=a*r+i*n-o*t,h=-i*t-o*n-s*r;return this.x=c*a+h*-i+l*-s-u*-o,this.y=l*a+h*-o+u*-i-c*-s,this.z=u*a+h*-s+c*-o-l*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,s=t.y,a=t.z;return this.x=r*a-i*s,this.y=i*o-n*a,this.z=n*s-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return wr.copy(this).projectOnVector(e),this.sub(wr)}reflect(e){return this.sub(wr.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Vn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}xr.prototype.isVector3=!0;const wr=new xr,_r=new br;class Sr{constructor(e=new xr(1/0,1/0,1/0),t=new xr(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,s=-1/0;for(let a=0,c=e.length;a<c;a+=3){const c=e[a],l=e[a+1],u=e[a+2];c<t&&(t=c),l<n&&(n=l),u<r&&(r=u),c>i&&(i=c),l>o&&(o=l),u>s&&(s=u)}return this.min.set(t,n,r),this.max.set(i,o,s),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,s=-1/0;for(let a=0,c=e.count;a<c;a++){const c=e.getX(a),l=e.getY(a),u=e.getZ(a);c<t&&(t=c),l<n&&(n=l),u<r&&(r=u),c>i&&(i=c),l>o&&(o=l),u>s&&(s=u)}return this.min.set(t,n,r),this.max.set(i,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Tr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Er.copy(t.boundingBox),Er.applyMatrix4(e.matrixWorld),this.union(Er));const n=e.children;for(let r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Tr),Tr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(kr),Nr.subVectors(this.max,kr),Cr.subVectors(e.a,kr),Ar.subVectors(e.b,kr),Lr.subVectors(e.c,kr),Rr.subVectors(Ar,Cr),Or.subVectors(Lr,Ar),Pr.subVectors(Cr,Lr);let t=[0,-Rr.z,Rr.y,0,-Or.z,Or.y,0,-Pr.z,Pr.y,Rr.z,0,-Rr.x,Or.z,0,-Or.x,Pr.z,0,-Pr.x,-Rr.y,Rr.x,0,-Or.y,Or.x,0,-Pr.y,Pr.x,0];return!!Dr(t,Cr,Ar,Lr,Nr)&&(t=[1,0,0,0,1,0,0,0,1],!!Dr(t,Cr,Ar,Lr,Nr)&&(Fr.crossVectors(Rr,Or),t=[Fr.x,Fr.y,Fr.z],Dr(t,Cr,Ar,Lr,Nr)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){const t=Tr.copy(e).clamp(this.min,this.max);return t.sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Tr).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Mr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mr)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Sr.prototype.isBox3=!0;const Mr=[new xr,new xr,new xr,new xr,new xr,new xr,new xr,new xr],Tr=new xr,Er=new Sr,Cr=new xr,Ar=new xr,Lr=new xr,Rr=new xr,Or=new xr,Pr=new xr,kr=new xr,Nr=new xr,Fr=new xr,Ir=new xr;function Dr(e,t,n,r,i){for(let o=0,s=e.length-3;o<=s;o+=3){Ir.fromArray(e,o);const s=i.x*Math.abs(Ir.x)+i.y*Math.abs(Ir.y)+i.z*Math.abs(Ir.z),a=t.dot(Ir),c=n.dot(Ir),l=r.dot(Ir);if(Math.max(-Math.max(a,c,l),Math.min(a,c,l))>s)return!1}return!0}const Br=new Sr,zr=new xr,jr=new xr,Ur=new xr;class Vr{constructor(e=new xr,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Br.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Ur.subVectors(e,this.center);const t=Ur.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.add(Ur.multiplyScalar(n/e)),this.radius+=n}return this}union(e){return jr.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(zr.copy(e.center).add(jr)),this.expandByPoint(zr.copy(e.center).sub(jr)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Gr=new xr,Hr=new xr,Wr=new xr,$r=new xr,qr=new xr,Xr=new xr,Yr=new xr;class Zr{constructor(e=new xr,t=new xr(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Gr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Gr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Gr.copy(this.direction).multiplyScalar(t).add(this.origin),Gr.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Hr.copy(e).add(t).multiplyScalar(.5),Wr.copy(t).sub(e).normalize(),$r.copy(this.origin).sub(Hr);const i=.5*e.distanceTo(t),o=-this.direction.dot(Wr),s=$r.dot(this.direction),a=-$r.dot(Wr),c=$r.lengthSq(),l=Math.abs(1-o*o);let u,h,d,p;if(l>0)if(u=o*a-s,h=o*s-a,p=i*l,u>=0)if(h>=-p)if(h<=p){const e=1/l;u*=e,h*=e,d=u*(u+o*h+2*s)+h*(o*u+h+2*a)+c}else h=i,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+c;else h=-i,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+c;else h<=-p?(u=Math.max(0,-(-o*i+s)),h=u>0?-i:Math.min(Math.max(-i,-a),i),d=-u*u+h*(h+2*a)+c):h<=p?(u=0,h=Math.min(Math.max(-i,-a),i),d=h*(h+2*a)+c):(u=Math.max(0,-(o*i+s)),h=u>0?i:Math.min(Math.max(-i,-a),i),d=-u*u+h*(h+2*a)+c);else h=o>0?-i:i,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+c;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(Wr).multiplyScalar(h).add(Hr),d}intersectSphere(e,t){Gr.subVectors(e.center,this.origin);const n=Gr.dot(this.direction),r=Gr.dot(Gr)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),s=n-o,a=n+o;return s<0&&a<0?null:s<0?this.at(a,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;const n=e.normal.dot(this.direction);return n*t<0}intersectBox(e,t){let n,r,i,o,s,a;const c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),l>=0?(i=(e.min.y-h.y)*l,o=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,o=(e.min.y-h.y)*l),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),u>=0?(s=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(s=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),n>a||s>r?null:((s>n||n!==n)&&(n=s),(a<r||r!==r)&&(r=a),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Gr)}intersectTriangle(e,t,n,r,i){qr.subVectors(t,e),Xr.subVectors(n,e),Yr.crossVectors(qr,Xr);let o,s=this.direction.dot(Yr);if(s>0){if(r)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}$r.subVectors(this.origin,e);const a=o*this.direction.dot(Xr.crossVectors($r,Xr));if(a<0)return null;const c=o*this.direction.dot(qr.cross($r));if(c<0)return null;if(a+c>s)return null;const l=-o*$r.dot(Yr);return l<0?null:this.at(l/s,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Jr{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,i,o,s,a,c,l,u,h,d,p,f,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=s,g[13]=a,g[2]=c,g[6]=l,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Jr).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Kr.setFromMatrixColumn(e,0).length(),i=1/Kr.setFromMatrixColumn(e,1).length(),o=1/Kr.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(r),c=Math.sin(r),l=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*l,n=o*u,r=s*l,i=s*u;t[0]=a*l,t[4]=-a*u,t[8]=c,t[1]=n+r*c,t[5]=e-i*c,t[9]=-s*a,t[2]=i-e*c,t[6]=r+n*c,t[10]=o*a}else if("YXZ"===e.order){const e=a*l,n=a*u,r=c*l,i=c*u;t[0]=e+i*s,t[4]=r*s-n,t[8]=o*c,t[1]=o*u,t[5]=o*l,t[9]=-s,t[2]=n*s-r,t[6]=i+e*s,t[10]=o*a}else if("ZXY"===e.order){const e=a*l,n=a*u,r=c*l,i=c*u;t[0]=e-i*s,t[4]=-o*u,t[8]=r+n*s,t[1]=n+r*s,t[5]=o*l,t[9]=i-e*s,t[2]=-o*c,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){const e=o*l,n=o*u,r=s*l,i=s*u;t[0]=a*l,t[4]=r*c-n,t[8]=e*c+i,t[1]=a*u,t[5]=i*c+e,t[9]=n*c-r,t[2]=-c,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){const e=o*a,n=o*c,r=s*a,i=s*c;t[0]=a*l,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*l,t[9]=-s*l,t[2]=-c*l,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*a,n=o*c,r=s*a,i=s*c;t[0]=a*l,t[4]=-u,t[8]=c*l,t[1]=e*u+i,t[5]=o*l,t[9]=n*u-r,t[2]=r*u-n,t[6]=s*l,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ei,e,ti)}lookAt(e,t,n){const r=this.elements;return ii.subVectors(e,t),0===ii.lengthSq()&&(ii.z=1),ii.normalize(),ni.crossVectors(n,ii),0===ni.lengthSq()&&(1===Math.abs(n.z)?ii.x+=1e-4:ii.z+=1e-4,ii.normalize(),ni.crossVectors(n,ii)),ni.normalize(),ri.crossVectors(ii,ni),r[0]=ni.x,r[4]=ri.x,r[8]=ii.x,r[1]=ni.y,r[5]=ri.y,r[9]=ii.y,r[2]=ni.z,r[6]=ri.z,r[10]=ii.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],s=n[4],a=n[8],c=n[12],l=n[1],u=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],w=r[0],_=r[4],S=r[8],M=r[12],T=r[1],E=r[5],C=r[9],A=r[13],L=r[2],R=r[6],O=r[10],P=r[14],k=r[3],N=r[7],F=r[11],I=r[15];return i[0]=o*w+s*T+a*L+c*k,i[4]=o*_+s*E+a*R+c*N,i[8]=o*S+s*C+a*O+c*F,i[12]=o*M+s*A+a*P+c*I,i[1]=l*w+u*T+h*L+d*k,i[5]=l*_+u*E+h*R+d*N,i[9]=l*S+u*C+h*O+d*F,i[13]=l*M+u*A+h*P+d*I,i[2]=p*w+f*T+m*L+g*k,i[6]=p*_+f*E+m*R+g*N,i[10]=p*S+f*C+m*O+g*F,i[14]=p*M+f*A+m*P+g*I,i[3]=v*w+y*T+b*L+x*k,i[7]=v*_+y*E+b*R+x*N,i[11]=v*S+y*C+b*O+x*F,i[15]=v*M+y*A+b*P+x*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],s=e[5],a=e[9],c=e[13],l=e[2],u=e[6],h=e[10],d=e[14],p=e[3],f=e[7],m=e[11],g=e[15];return p*(+i*a*u-r*c*u-i*s*h+n*c*h+r*s*d-n*a*d)+f*(+t*a*d-t*c*h+i*o*h-r*o*d+r*c*l-i*a*l)+m*(+t*c*u-t*s*d-i*o*u+n*o*d+i*s*l-n*c*l)+g*(-r*s*l-t*a*u+t*s*h+r*o*u-n*o*h+n*a*l)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],c=e[7],l=e[8],u=e[9],h=e[10],d=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=u*m*c-f*h*c+f*a*d-s*m*d-u*a*g+s*h*g,y=p*h*c-l*m*c-p*a*d+o*m*d+l*a*g-o*h*g,b=l*f*c-p*u*c+p*s*d-o*f*d-l*s*g+o*u*g,x=p*u*a-l*f*a-p*s*h+o*f*h+l*s*m-o*u*m,w=t*v+n*y+r*b+i*x;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/w;return e[0]=v*_,e[1]=(f*h*i-u*m*i-f*r*d+n*m*d+u*r*g-n*h*g)*_,e[2]=(s*m*i-f*a*i+f*r*c-n*m*c-s*r*g+n*a*g)*_,e[3]=(u*a*i-s*h*i-u*r*c+n*h*c+s*r*d-n*a*d)*_,e[4]=y*_,e[5]=(l*m*i-p*h*i+p*r*d-t*m*d-l*r*g+t*h*g)*_,e[6]=(p*a*i-o*m*i-p*r*c+t*m*c+o*r*g-t*a*g)*_,e[7]=(o*h*i-l*a*i+l*r*c-t*h*c-o*r*d+t*a*d)*_,e[8]=b*_,e[9]=(p*u*i-l*f*i-p*n*d+t*f*d+l*n*g-t*u*g)*_,e[10]=(o*f*i-p*s*i+p*n*c-t*f*c-o*n*g+t*s*g)*_,e[11]=(l*s*i-o*u*i-l*n*c+t*u*c+o*n*d-t*s*d)*_,e[12]=x*_,e[13]=(l*f*r-p*u*r+p*n*h-t*f*h-l*n*m+t*u*m)*_,e[14]=(p*s*r-o*f*r-p*n*a+t*f*a+o*n*m-t*s*m)*_,e[15]=(o*u*r-l*s*r+l*n*a-t*u*a-o*n*h+t*s*h)*_,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,s=e.y,a=e.z,c=i*o,l=i*s;return this.set(c*o+n,c*s-r*a,c*a+r*s,0,c*s+r*a,l*s+n,l*a-r*o,0,c*a-r*s,l*a+r*o,i*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,s=t._z,a=t._w,c=i+i,l=o+o,u=s+s,h=i*c,d=i*l,p=i*u,f=o*l,m=o*u,g=s*u,v=a*c,y=a*l,b=a*u,x=n.x,w=n.y,_=n.z;return r[0]=(1-(f+g))*x,r[1]=(d+b)*x,r[2]=(p-y)*x,r[3]=0,r[4]=(d-b)*w,r[5]=(1-(h+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(p+y)*_,r[9]=(m-v)*_,r[10]=(1-(h+f))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Kr.set(r[0],r[1],r[2]).length();const o=Kr.set(r[4],r[5],r[6]).length(),s=Kr.set(r[8],r[9],r[10]).length(),a=this.determinant();a<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Qr.copy(this);const c=1/i,l=1/o,u=1/s;return Qr.elements[0]*=c,Qr.elements[1]*=c,Qr.elements[2]*=c,Qr.elements[4]*=l,Qr.elements[5]*=l,Qr.elements[6]*=l,Qr.elements[8]*=u,Qr.elements[9]*=u,Qr.elements[10]*=u,t.setFromRotationMatrix(Qr),n.x=i,n.y=o,n.z=s,this}makePerspective(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,a=2*i/(t-e),c=2*i/(n-r),l=(t+e)/(t-e),u=(n+r)/(n-r),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return s[0]=a,s[4]=0,s[8]=l,s[12]=0,s[1]=0,s[5]=c,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=d,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,r,i,o){const s=this.elements,a=1/(t-e),c=1/(n-r),l=1/(o-i),u=(t+e)*a,h=(n+r)*c,d=(o+i)*l;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*l,s[14]=-d,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}Jr.prototype.isMatrix4=!0;const Kr=new xr,Qr=new Jr,ei=new xr(0,0,0),ti=new xr(1,1,1),ni=new xr,ri=new xr,ii=new xr,oi=new Jr,si=new br;class ai{constructor(e=0,t=0,n=0,r=ai.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],o=r[4],s=r[8],a=r[1],c=r[5],l=r[9],u=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Vn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Vn(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(a,c)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Vn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(a,i));break;case"ZYX":this._y=Math.asin(-Vn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(a,i)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Vn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(s,d));break;case"XZY":this._z=Math.asin(-Vn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return oi.makeRotationFromQuaternion(e),this.setFromRotationMatrix(oi,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return si.setFromEuler(this),this.setFromQuaternion(si,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new xr(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}ai.prototype.isEuler=!0,ai.DefaultOrder="XYZ",ai.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class ci{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}}let li=0;const ui=new xr,hi=new br,di=new Jr,pi=new xr,fi=new xr,mi=new xr,gi=new br,vi=new xr(1,0,0),yi=new xr(0,1,0),bi=new xr(0,0,1),xi={type:"added"},wi={type:"removed"};class _i extends In{constructor(){super(),Object.defineProperty(this,"id",{value:li++}),this.uuid=Un(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_i.DefaultUp.clone();const e=new xr,t=new ai,n=new br,r=new xr(1,1,1);function i(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(i),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Jr},normalMatrix:{value:new lr}}),this.matrix=new Jr,this.matrixWorld=new Jr,this.matrixAutoUpdate=_i.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ci,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return hi.setFromAxisAngle(e,t),this.quaternion.multiply(hi),this}rotateOnWorldAxis(e,t){return hi.setFromAxisAngle(e,t),this.quaternion.premultiply(hi),this}rotateX(e){return this.rotateOnAxis(vi,e)}rotateY(e){return this.rotateOnAxis(yi,e)}rotateZ(e){return this.rotateOnAxis(bi,e)}translateOnAxis(e,t){return ui.copy(e).applyQuaternion(this.quaternion),this.position.add(ui.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(vi,e)}translateY(e){return this.translateOnAxis(yi,e)}translateZ(e){return this.translateOnAxis(bi,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(di.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?pi.copy(e):pi.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),fi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?di.lookAt(fi,pi,this.up):di.lookAt(pi,fi,this.up),this.quaternion.setFromRotationMatrix(di),r&&(di.extractRotation(r.matrixWorld),hi.setFromRotationMatrix(di),this.quaternion.premultiply(hi.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(xi)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(wi)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(wi)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),di.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),di.multiply(e.parent.matrixWorld)),e.applyMatrix4(di),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n],i=r.getObjectByProperty(e,t);if(void 0!==i)return i}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fi,e,mi),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(fi,gi,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),s=o(e.images),a=o(e.shapes),c=o(e.skeletons),l=o(e.animations);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),c.length>0&&(n.skeletons=c),l.length>0&&(n.animations=l)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}_i.DefaultUp=new xr(0,1,0),_i.DefaultMatrixAutoUpdate=!0,_i.prototype.isObject3D=!0;const Si=new xr,Mi=new xr,Ti=new xr,Ei=new xr,Ci=new xr,Ai=new xr,Li=new xr,Ri=new xr,Oi=new xr,Pi=new xr;class ki{constructor(e=new xr,t=new xr,n=new xr){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Si.subVectors(e,t),r.cross(Si);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Si.subVectors(r,t),Mi.subVectors(n,t),Ti.subVectors(e,t);const o=Si.dot(Si),s=Si.dot(Mi),a=Si.dot(Ti),c=Mi.dot(Mi),l=Mi.dot(Ti),u=o*c-s*s;if(0===u)return i.set(-2,-1,-1);const h=1/u,d=(c*a-s*l)*h,p=(o*l-s*a)*h;return i.set(1-d-p,p,d)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Ei),Ei.x>=0&&Ei.y>=0&&Ei.x+Ei.y<=1}static getUV(e,t,n,r,i,o,s,a){return this.getBarycoord(e,t,n,r,Ei),a.set(0,0),a.addScaledVector(i,Ei.x),a.addScaledVector(o,Ei.y),a.addScaledVector(s,Ei.z),a}static isFrontFacing(e,t,n,r){return Si.subVectors(n,t),Mi.subVectors(e,t),Si.cross(Mi).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Si.subVectors(this.c,this.b),Mi.subVectors(this.a,this.b),.5*Si.cross(Mi).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ki.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ki.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return ki.getUV(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return ki.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ki.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,s;Ci.subVectors(r,n),Ai.subVectors(i,n),Ri.subVectors(e,n);const a=Ci.dot(Ri),c=Ai.dot(Ri);if(a<=0&&c<=0)return t.copy(n);Oi.subVectors(e,r);const l=Ci.dot(Oi),u=Ai.dot(Oi);if(l>=0&&u<=l)return t.copy(r);const h=a*u-l*c;if(h<=0&&a>=0&&l<=0)return o=a/(a-l),t.copy(n).addScaledVector(Ci,o);Pi.subVectors(e,i);const d=Ci.dot(Pi),p=Ai.dot(Pi);if(p>=0&&d<=p)return t.copy(i);const f=d*c-a*p;if(f<=0&&c>=0&&p<=0)return s=c/(c-p),t.copy(n).addScaledVector(Ai,s);const m=l*p-d*u;if(m<=0&&u-l>=0&&d-p>=0)return Li.subVectors(i,r),s=(u-l)/(u-l+(d-p)),t.copy(r).addScaledVector(Li,s);const g=1/(m+f+h);return o=f*g,s=h*g,t.copy(n).addScaledVector(Ci,o).addScaledVector(Ai,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Ni=0;class Fi extends In{constructor(){super(),Object.defineProperty(this,"id",{value:Ni++}),this.uuid=Un(),this.name="",this.type="Material",this.fog=!0,this.blending=x,this.side=f,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=N,this.blendDst=F,this.blendEquation=T,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=H,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Mn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=un,this.stencilZFail=un,this.stencilZPass=un,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===v;continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==x&&(n.blending=this.blending),this.side!==f&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}Fi.prototype.isMaterial=!0;const Ii={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Di={h:0,s:0,l:0},Bi={h:0,s:0,l:0};function zi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function ji(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ui(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class Vi{constructor(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,n){return this.r=e,this.g=t,this.b=n,this}setHSL(e,t,n){if(e=Gn(e,1),t=Vn(t,0,1),n=Vn(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=zi(i,r,e+1/3),this.g=zi(i,r,e),this.b=zi(i,r,e-1/3)}return this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const r=n[1],i=n[2];switch(r){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const n=parseFloat(e[1])/360,r=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100;return t(e[4]),this.setHSL(n,r,i)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=n[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=Ii[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=ji(e.r),this.g=ji(e.g),this.b=ji(e.b),this}copyLinearToSRGB(e){return this.r=Ui(e.r),this.g=Ui(e.g),this.b=Ui(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,n=this.g,r=this.b,i=Math.max(t,n,r),o=Math.min(t,n,r);let s,a;const c=(o+i)/2;if(o===i)s=0,a=0;else{const e=i-o;switch(a=c<=.5?e/(i+o):e/(2-i-o),i){case t:s=(n-r)/e+(n<r?6:0);break;case n:s=(r-t)/e+2;break;case r:s=(t-n)/e+4;break}s/=6}return e.h=s,e.s=a,e.l=c,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,n){return this.getHSL(Di),Di.h+=e,Di.s+=t,Di.l+=n,this.setHSL(Di.h,Di.s,Di.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Di),e.getHSL(Bi);const n=$n(Di.h,Bi.h,t),r=$n(Di.s,Bi.s,t),i=$n(Di.l,Bi.l,t);return this.setHSL(n,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Vi.NAMES=Ii,Vi.prototype.isColor=!0,Vi.prototype.r=1,Vi.prototype.g=1,Vi.prototype.b=1;class Gi extends Fi{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Vi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this}}Gi.prototype.isMeshBasicMaterial=!0;const Hi=new xr,Wi=new cr;class $i{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Tn,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new Vi),t[n++]=i.r,t[n++]=i.g,t[n++]=i.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new cr),t[n++]=i.x,t[n++]=i.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new xr),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new mr),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n++]=i.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Wi.fromBufferAttribute(this,t),Wi.applyMatrix3(e),this.setXY(t,Wi.x,Wi.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Hi.fromBufferAttribute(this,t),Hi.applyMatrix3(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Hi.x=this.getX(t),Hi.y=this.getY(t),Hi.z=this.getZ(t),Hi.applyMatrix4(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Hi.x=this.getX(t),Hi.y=this.getY(t),Hi.z=this.getZ(t),Hi.applyNormalMatrix(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Hi.x=this.getX(t),Hi.y=this.getY(t),Hi.z=this.getZ(t),Hi.transformDirection(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Tn&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}$i.prototype.isBufferAttribute=!0;class qi extends $i{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Xi extends $i{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Yi extends $i{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Zi extends $i{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Ji extends $i{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Ki extends $i{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Qi extends $i{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class eo extends $i{constructor(e,t,n){super(new Uint16Array(e),t,n)}}eo.prototype.isFloat16BufferAttribute=!0;class to extends $i{constructor(e,t,n){super(new Float32Array(e),t,n)}}class no extends $i{constructor(e,t,n){super(new Float64Array(e),t,n)}}function ro(e){if(0===e.length)return-1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}const io={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function oo(e,t){return new io[e](t)}let so=0;const ao=new Jr,co=new _i,lo=new xr,uo=new Sr,ho=new Sr,po=new xr;class fo extends In{constructor(){super(),Object.defineProperty(this,"id",{value:so++}),this.uuid=Un(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ro(e)>65535?Qi:Ji)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new lr).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ao.makeRotationFromQuaternion(e),this.applyMatrix4(ao),this}rotateX(e){return ao.makeRotationX(e),this.applyMatrix4(ao),this}rotateY(e){return ao.makeRotationY(e),this.applyMatrix4(ao),this}rotateZ(e){return ao.makeRotationZ(e),this.applyMatrix4(ao),this}translate(e,t,n){return ao.makeTranslation(e,t,n),this.applyMatrix4(ao),this}scale(e,t,n){return ao.makeScale(e,t,n),this.applyMatrix4(ao),this}lookAt(e){return co.lookAt(e),co.updateMatrix(),this.applyMatrix4(co.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lo).negate(),this.translate(lo.x,lo.y,lo.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new to(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Sr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new xr(-1/0,-1/0,-1/0),new xr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];uo.setFromBufferAttribute(e),this.morphTargetsRelative?(po.addVectors(this.boundingBox.min,uo.min),this.boundingBox.expandByPoint(po),po.addVectors(this.boundingBox.max,uo.max),this.boundingBox.expandByPoint(po)):(this.boundingBox.expandByPoint(uo.min),this.boundingBox.expandByPoint(uo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Vr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new xr,1/0);if(e){const n=this.boundingSphere.center;if(uo.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];ho.setFromBufferAttribute(n),this.morphTargetsRelative?(po.addVectors(uo.min,ho.min),uo.expandByPoint(po),po.addVectors(uo.max,ho.max),uo.expandByPoint(po)):(uo.expandByPoint(ho.min),uo.expandByPoint(ho.max))}uo.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)po.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(po));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],s=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)po.fromBufferAttribute(o,t),s&&(lo.fromBufferAttribute(e,t),po.add(lo)),r=Math.max(r,n.distanceToSquared(po))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeFaceNormals(){}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,i=t.normal.array,o=t.uv.array,s=r.length/3;void 0===t.tangent&&this.setAttribute("tangent",new $i(new Float32Array(4*s),4));const a=t.tangent.array,c=[],l=[];for(let T=0;T<s;T++)c[T]=new xr,l[T]=new xr;const u=new xr,h=new xr,d=new xr,p=new cr,f=new cr,m=new cr,g=new xr,v=new xr;function y(e,t,n){u.fromArray(r,3*e),h.fromArray(r,3*t),d.fromArray(r,3*n),p.fromArray(o,2*e),f.fromArray(o,2*t),m.fromArray(o,2*n),h.sub(u),d.sub(u),f.sub(p),m.sub(p);const i=1/(f.x*m.y-m.x*f.y);isFinite(i)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-f.y).multiplyScalar(i),v.copy(d).multiplyScalar(f.x).addScaledVector(h,-m.x).multiplyScalar(i),c[e].add(g),c[t].add(g),c[n].add(g),l[e].add(v),l[t].add(v),l[n].add(v))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let T=0,E=b.length;T<E;++T){const e=b[T],t=e.start,r=e.count;for(let i=t,o=t+r;i<o;i+=3)y(n[i+0],n[i+1],n[i+2])}const x=new xr,w=new xr,_=new xr,S=new xr;function M(e){_.fromArray(i,3*e),S.copy(_);const t=c[e];x.copy(t),x.sub(_.multiplyScalar(_.dot(t))).normalize(),w.crossVectors(S,t);const n=w.dot(l[e]),r=n<0?-1:1;a[4*e]=x.x,a[4*e+1]=x.y,a[4*e+2]=x.z,a[4*e+3]=r}for(let T=0,E=b.length;T<E;++T){const e=b[T],t=e.start,r=e.count;for(let i=t,o=t+r;i<o;i+=3)M(n[i+0]),M(n[i+1]),M(n[i+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new $i(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new xr,i=new xr,o=new xr,s=new xr,a=new xr,c=new xr,l=new xr,u=new xr;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),p=e.getX(h+1),f=e.getX(h+2);r.fromBufferAttribute(t,d),i.fromBufferAttribute(t,p),o.fromBufferAttribute(t,f),l.subVectors(o,i),u.subVectors(r,i),l.cross(u),s.fromBufferAttribute(n,d),a.fromBufferAttribute(n,p),c.fromBufferAttribute(n,f),s.add(l),a.add(l),c.add(l),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(f,c.x,c.y,c.z)}else for(let e=0,h=t.count;e<h;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),l.subVectors(o,i),u.subVectors(r,i),l.cross(u),n.setXYZ(e+0,l.x,l.y,l.z),n.setXYZ(e+1,l.x,l.y,l.z),n.setXYZ(e+2,l.x,l.y,l.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===e.attributes[r])continue;const i=n[r],o=i.array,s=e.attributes[r],a=s.array,c=s.itemSize*t,l=Math.min(a.length,o.length-c);for(let e=0,t=c;e<l;e++,t++)o[t]=a[e]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)po.fromBufferAttribute(e,t),po.normalize(),e.setXYZ(t,po.x,po.y,po.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let s=0,a=0;for(let c=0,l=t.length;c<l;c++){s=e.isInterleavedBufferAttribute?t[c]*e.data.stride+e.offset:t[c]*r;for(let e=0;e<r;e++)o[a++]=n[s++]}return new $i(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new fo,n=this.index.array,r=this.attributes;for(const s in r){const i=r[s],o=e(i,n);t.setAttribute(s,o)}const i=this.morphAttributes;for(const s in i){const r=[],o=i[s];for(let t=0,i=o.length;t<i;t++){const i=o[t],s=e(i,n);r.push(s)}t.morphAttributes[s]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const e=o[s];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const t=n[a];e.data.attributes[a]=t.toJSON(e.data)}const r={};let i=!1;for(const a in this.morphAttributes){const t=this.morphAttributes[a],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[a]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new fo).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const c in r){const e=r[c];this.setAttribute(c,e.clone(t))}const i=e.morphAttributes;for(const c in i){const e=[],n=i[c];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[c]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,l=o.length;c<l;c++){const e=o[c];this.addGroup(e.start,e.count,e.materialIndex)}const s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}fo.prototype.isBufferGeometry=!0;const mo=new Jr,go=new Zr,vo=new Vr,yo=new xr,bo=new xr,xo=new xr,wo=new xr,_o=new xr,So=new xr,Mo=new xr,To=new xr,Eo=new xr,Co=new cr,Ao=new cr,Lo=new cr,Ro=new xr,Oo=new xr;class Po extends _i{constructor(e=new fo,t=new Gi){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),vo.copy(n.boundingSphere),vo.applyMatrix4(i),!1===e.ray.intersectsSphere(vo))return;if(mo.copy(i).invert(),go.copy(e.ray).applyMatrix4(mo),null!==n.boundingBox&&!1===go.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const i=n.index,s=n.attributes.position,a=n.morphAttributes.position,c=n.morphTargetsRelative,l=n.attributes.uv,u=n.attributes.uv2,h=n.groups,d=n.drawRange;if(null!==i)if(Array.isArray(r))for(let n=0,p=h.length;n<p;n++){const p=h[n],f=r[p.materialIndex],m=Math.max(p.start,d.start),g=Math.min(p.start+p.count,d.start+d.count);for(let n=m,r=g;n<r;n+=3){const r=i.getX(n),h=i.getX(n+1),d=i.getX(n+2);o=No(this,f,e,go,s,a,c,l,u,r,h,d),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=p.materialIndex,t.push(o))}}else{const n=Math.max(0,d.start),h=Math.min(i.count,d.start+d.count);for(let d=n,p=h;d<p;d+=3){const n=i.getX(d),h=i.getX(d+1),p=i.getX(d+2);o=No(this,r,e,go,s,a,c,l,u,n,h,p),o&&(o.faceIndex=Math.floor(d/3),t.push(o))}}else if(void 0!==s)if(Array.isArray(r))for(let n=0,p=h.length;n<p;n++){const i=h[n],p=r[i.materialIndex],f=Math.max(i.start,d.start),m=Math.min(i.start+i.count,d.start+d.count);for(let n=f,r=m;n<r;n+=3){const r=n,h=n+1,d=n+2;o=No(this,p,e,go,s,a,c,l,u,r,h,d),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=i.materialIndex,t.push(o))}}else{const n=Math.max(0,d.start),i=Math.min(s.count,d.start+d.count);for(let h=n,d=i;h<d;h+=3){const n=h,i=h+1,d=h+2;o=No(this,r,e,go,s,a,c,l,u,n,i,d),o&&(o.faceIndex=Math.floor(h/3),t.push(o))}}}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function ko(e,t,n,r,i,o,s,a){let c;if(c=t.side===m?r.intersectTriangle(s,o,i,!0,a):r.intersectTriangle(i,o,s,t.side!==g,a),null===c)return null;Oo.copy(a),Oo.applyMatrix4(e.matrixWorld);const l=n.ray.origin.distanceTo(Oo);return l<n.near||l>n.far?null:{distance:l,point:Oo.clone(),object:e}}function No(e,t,n,r,i,o,s,a,c,l,u,h){yo.fromBufferAttribute(i,l),bo.fromBufferAttribute(i,u),xo.fromBufferAttribute(i,h);const d=e.morphTargetInfluences;if(t.morphTargets&&o&&d){Mo.set(0,0,0),To.set(0,0,0),Eo.set(0,0,0);for(let e=0,t=o.length;e<t;e++){const t=d[e],n=o[e];0!==t&&(wo.fromBufferAttribute(n,l),_o.fromBufferAttribute(n,u),So.fromBufferAttribute(n,h),s?(Mo.addScaledVector(wo,t),To.addScaledVector(_o,t),Eo.addScaledVector(So,t)):(Mo.addScaledVector(wo.sub(yo),t),To.addScaledVector(_o.sub(bo),t),Eo.addScaledVector(So.sub(xo),t)))}yo.add(Mo),bo.add(To),xo.add(Eo)}e.isSkinnedMesh&&(e.boneTransform(l,yo),e.boneTransform(u,bo),e.boneTransform(h,xo));const p=ko(e,t,n,r,yo,bo,xo,Ro);if(p){a&&(Co.fromBufferAttribute(a,l),Ao.fromBufferAttribute(a,u),Lo.fromBufferAttribute(a,h),p.uv=ki.getUV(Ro,yo,bo,xo,Co,Ao,Lo,new cr)),c&&(Co.fromBufferAttribute(c,l),Ao.fromBufferAttribute(c,u),Lo.fromBufferAttribute(c,h),p.uv2=ki.getUV(Ro,yo,bo,xo,Co,Ao,Lo,new cr));const e={a:l,b:u,c:h,normal:new xr,materialIndex:0};ki.getNormal(yo,bo,xo,e.normal),p.face=e}return p}Po.prototype.isMesh=!0;class Fo extends fo{constructor(e=1,t=1,n=1,r=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const s=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const a=[],c=[],l=[],u=[];let h=0,d=0;function p(e,t,n,r,i,o,p,f,m,g,v){const y=o/m,b=p/g,x=o/2,w=p/2,_=f/2,S=m+1,M=g+1;let T=0,E=0;const C=new xr;for(let s=0;s<M;s++){const o=s*b-w;for(let a=0;a<S;a++){const h=a*y-x;C[e]=h*r,C[t]=o*i,C[n]=_,c.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=f>0?1:-1,l.push(C.x,C.y,C.z),u.push(a/m),u.push(1-s/g),T+=1}}for(let s=0;s<g;s++)for(let e=0;e<m;e++){const t=h+e+S*s,n=h+e+S*(s+1),r=h+(e+1)+S*(s+1),i=h+(e+1)+S*s;a.push(t,n,i),a.push(n,r,i),E+=6}s.addGroup(d,E,v),d+=E,h+=T}p("z","y","x",-1,-1,n,t,e,o,i,0),p("z","y","x",1,-1,n,t,-e,o,i,1),p("x","z","y",1,1,e,n,t,r,o,2),p("x","z","y",1,-1,e,n,-t,r,o,3),p("x","y","z",1,-1,e,t,n,r,i,4),p("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(a),this.setAttribute("position",new to(c,3)),this.setAttribute("normal",new to(l,3)),this.setAttribute("uv",new to(u,2))}static fromJSON(e){return new Fo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Io(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Do(e){const t={};for(let n=0;n<e.length;n++){const r=Io(e[n]);for(const e in r)t[e]=r[e]}return t}const Bo={clone:Io,merge:Do};var zo="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",jo="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class Uo extends Fi{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=zo,this.fragmentShader=jo,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Io(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r],i=n.value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}Uo.prototype.isShaderMaterial=!0;class Vo extends _i{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Jr,this.projectionMatrix=new Jr,this.projectionMatrixInverse=new Jr}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}Vo.prototype.isCamera=!0;class Go extends Vo{constructor(e=50,t=1,n=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*jn*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*zn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*jn*Math.atan(Math.tan(.5*zn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*zn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/s,r*=o.width/e,n*=o.height/s}const s=this.filmOffset;0!==s&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Go.prototype.isPerspectiveCamera=!0;const Ho=90,Wo=1;class $o extends _i{constructor(e,t,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new Go(Ho,Wo,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new xr(1,0,0)),this.add(r);const i=new Go(Ho,Wo,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new xr(-1,0,0)),this.add(i);const o=new Go(Ho,Wo,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new xr(0,1,0)),this.add(o);const s=new Go(Ho,Wo,e,t);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new xr(0,-1,0)),this.add(s);const a=new Go(Ho,Wo,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new xr(0,0,1)),this.add(a);const c=new Go(Ho,Wo,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new xr(0,0,-1)),this.add(c)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,i,o,s,a,c]=this.children,l=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,a),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(u),e.xr.enabled=l}}class qo extends pr{constructor(e,t,n,r,i,o,s,a,c,l){e=void 0!==e?e:[],t=void 0!==t?t:oe,s=void 0!==s?s:De,super(e,t,n,r,i,o,s,a,c,l),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}qo.prototype.isCubeTexture=!0;class Xo extends gr{constructor(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),super(e,e,t),t=t||{},this.texture=new qo(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:be,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Be,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Fo(5,5,5),i=new Uo({name:"CubemapFromEquirect",uniforms:Io(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:m,blending:b});i.uniforms.tEquirect.value=t;const o=new Po(r,i),s=t.minFilter;t.minFilter===_e&&(t.minFilter=be);const a=new $o(1,10,this);return a.update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}Xo.prototype.isWebGLCubeRenderTarget=!0;const Yo=new xr,Zo=new xr,Jo=new lr;class Ko{constructor(e=new xr(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Yo.subVectors(n,t).cross(Zo.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(Yo),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Jo.getNormalMatrix(e),r=this.coplanarPoint(Yo).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Ko.prototype.isPlane=!0;const Qo=new Vr,es=new xr;class ts{constructor(e=new Ko,t=new Ko,n=new Ko,r=new Ko,i=new Ko,o=new Ko){this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],c=n[5],l=n[6],u=n[7],h=n[8],d=n[9],p=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(s-r,u-a,f-h,y-m).normalize(),t[1].setComponents(s+r,u+a,f+h,y+m).normalize(),t[2].setComponents(s+i,u+c,f+d,y+g).normalize(),t[3].setComponents(s-i,u-c,f-d,y-g).normalize(),t[4].setComponents(s-o,u-l,f-p,y-v).normalize(),t[5].setComponents(s+o,u+l,f+p,y+v).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Qo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Qo)}intersectsSprite(e){return Qo.center.set(0,0,0),Qo.radius=.7071067811865476,Qo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qo)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){const e=t[i].distanceToPoint(n);if(e<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(es.x=r.normal.x>0?e.max.x:e.min.x,es.y=r.normal.y>0?e.max.y:e.min.y,es.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(es)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function ns(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function rs(e,t){const n=t.isWebGL2,r=new WeakMap;function i(t,r){const i=t.array,o=t.usage,s=e.createBuffer();e.bindBuffer(r,s),e.bufferData(r,i,o),t.onUploadCallback();let a=5126;return i instanceof Float32Array?a=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?n?a=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):a=5123:i instanceof Int16Array?a=5122:i instanceof Uint32Array?a=5125:i instanceof Int32Array?a=5124:i instanceof Int8Array?a=5120:(i instanceof Uint8Array||i instanceof Uint8ClampedArray)&&(a=5121),{buffer:s,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}function o(t,r,i){const o=r.array,s=r.updateRange;e.bindBuffer(i,t),-1===s.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):e.bufferSubData(i,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1)}function s(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)}function a(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))}function c(e,t){if(e.isGLBufferAttribute){const t=r.get(e);return void((!t||t.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const n=r.get(e);void 0===n?r.set(e,i(e,t)):n.version<e.version&&(o(n.buffer,e,t),n.version=e.version)}return{get:s,remove:a,update:c}}class is extends fo{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,o=t/2,s=Math.floor(n),a=Math.floor(r),c=s+1,l=a+1,u=e/s,h=t/a,d=[],p=[],f=[],m=[];for(let g=0;g<l;g++){const e=g*h-o;for(let t=0;t<c;t++){const n=t*u-i;p.push(n,-e,0),f.push(0,0,1),m.push(t/s),m.push(1-g/a)}}for(let g=0;g<a;g++)for(let e=0;e<s;e++){const t=e+c*g,n=e+c*(g+1),r=e+1+c*(g+1),i=e+1+c*g;d.push(t,n,i),d.push(n,r,i)}this.setIndex(d),this.setAttribute("position",new to(p,3)),this.setAttribute("normal",new to(f,3)),this.setAttribute("uv",new to(m,2))}static fromJSON(e){return new is(e.width,e.height,e.widthSegments,e.heightSegments)}}var os="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",ss="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",as="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",cs="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",ls="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",us="vec3 transformed = vec3( position );",hs="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",ds="vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotVH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",ps="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",fs="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",ms="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",gs="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",vs="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",ys="#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",bs="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",xs="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",ws="#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",_s="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",Ss="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",Ms="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",Ts="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",Es="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",Cs="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",As="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",Ls="gl_FragColor = linearToOutputTexel( gl_FragColor );",Rs="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",Os="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",Ps="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",ks="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",Ns="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",Fs="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",Is="#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",Ds="#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",Bs="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",zs="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",js="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",Us="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",Vs="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Gs="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",Hs="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",Ws="#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",$s="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",qs="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",Xs="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Ys="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",Zs="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",Js="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",Ks="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",Qs="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",ea="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",ta="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",na="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",ra="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",ia="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",oa="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",sa="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",aa="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",ca="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",la="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",ua="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",ha="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",da="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",pa="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",fa="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",ma="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",ga="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",va="#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",ya="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",ba="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",xa="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",wa="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",_a="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",Sa="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",Ma="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",Ta="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",Ea="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Ca="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",Aa="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",La="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",Ra="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",Oa="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Pa="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",ka="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",Na="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",Fa="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Ia="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Da="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Ba="#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",za="#ifdef USE_TRANSMISSION\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSNMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition.xyz / vWorldPosition.w;\n\tvec3 v = normalize( cameraPosition - pos );\n\tfloat ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );\n\tvec3 transmission = transmissionFactor * getIBLVolumeRefraction(\n\t\tnormal, v, roughnessFactor, material.diffuseColor, totalSpecular,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission, transmissionFactor );\n#endif",ja="#ifdef USE_TRANSMISSION\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec4 vWorldPosition;\n\tvec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {\n\t\tvec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length(vec3(modelMatrix[0].xyz));\n\t\tmodelScale.y = length(vec3(modelMatrix[1].xyz));\n\t\tmodelScale.z = length(vec3(modelMatrix[2].xyz));\n\t\treturn normalize(refractionVector) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness(float roughness, float ior) {\n\t\treturn roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);\n\t}\n\tvec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {\n\t\tfloat framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);\n\t\treturn texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;\n\t}\n\tvec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {\n\t\tif (attenuationDistance == 0.0) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;\n\t\t\tvec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec3 getIBLVolumeRefraction(vec3 n, vec3 v, float perceptualRoughness, vec3 baseColor, vec3 specularColor,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);\n\t\tvec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);\n\t\treturn (1.0 - specularColor) * attenuatedColor * baseColor;\n\t}\n#endif",Ua="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",Va="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",Ga="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Ha="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Wa="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",$a="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",qa="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",Xa="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Ya="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",Za="#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Ja="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Ka="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",Qa="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",ec="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",tc="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",nc="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",rc="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",ic="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",oc="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sc="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ac="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",cc="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",lc="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",uc="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",hc="#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",dc="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",pc="#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",fc="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",mc="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",gc="#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform vec3 attenuationColor;\n\tuniform float attenuationDistance;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <transmission_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",vc="#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#ifdef USE_TRANSMISSION\n\tvarying vec4 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition;\n#endif\n}",yc="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",bc="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",xc="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",wc="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",_c="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Sc="#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Mc="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Tc="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}";const Ec={alphamap_fragment:os,alphamap_pars_fragment:ss,alphatest_fragment:as,aomap_fragment:cs,aomap_pars_fragment:ls,begin_vertex:us,beginnormal_vertex:hs,bsdfs:ds,bumpmap_pars_fragment:ps,clipping_planes_fragment:fs,clipping_planes_pars_fragment:ms,clipping_planes_pars_vertex:gs,clipping_planes_vertex:vs,color_fragment:ys,color_pars_fragment:bs,color_pars_vertex:xs,color_vertex:ws,common:_s,cube_uv_reflection_fragment:Ss,defaultnormal_vertex:Ms,displacementmap_pars_vertex:Ts,displacementmap_vertex:Es,emissivemap_fragment:Cs,emissivemap_pars_fragment:As,encodings_fragment:Ls,encodings_pars_fragment:Rs,envmap_fragment:Os,envmap_common_pars_fragment:Ps,envmap_pars_fragment:ks,envmap_pars_vertex:Ns,envmap_physical_pars_fragment:Ws,envmap_vertex:Fs,fog_vertex:Is,fog_pars_vertex:Ds,fog_fragment:Bs,fog_pars_fragment:zs,gradientmap_pars_fragment:js,lightmap_fragment:Us,lightmap_pars_fragment:Vs,lights_lambert_vertex:Gs,lights_pars_begin:Hs,lights_toon_fragment:$s,lights_toon_pars_fragment:qs,lights_phong_fragment:Xs,lights_phong_pars_fragment:Ys,lights_physical_fragment:Zs,lights_physical_pars_fragment:Js,lights_fragment_begin:Ks,lights_fragment_maps:Qs,lights_fragment_end:ea,logdepthbuf_fragment:ta,logdepthbuf_pars_fragment:na,logdepthbuf_pars_vertex:ra,logdepthbuf_vertex:ia,map_fragment:oa,map_pars_fragment:sa,map_particle_fragment:aa,map_particle_pars_fragment:ca,metalnessmap_fragment:la,metalnessmap_pars_fragment:ua,morphnormal_vertex:ha,morphtarget_pars_vertex:da,morphtarget_vertex:pa,normal_fragment_begin:fa,normal_fragment_maps:ma,normalmap_pars_fragment:ga,clearcoat_normal_fragment_begin:va,clearcoat_normal_fragment_maps:ya,clearcoat_pars_fragment:ba,packing:xa,premultiplied_alpha_fragment:wa,project_vertex:_a,dithering_fragment:Sa,dithering_pars_fragment:Ma,roughnessmap_fragment:Ta,roughnessmap_pars_fragment:Ea,shadowmap_pars_fragment:Ca,shadowmap_pars_vertex:Aa,shadowmap_vertex:La,shadowmask_pars_fragment:Ra,skinbase_vertex:Oa,skinning_pars_vertex:Pa,skinning_vertex:ka,skinnormal_vertex:Na,specularmap_fragment:Fa,specularmap_pars_fragment:Ia,tonemapping_fragment:Da,tonemapping_pars_fragment:Ba,transmission_fragment:za,transmission_pars_fragment:ja,uv_pars_fragment:Ua,uv_pars_vertex:Va,uv_vertex:Ga,uv2_pars_fragment:Ha,uv2_pars_vertex:Wa,uv2_vertex:$a,worldpos_vertex:qa,background_frag:Xa,background_vert:Ya,cube_frag:Za,cube_vert:Ja,depth_frag:Ka,depth_vert:Qa,distanceRGBA_frag:ec,distanceRGBA_vert:tc,equirect_frag:nc,equirect_vert:rc,linedashed_frag:ic,linedashed_vert:oc,meshbasic_frag:sc,meshbasic_vert:ac,meshlambert_frag:cc,meshlambert_vert:lc,meshmatcap_frag:uc,meshmatcap_vert:hc,meshtoon_frag:dc,meshtoon_vert:pc,meshphong_frag:fc,meshphong_vert:mc,meshphysical_frag:gc,meshphysical_vert:vc,normal_frag:yc,normal_vert:bc,points_frag:xc,points_vert:wc,shadow_frag:_c,shadow_vert:Sc,sprite_frag:Mc,sprite_vert:Tc},Cc={common:{diffuse:{value:new Vi(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new lr},uv2Transform:{value:new lr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new cr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new lr}},sprite:{diffuse:{value:new Vi(16777215)},opacity:{value:1},center:{value:new cr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new lr}}},Ac={basic:{uniforms:Do([Cc.common,Cc.specularmap,Cc.envmap,Cc.aomap,Cc.lightmap,Cc.fog]),vertexShader:Ec.meshbasic_vert,fragmentShader:Ec.meshbasic_frag},lambert:{uniforms:Do([Cc.common,Cc.specularmap,Cc.envmap,Cc.aomap,Cc.lightmap,Cc.emissivemap,Cc.fog,Cc.lights,{emissive:{value:new Vi(0)}}]),vertexShader:Ec.meshlambert_vert,fragmentShader:Ec.meshlambert_frag},phong:{uniforms:Do([Cc.common,Cc.specularmap,Cc.envmap,Cc.aomap,Cc.lightmap,Cc.emissivemap,Cc.bumpmap,Cc.normalmap,Cc.displacementmap,Cc.fog,Cc.lights,{emissive:{value:new Vi(0)},specular:{value:new Vi(1118481)},shininess:{value:30}}]),vertexShader:Ec.meshphong_vert,fragmentShader:Ec.meshphong_frag},standard:{uniforms:Do([Cc.common,Cc.envmap,Cc.aomap,Cc.lightmap,Cc.emissivemap,Cc.bumpmap,Cc.normalmap,Cc.displacementmap,Cc.roughnessmap,Cc.metalnessmap,Cc.fog,Cc.lights,{emissive:{value:new Vi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ec.meshphysical_vert,fragmentShader:Ec.meshphysical_frag},toon:{uniforms:Do([Cc.common,Cc.aomap,Cc.lightmap,Cc.emissivemap,Cc.bumpmap,Cc.normalmap,Cc.displacementmap,Cc.gradientmap,Cc.fog,Cc.lights,{emissive:{value:new Vi(0)}}]),vertexShader:Ec.meshtoon_vert,fragmentShader:Ec.meshtoon_frag},matcap:{uniforms:Do([Cc.common,Cc.bumpmap,Cc.normalmap,Cc.displacementmap,Cc.fog,{matcap:{value:null}}]),vertexShader:Ec.meshmatcap_vert,fragmentShader:Ec.meshmatcap_frag},points:{uniforms:Do([Cc.points,Cc.fog]),vertexShader:Ec.points_vert,fragmentShader:Ec.points_frag},dashed:{uniforms:Do([Cc.common,Cc.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ec.linedashed_vert,fragmentShader:Ec.linedashed_frag},depth:{uniforms:Do([Cc.common,Cc.displacementmap]),vertexShader:Ec.depth_vert,fragmentShader:Ec.depth_frag},normal:{uniforms:Do([Cc.common,Cc.bumpmap,Cc.normalmap,Cc.displacementmap,{opacity:{value:1}}]),vertexShader:Ec.normal_vert,fragmentShader:Ec.normal_frag},sprite:{uniforms:Do([Cc.sprite,Cc.fog]),vertexShader:Ec.sprite_vert,fragmentShader:Ec.sprite_frag},background:{uniforms:{uvTransform:{value:new lr},t2D:{value:null}},vertexShader:Ec.background_vert,fragmentShader:Ec.background_frag},cube:{uniforms:Do([Cc.envmap,{opacity:{value:1}}]),vertexShader:Ec.cube_vert,fragmentShader:Ec.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ec.equirect_vert,fragmentShader:Ec.equirect_frag},distanceRGBA:{uniforms:Do([Cc.common,Cc.displacementmap,{referencePosition:{value:new xr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ec.distanceRGBA_vert,fragmentShader:Ec.distanceRGBA_frag},shadow:{uniforms:Do([Cc.lights,Cc.fog,{color:{value:new Vi(0)},opacity:{value:1}}]),vertexShader:Ec.shadow_vert,fragmentShader:Ec.shadow_frag}};function Lc(e,t,n,r,i){const o=new Vi(0);let s,a,c=0,l=null,u=0,h=null;function d(n,i){let d=!1,g=!0===i.isScene?i.background:null;g&&g.isTexture&&(g=t.get(g));const v=e.xr,y=v.getSession&&v.getSession();y&&"additive"===y.environmentBlendMode&&(g=null),null===g?p(o,c):g&&g.isColor&&(p(g,1),d=!0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===le)?(void 0===a&&(a=new Po(new Fo(1,1,1),new Uo({name:"BackgroundCubeMaterial",uniforms:Io(Ac.cube.uniforms),vertexShader:Ac.cube.vertexShader,fragmentShader:Ac.cube.fragmentShader,side:m,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(a)),a.material.uniforms.envMap.value=g,a.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g._needsFlipEnvMap?-1:1,l===g&&u===g.version&&h===e.toneMapping||(a.material.needsUpdate=!0,l=g,u=g.version,h=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):g&&g.isTexture&&(void 0===s&&(s=new Po(new is(2,2),new Uo({name:"BackgroundMaterial",uniforms:Io(Ac.background.uniforms),vertexShader:Ac.background.vertexShader,fragmentShader:Ac.background.fragmentShader,side:f,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(s)),s.material.uniforms.t2D.value=g,!0===g.matrixAutoUpdate&&g.updateMatrix(),s.material.uniforms.uvTransform.value.copy(g.matrix),l===g&&u===g.version&&h===e.toneMapping||(s.material.needsUpdate=!0,l=g,u=g.version,h=e.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null))}function p(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return o},setClearColor:function(e,t=1){o.set(e),c=t,p(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,p(o,c)},render:d}}function Rc(e,t,n,r){const i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),s=r.isWebGL2||null!==o,a={},c=m(null);let l=c;function u(t,r,i,o,a){let c=!1;if(s){const e=f(o,i,r);l!==e&&(l=e,d(l.object)),c=g(o,a),c&&v(o,a)}else{const e=!0===r.wireframe;l.geometry===o.id&&l.program===i.id&&l.wireframe===e||(l.geometry=o.id,l.program=i.id,l.wireframe=e,c=!0)}!0===t.isInstancedMesh&&(c=!0),null!==a&&n.update(a,34963),c&&(S(t,r,i,o),null!==a&&e.bindBuffer(34963,n.get(a).buffer))}function h(){return r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function d(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function p(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function f(e,t,n){const r=!0===n.wireframe;let i=a[e.id];void 0===i&&(i={},a[e.id]=i);let o=i[t.id];void 0===o&&(o={},i[t.id]=o);let s=o[r];return void 0===s&&(s=m(h()),o[r]=s),s}function m(e){const t=[],n=[],r=[];for(let o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function g(e,t){const n=l.attributes,r=e.attributes;let i=0;for(const o in r){const e=n[o],t=r[o];if(void 0===e)return!0;if(e.attribute!==t)return!0;if(e.data!==t.data)return!0;i++}return l.attributesNum!==i||l.index!==t}function v(e,t){const n={},r=e.attributes;let i=0;for(const o in r){const e=r[o],t={};t.attribute=e,e.data&&(t.data=e.data),n[o]=t,i++}l.attributes=n,l.attributesNum=i,l.index=t}function y(){const e=l.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function b(e){x(e,0)}function x(n,i){const o=l.newAttributes,s=l.enabledAttributes,a=l.attributeDivisors;if(o[n]=1,0===s[n]&&(e.enableVertexAttribArray(n),s[n]=1),a[n]!==i){const o=r.isWebGL2?e:t.get("ANGLE_instanced_arrays");o[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),a[n]=i}}function w(){const t=l.newAttributes,n=l.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function _(t,n,i,o,s,a){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,s,a):e.vertexAttribIPointer(t,n,i,s,a)}function S(i,o,s,a){if(!1===r.isWebGL2&&(i.isInstancedMesh||a.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;y();const c=a.attributes,l=s.getAttributes(),u=o.defaultAttributeValues;for(const t in l){const r=l[t];if(r>=0){const o=c[t];if(void 0!==o){const t=o.normalized,i=o.itemSize,s=n.get(o);if(void 0===s)continue;const c=s.buffer,l=s.type,u=s.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,s=n.stride,h=o.offset;n&&n.isInstancedInterleavedBuffer?(x(r,n.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)):b(r),e.bindBuffer(34962,c),_(r,i,l,t,s*u,h*u)}else o.isInstancedBufferAttribute?(x(r,o.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)):b(r),e.bindBuffer(34962,c),_(r,i,l,t,0,0)}else if("instanceMatrix"===t){const t=n.get(i.instanceMatrix);if(void 0===t)continue;const o=t.buffer,s=t.type;x(r+0,1),x(r+1,1),x(r+2,1),x(r+3,1),e.bindBuffer(34962,o),e.vertexAttribPointer(r+0,4,s,!1,64,0),e.vertexAttribPointer(r+1,4,s,!1,64,16),e.vertexAttribPointer(r+2,4,s,!1,64,32),e.vertexAttribPointer(r+3,4,s,!1,64,48)}else if("instanceColor"===t){const t=n.get(i.instanceColor);if(void 0===t)continue;const o=t.buffer,s=t.type;x(r,1),e.bindBuffer(34962,o),e.vertexAttribPointer(r,3,s,!1,12,0)}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r,n);break;case 3:e.vertexAttrib3fv(r,n);break;case 4:e.vertexAttrib4fv(r,n);break;default:e.vertexAttrib1fv(r,n)}}}}w()}function M(){C();for(const e in a){const t=a[e];for(const e in t){const n=t[e];for(const e in n)p(n[e].object),delete n[e];delete t[e]}delete a[e]}}function T(e){if(void 0===a[e.id])return;const t=a[e.id];for(const n in t){const e=t[n];for(const t in e)p(e[t].object),delete e[t];delete t[n]}delete a[e.id]}function E(e){for(const t in a){const n=a[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)p(r[e].object),delete r[e];delete n[e.id]}}function C(){A(),l!==c&&(l=c,d(l.object))}function A(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:u,reset:C,resetDefaultState:A,dispose:M,releaseStatesOfGeometry:T,releaseStatesOfProgram:E,initAttributes:y,enableAttribute:b,disableUnusedAttributes:w}}function Oc(e,t,n,r){const i=r.isWebGL2;let o;function s(e){o=e}function a(t,r){e.drawArrays(o,t,r),n.update(r,o,1)}function c(r,s,a){if(0===a)return;let c,l;if(i)c=e,l="drawArraysInstanced";else if(c=t.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===c)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[l](o,r,s,a),n.update(s,o,a)}this.setMode=s,this.render=a,this.renderInstances=c}function Pc(e,t,n){let r;function i(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let a=void 0!==n.precision?n.precision:"highp";const c=o(a);c!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",c,"instead."),a=c);const l=s||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,h=e.getParameter(34930),d=e.getParameter(35660),p=e.getParameter(3379),f=e.getParameter(34076),m=e.getParameter(34921),g=e.getParameter(36347),v=e.getParameter(36348),y=e.getParameter(36349),b=d>0,x=s||t.has("OES_texture_float"),w=b&&x,_=s?e.getParameter(36183):0;return{isWebGL2:s,drawBuffers:l,getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:f,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:x,floatVertexTextures:w,maxSamples:_}}function kc(e){const t=this;let n=null,r=0,i=!1,o=!1;const s=new Ko,a=new lr,c={value:null,needsUpdate:!1};function l(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){const o=null!==e?e.length:0;let l=null;if(0!==o){if(l=c.value,!0!==i||null===l){const t=r+4*o,i=n.matrixWorldInverse;a.getNormalMatrix(i),(null===l||l.length<t)&&(l=new Float32Array(t));for(let n=0,c=r;n!==o;++n,c+=4)s.copy(e[n]).applyMatrix4(i,a),s.normal.toArray(l,c),l[c+3]=s.constant}c.value=l,c.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,l}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){const s=0!==e.length||t||0!==r||i;return i=t,n=u(e,o,0),r=e.length,s},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,l()},this.setState=function(t,s,a){const h=t.clippingPlanes,d=t.clipIntersection,p=t.clipShadows,f=e.get(t);if(!i||null===h||0===h.length||o&&!p)o?u(null):l();else{const e=o?0:r,t=4*e;let i=f.clippingState||null;c.value=i,i=u(h,s,t,a);for(let r=0;r!==t;++r)i[r]=n[r];f.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function Nc(e){let t=new WeakMap;function n(e,t){return t===ae?e.mapping=oe:t===ce&&(e.mapping=se),e}function r(r){if(r&&r.isTexture){const o=r.mapping;if(o===ae||o===ce){if(t.has(r)){const e=t.get(r).texture;return n(e,r.mapping)}{const o=r.image;if(o&&o.height>0){const s=e.getRenderTarget(),a=new Xo(o.height/2);return a.fromEquirectangularTexture(e,r),t.set(r,a),e.setRenderTarget(s),r.addEventListener("dispose",i),n(a.texture,r.mapping)}return null}}}return r}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}function o(){t=new WeakMap}return{get:r,dispose:o}}function Fc(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Ic(e,t,n,r){const i={},o=new WeakMap;function s(e){const a=e.target;null!==a.index&&t.remove(a.index);for(const n in a.attributes)t.remove(a.attributes[n]);a.removeEventListener("dispose",s),delete i[a.id];const c=o.get(a);c&&(t.remove(c),o.delete(a)),r.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(e,t){return!0===i[t.id]||(t.addEventListener("dispose",s),i[t.id]=!0,n.memory.geometries++),t}function c(e){const n=e.attributes;for(const i in n)t.update(n[i],34962);const r=e.morphAttributes;for(const i in r){const e=r[i];for(let n=0,r=e.length;n<r;n++)t.update(e[n],34962)}}function l(e){const n=[],r=e.index,i=e.attributes.position;let s=0;if(null!==r){const e=r.array;s=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{const e=i.array;s=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const a=new(ro(n)>65535?Qi:Ji)(n,1);a.version=s;const c=o.get(e);c&&t.remove(c),o.set(e,a)}function u(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&l(e)}else l(e);return o.get(e)}return{get:a,update:c,getWireframeAttribute:u}}function Dc(e,t,n,r){const i=r.isWebGL2;let o,s,a;function c(e){o=e}function l(e){s=e.type,a=e.bytesPerElement}function u(t,r){e.drawElements(o,r,s,t*a),n.update(r,o,1)}function h(r,c,l){if(0===l)return;let u,h;if(i)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](o,c,s,r*a,l),n.update(c,o,l)}this.setMode=c,this.setIndex=l,this.render=u,this.renderInstances=h}function Bc(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(e,t,r){switch(n.calls++,t){case 4:n.triangles+=r*(e/3);break;case 1:n.lines+=r*(e/2);break;case 3:n.lines+=r*(e-1);break;case 2:n.lines+=r*e;break;case 0:n.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function zc(e,t){return e[0]-t[0]}function jc(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Uc(e){const t={},n=new Float32Array(8),r=[];for(let o=0;o<8;o++)r[o]=[o,0];function i(i,o,s,a){const c=i.morphTargetInfluences,l=void 0===c?0:c.length;let u=t[o.id];if(void 0===u||u.length!==l){u=[];for(let e=0;e<l;e++)u[e]=[e,0];t[o.id]=u}for(let e=0;e<l;e++){const t=u[e];t[0]=e,t[1]=c[e]}u.sort(jc);for(let e=0;e<8;e++)e<l&&u[e][1]?(r[e][0]=u[e][0],r[e][1]=u[e][1]):(r[e][0]=Number.MAX_SAFE_INTEGER,r[e][1]=0);r.sort(zc);const h=s.morphTargets&&o.morphAttributes.position,d=s.morphNormals&&o.morphAttributes.normal;let p=0;for(let e=0;e<8;e++){const t=r[e],i=t[0],s=t[1];i!==Number.MAX_SAFE_INTEGER&&s?(h&&o.getAttribute("morphTarget"+e)!==h[i]&&o.setAttribute("morphTarget"+e,h[i]),d&&o.getAttribute("morphNormal"+e)!==d[i]&&o.setAttribute("morphNormal"+e,d[i]),n[e]=s,p+=s):(h&&!0===o.hasAttribute("morphTarget"+e)&&o.deleteAttribute("morphTarget"+e),d&&!0===o.hasAttribute("morphNormal"+e)&&o.deleteAttribute("morphNormal"+e),n[e]=0)}const f=o.morphTargetsRelative?1:1-p;a.getUniforms().setValue(e,"morphTargetBaseInfluence",f),a.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:i}}function Vc(e,t,n,r){let i=new WeakMap;function o(e){const o=r.render.frame,s=e.geometry,c=t.get(e,s);return i.get(c)!==o&&(t.update(c),i.set(c,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),c}function s(){i=new WeakMap}function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:o,dispose:s}}Ac.physical={uniforms:Do([Ac.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new cr(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Vi(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new cr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Vi(0)}}]),vertexShader:Ec.meshphysical_vert,fragmentShader:Ec.meshphysical_frag};class Gc extends pr{constructor(e=null,t=1,n=1,r=1){super(null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=fe,this.minFilter=fe,this.wrapR=de,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Gc.prototype.isDataTexture2DArray=!0;class Hc extends pr{constructor(e=null,t=1,n=1,r=1){super(null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=fe,this.minFilter=fe,this.wrapR=de,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Hc.prototype.isDataTexture3D=!0;const Wc=new pr,$c=new Gc,qc=new Hc,Xc=new qo,Yc=[],Zc=[],Jc=new Float32Array(16),Kc=new Float32Array(9),Qc=new Float32Array(4);function el(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=Yc[i];if(void 0===o&&(o=new Float32Array(i),Yc[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function tl(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function nl(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function rl(e,t){let n=Zc[t];void 0===n&&(n=new Int32Array(t),Zc[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function il(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ol(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(tl(n,t))return;e.uniform2fv(this.addr,t),nl(n,t)}}function sl(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(tl(n,t))return;e.uniform3fv(this.addr,t),nl(n,t)}}function al(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(tl(n,t))return;e.uniform4fv(this.addr,t),nl(n,t)}}function cl(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(tl(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),nl(n,t)}else{if(tl(n,r))return;Qc.set(r),e.uniformMatrix2fv(this.addr,!1,Qc),nl(n,r)}}function ll(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(tl(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),nl(n,t)}else{if(tl(n,r))return;Kc.set(r),e.uniformMatrix3fv(this.addr,!1,Kc),nl(n,r)}}function ul(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(tl(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),nl(n,t)}else{if(tl(n,r))return;Jc.set(r),e.uniformMatrix4fv(this.addr,!1,Jc),nl(n,r)}}function hl(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function dl(e,t){const n=this.cache;tl(n,t)||(e.uniform2iv(this.addr,t),nl(n,t))}function pl(e,t){const n=this.cache;tl(n,t)||(e.uniform3iv(this.addr,t),nl(n,t))}function fl(e,t){const n=this.cache;tl(n,t)||(e.uniform4iv(this.addr,t),nl(n,t))}function ml(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function gl(e,t){const n=this.cache;tl(n,t)||(e.uniform2uiv(this.addr,t),nl(n,t))}function vl(e,t){const n=this.cache;tl(n,t)||(e.uniform3uiv(this.addr,t),nl(n,t))}function yl(e,t){const n=this.cache;tl(n,t)||(e.uniform4uiv(this.addr,t),nl(n,t))}function bl(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||Wc,i)}function xl(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||qc,i)}function wl(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||Xc,i)}function _l(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||$c,i)}function Sl(e){switch(e){case 5126:return il;case 35664:return ol;case 35665:return sl;case 35666:return al;case 35674:return cl;case 35675:return ll;case 35676:return ul;case 5124:case 35670:return hl;case 35667:case 35671:return dl;case 35668:case 35672:return pl;case 35669:case 35673:return fl;case 5125:return ml;case 36294:return gl;case 36295:return vl;case 36296:return yl;case 35678:case 36198:case 36298:case 36306:case 35682:return bl;case 35679:case 36299:case 36307:return xl;case 35680:case 36300:case 36308:case 36293:return wl;case 36289:case 36303:case 36311:case 36292:return _l}}function Ml(e,t){e.uniform1fv(this.addr,t)}function Tl(e,t){const n=el(t,this.size,2);e.uniform2fv(this.addr,n)}function El(e,t){const n=el(t,this.size,3);e.uniform3fv(this.addr,n)}function Cl(e,t){const n=el(t,this.size,4);e.uniform4fv(this.addr,n)}function Al(e,t){const n=el(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Ll(e,t){const n=el(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Rl(e,t){const n=el(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ol(e,t){e.uniform1iv(this.addr,t)}function Pl(e,t){e.uniform2iv(this.addr,t)}function kl(e,t){e.uniform3iv(this.addr,t)}function Nl(e,t){e.uniform4iv(this.addr,t)}function Fl(e,t){e.uniform1uiv(this.addr,t)}function Il(e,t){e.uniform2uiv(this.addr,t)}function Dl(e,t){e.uniform3uiv(this.addr,t)}function Bl(e,t){e.uniform4uiv(this.addr,t)}function zl(e,t,n){const r=t.length,i=rl(n,r);e.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.safeSetTexture2D(t[o]||Wc,i[o])}function jl(e,t,n){const r=t.length,i=rl(n,r);e.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)n.safeSetTextureCube(t[o]||Xc,i[o])}function Ul(e){switch(e){case 5126:return Ml;case 35664:return Tl;case 35665:return El;case 35666:return Cl;case 35674:return Al;case 35675:return Ll;case 35676:return Rl;case 5124:case 35670:return Ol;case 35667:case 35671:return Pl;case 35668:case 35672:return kl;case 35669:case 35673:return Nl;case 5125:return Fl;case 36294:return Il;case 36295:return Dl;case 36296:return Bl;case 35678:case 36198:case 36298:case 36306:case 35682:return zl;case 35680:case 36300:case 36308:case 36293:return jl}}function Vl(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=Sl(t.type)}function Gl(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Ul(t.type)}function Hl(e){this.id=e,this.seq=[],this.map={}}Gl.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),nl(t,e)},Hl.prototype.setValue=function(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}};const Wl=/(\w+)(\])?(\[|\.)?/g;function $l(e,t){e.seq.push(t),e.map[t.id]=t}function ql(e,t,n){const r=e.name,i=r.length;Wl.lastIndex=0;while(1){const o=Wl.exec(r),s=Wl.lastIndex;let a=o[1];const c="]"===o[2],l=o[3];if(c&&(a|=0),void 0===l||"["===l&&s+2===i){$l(n,void 0===l?new Vl(a,e,t):new Gl(a,e,t));break}{const e=n.map;let t=e[a];void 0===t&&(t=new Hl(a),$l(n,t)),n=t}}}function Xl(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r),i=e.getUniformLocation(t,n.name);ql(n,i,this)}}function Yl(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}Xl.prototype.setValue=function(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)},Xl.prototype.setOptional=function(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)},Xl.upload=function(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},Xl.seqWithValue=function(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n};let Zl=0;function Jl(e){const t=e.split("\n");for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}function Kl(e){switch(e){case Zt:return["Linear","( value )"];case Jt:return["sRGB","( value )"];case Qt:return["RGBE","( value )"];case tn:return["RGBM","( value, 7.0 )"];case nn:return["RGBM","( value, 16.0 )"];case rn:return["RGBD","( value, 256.0 )"];case Kt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case en:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Ql(e,t,n){const r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+Jl(o)}function eu(e,t){const n=Kl(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function tu(e,t){const n=Kl(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function nu(e,t){let n;switch(t){case Q:n="Linear";break;case ee:n="Reinhard";break;case te:n="OptimizedCineon";break;case ne:n="ACESFilmic";break;case re:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ru(e){const t=[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission>0)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return t.filter(su).join("\n")}function iu(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}function ou(e,t){const n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;n[o]=e.getAttribLocation(t,o)}return n}function su(e){return""!==e}function au(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function cu(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const lu=/^[ \t]*#include +<([\w\d./]+)>/gm;function uu(e){return e.replace(lu,hu)}function hu(e,t){const n=Ec[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return uu(n)}const du=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,pu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function fu(e){return e.replace(pu,gu).replace(du,mu)}function mu(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),gu(e,t,n,r)}function gu(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function vu(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function yu(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===h?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===d?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===p&&(t="SHADOWMAP_TYPE_VSM"),t}function bu(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case oe:case se:t="ENVMAP_TYPE_CUBE";break;case le:case ue:t="ENVMAP_TYPE_CUBE_UV";break}return t}function xu(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case se:case ue:t="ENVMAP_MODE_REFRACTION";break}return t}function wu(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Y:t="ENVMAP_BLENDING_MULTIPLY";break;case Z:t="ENVMAP_BLENDING_MIX";break;case J:t="ENVMAP_BLENDING_ADD";break}return t}function _u(e,t,n,r){const i=e.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const c=yu(n),l=bu(n),u=xu(n),h=wu(n),d=e.gammaFactor>0?e.gammaFactor:1,p=n.isWebGL2?"":ru(n),f=iu(o),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[f].filter(su).join("\n"),g.length>0&&(g+="\n"),v=[p,f].filter(su).join("\n"),v.length>0&&(v+="\n")):(g=[vu(n),"#define SHADER_NAME "+n.shaderName,f,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(su).join("\n"),v=[p,vu(n),"#define SHADER_NAME "+n.shaderName,f,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==K?"#define TONE_MAPPING":"",n.toneMapping!==K?Ec["tonemapping_pars_fragment"]:"",n.toneMapping!==K?nu("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Ec["encodings_pars_fragment"],n.map?eu("mapTexelToLinear",n.mapEncoding):"",n.matcap?eu("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?eu("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?eu("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?eu("lightMapTexelToLinear",n.lightMapEncoding):"",tu("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(su).join("\n")),s=uu(s),s=au(s,n),s=cu(s,n),a=uu(a),a=au(a,n),a=cu(a,n),s=fu(s),a=fu(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Fn?"":"out highp vec4 pc_fragColor;",n.glslVersion===Fn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+g+s,x=y+v+a,w=Yl(i,35633,b),_=Yl(i,35632,x);if(i.attachShader(m,w),i.attachShader(m,_),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),e.debug.checkShaderErrors){const e=i.getProgramInfoLog(m).trim(),t=i.getShaderInfoLog(w).trim(),n=i.getShaderInfoLog(_).trim();let r=!0,o=!0;if(!1===i.getProgramParameter(m,35714)){r=!1;const t=Ql(i,w,"vertex"),n=Ql(i,_,"fragment");console.error("THREE.WebGLProgram: shader error: ",i.getError(),"35715",i.getProgramParameter(m,35715),"gl.getProgramInfoLog",e,t,n)}else""!==e?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",e):""!==t&&""!==n||(o=!1);o&&(this.diagnostics={runnable:r,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:n,prefix:v}})}let S,M;return i.deleteShader(w),i.deleteShader(_),this.getUniforms=function(){return void 0===S&&(S=new Xl(i,m)),S},this.getAttributes=function(){return void 0===M&&(M=ou(i,m)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=Zl++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=_,this}function Su(e,t,n,r,i,o){const s=[],a=r.isWebGL2,c=r.logarithmicDepthBuffer,l=r.floatVertexTextures,u=r.maxVertexUniforms,h=r.vertexTextures;let d=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmission","transmissionMap","thicknessMap"];function v(e){const t=e.skeleton,n=t.bones;if(l)return 1024;{const e=u,t=Math.floor((e-20)/4),r=Math.min(t,n.length);return r<n.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+n.length+" bones. This GPU supports "+r+"."),0):r}}function y(e){let t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=Zt,t}function b(i,s,u,f,b){const x=f.fog,w=i.isMeshStandardMaterial?f.environment:null,_=t.get(i.envMap||w),S=p[i.type],M=b.isSkinnedMesh?v(b):0;let T,E;if(null!==i.precision&&(d=r.getMaxPrecision(i.precision),d!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead.")),S){const e=Ac[S];T=e.vertexShader,E=e.fragmentShader}else T=i.vertexShader,E=i.fragmentShader;const C=e.getRenderTarget(),A={isWebGL2:a,shaderID:S,shaderName:i.type,vertexShader:T,fragmentShader:E,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:d,instancing:!0===b.isInstancedMesh,instancingColor:!0===b.isInstancedMesh&&null!==b.instanceColor,supportsVertexTextures:h,outputEncoding:null!==C?y(C.texture):e.outputEncoding,map:!!i.map,mapEncoding:y(i.map),matcap:!!i.matcap,matcapEncoding:y(i.matcap),envMap:!!_,envMapMode:_&&_.mapping,envMapEncoding:y(_),envMapCubeUV:!!_&&(_.mapping===le||_.mapping===ue),lightMap:!!i.lightMap,lightMapEncoding:y(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:y(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===cn,tangentSpaceNormalMap:i.normalMapType===an,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmission:!!i.transmission,transmissionMap:!!i.transmissionMap,thicknessMap:!!i.thicknessMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&b.geometry&&b.geometry.attributes.color&&4===b.geometry.attributes.color.itemSize,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap||!!i.transmissionMap||!!i.thicknessMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmission||i.transmissionMap||i.thicknessMap)&&!!i.displacementMap,fog:!!x,useFog:i.fog,fogExp2:x&&x.isFogExp2,flatShading:!!i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:c,skinning:!0===b.isSkinnedMesh&&M>0,maxBones:M,useVertexTexture:l,morphTargets:i.morphTargets,morphNormals:i.morphNormals,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:K,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===g,flipSided:i.side===m,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()};return A}function x(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);if(!1===t.isRawShaderMaterial){for(let e=0;e<f.length;e++)n.push(t[f[e]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()}function w(e){const t=p[e.type];let n;if(t){const e=Ac[t];n=Bo.clone(e.uniforms)}else n=e.uniforms;return n}function _(t,n){let r;for(let e=0,i=s.length;e<i;e++){const t=s[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new _u(e,n,t,i),s.push(r)),r}function S(e){if(0===--e.usedTimes){const t=s.indexOf(e);s[t]=s[s.length-1],s.pop(),e.destroy()}}return{getParameters:b,getProgramCacheKey:x,getUniforms:w,acquireProgram:_,releaseProgram:S,programs:s}}function Mu(){let e=new WeakMap;function t(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n}function n(t){e.delete(t)}function r(t,n,r){e.get(t)[n]=r}function i(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:i}}function Tu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Eu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Cu(e){const t=[];let n=0;const r=[],i=[],o=[],s={id:-1};function a(){n=0,r.length=0,i.length=0,o.length=0}function c(r,i,o,a,c,l){let u=t[n];const h=e.get(o);return void 0===u?(u={id:r.id,object:r,geometry:i,material:o,program:h.program||s,groupOrder:a,renderOrder:r.renderOrder,z:c,group:l},t[n]=u):(u.id=r.id,u.object=r,u.geometry=i,u.material=o,u.program=h.program||s,u.groupOrder=a,u.renderOrder=r.renderOrder,u.z=c,u.group=l),n++,u}function l(e,t,n,s,a,l){const u=c(e,t,n,s,a,l);n.transmission>0?i.push(u):!0===n.transparent?o.push(u):r.push(u)}function u(e,t,n,s,a,l){const u=c(e,t,n,s,a,l);n.transmission>0?i.unshift(u):!0===n.transparent?o.unshift(u):r.unshift(u)}function h(e,t){r.length>1&&r.sort(e||Tu),i.length>1&&i.sort(t||Eu),o.length>1&&o.sort(t||Eu)}function d(){for(let e=n,r=t.length;e<r;e++){const n=t[e];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}}return{opaque:r,transmissive:i,transparent:o,init:a,push:l,unshift:u,finish:d,sort:h}}function Au(e){let t=new WeakMap;function n(n,r){let i;return!1===t.has(n)?(i=new Cu(e),t.set(n,[i])):r>=t.get(n).length?(i=new Cu(e),t.get(n).push(i)):i=t.get(n)[r],i}function r(){t=new WeakMap}return{get:n,dispose:r}}function Lu(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new xr,color:new Vi};break;case"SpotLight":n={position:new xr,direction:new xr,color:new Vi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new xr,color:new Vi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new xr,skyColor:new Vi,groundColor:new Vi};break;case"RectAreaLight":n={color:new Vi,position:new xr,halfWidth:new xr,halfHeight:new xr};break}return e[t.id]=n,n}}}function Ru(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new cr};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new cr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new cr,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let Ou=0;function Pu(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function ku(e,t){const n=new Lu,r=Ru(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new xr);const o=new xr,s=new Jr,a=new Jr;function c(o){let s=0,a=0,c=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let l=0,u=0,h=0,d=0,p=0,f=0,m=0,g=0;o.sort(Pu);for(let e=0,t=o.length;e<t;e++){const t=o[e],v=t.color,y=t.intensity,b=t.distance,x=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=v.r*y,a+=v.g*y,c+=v.b*y;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],y);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[l]=n,i.directionalShadowMap[l]=x,i.directionalShadowMatrix[l]=t.shadow.matrix,f++}i.directional[l]=e,l++}else if(t.isSpotLight){const e=n.get(t);if(e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(v).multiplyScalar(y),e.distance=b,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.spotShadow[h]=n,i.spotShadowMap[h]=x,i.spotShadowMatrix[h]=t.shadow.matrix,g++}i.spot[h]=e,h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(v).multiplyScalar(y),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[d]=e,d++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[u]=n,i.pointShadowMap[u]=x,i.pointShadowMatrix[u]=t.shadow.matrix,m++}i.point[u]=e,u++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(y),e.groundColor.copy(t.groundColor).multiplyScalar(y),i.hemi[p]=e,p++}}d>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Cc.LTC_FLOAT_1,i.rectAreaLTC2=Cc.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Cc.LTC_HALF_1,i.rectAreaLTC2=Cc.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=a,i.ambient[2]=c;const v=i.hash;v.directionalLength===l&&v.pointLength===u&&v.spotLength===h&&v.rectAreaLength===d&&v.hemiLength===p&&v.numDirectionalShadows===f&&v.numPointShadows===m&&v.numSpotShadows===g||(i.directional.length=l,i.spot.length=h,i.rectArea.length=d,i.point.length=u,i.hemi.length=p,i.directionalShadow.length=f,i.directionalShadowMap.length=f,i.pointShadow.length=m,i.pointShadowMap.length=m,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=f,i.pointShadowMatrix.length=m,i.spotShadowMatrix.length=g,v.directionalLength=l,v.pointLength=u,v.spotLength=h,v.rectAreaLength=d,v.hemiLength=p,v.numDirectionalShadows=f,v.numPointShadows=m,v.numSpotShadows=g,i.version=Ou++)}function l(e,t){let n=0,r=0,c=0,l=0,u=0;const h=t.matrixWorldInverse;for(let d=0,p=e.length;d<p;d++){const t=e[d];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=i.spot[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),c++}else if(t.isRectAreaLight){const e=i.rectArea[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),a.identity(),s.copy(t.matrixWorld),s.premultiply(h),a.extractRotation(s),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),l++}else if(t.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),r++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),e.direction.normalize(),u++}}}return{setup:c,setupView:l,state:i}}function Nu(e,t){const n=new ku(e,t),r=[],i=[];function o(){r.length=0,i.length=0}function s(e){r.push(e)}function a(e){i.push(e)}function c(){n.setup(r)}function l(e){n.setupView(r,e)}const u={lightsArray:r,shadowsArray:i,lights:n};return{init:o,state:u,setupLights:c,setupLightsView:l,pushLight:s,pushShadow:a}}function Fu(e,t){let n=new WeakMap;function r(r,i=0){let o;return!1===n.has(r)?(o=new Nu(e,t),n.set(r,[o])):i>=n.get(r).length?(o=new Nu(e,t),n.get(r).push(o)):o=n.get(r)[i],o}function i(){n=new WeakMap}return{get:r,dispose:i}}class Iu extends Fi{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=on,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Iu.prototype.isMeshDepthMaterial=!0;class Du extends Fi{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new xr,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Du.prototype.isMeshDistanceMaterial=!0;var Bu="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",zu="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function ju(e,t,n){let r=new ts;const i=new cr,o=new cr,s=new mr,a=[],c=[],l={},u=n.maxTextureSize,d={0:m,1:f,2:g},v=new Uo({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new cr},radius:{value:4}},vertexShader:zu,fragmentShader:Bu}),y=v.clone();y.defines.HORIZONTAL_PASS=1;const x=new fo;x.setAttribute("position",new $i(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new Po(x,v),_=this;function S(n,r){const i=t.update(w);v.uniforms.shadow_pass.value=n.map.texture,v.uniforms.resolution.value=n.mapSize,v.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,v,w,null),y.uniforms.shadow_pass.value=n.mapPass.texture,y.uniforms.resolution.value=n.mapSize,y.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,y,w,null)}function M(e){const t=e<<0;let n=a[t];return void 0===n&&(n=new Iu({depthPacking:sn,morphTargets:e}),a[t]=n),n}function T(e){const t=e<<0;let n=c[t];return void 0===n&&(n=new Du({morphTargets:e}),c[t]=n),n}function E(t,n,r,i,o,s,a){let c=null,u=M,h=t.customDepthMaterial;if(!0===i.isPointLight&&(u=T,h=t.customDistanceMaterial),void 0===h){let e=!1;!0===r.morphTargets&&(e=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0),c=u(e)}else c=h;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){const e=c.uuid,t=r.uuid;let n=l[e];void 0===n&&(n={},l[e]=n);let i=n[t];void 0===i&&(i=c.clone(),n[t]=i),c=i}return c.visible=r.visible,c.wireframe=r.wireframe,c.side=a===p?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:d[r.side],c.clipShadows=r.clipShadows,c.clippingPlanes=r.clippingPlanes,c.clipIntersection=r.clipIntersection,c.wireframeLinewidth=r.wireframeLinewidth,c.linewidth=r.linewidth,!0===i.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(i.matrixWorld),c.nearDistance=o,c.farDistance=s),c}function C(n,i,o,s,a){if(!1===n.visible)return;const c=n.layers.test(i.layers);if(c&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&a===p)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let c=0,l=t.length;c<l;c++){const l=t[c],u=i[l.materialIndex];if(u&&u.visible){const t=E(n,r,u,s,o.near,o.far,a);e.renderBufferDirect(o,null,r,t,n,l)}}}else if(i.visible){const t=E(n,r,i,s,o.near,o.far,a);e.renderBufferDirect(o,null,r,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)C(l[e],i,o,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=h,this.render=function(t,n,a){if(!1===_.enabled)return;if(!1===_.autoUpdate&&!1===_.needsUpdate)return;if(0===t.length)return;const c=e.getRenderTarget(),l=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(b),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let f=0,m=t.length;f<m;f++){const c=t[f],l=c.shadow;if(void 0===l){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===l.autoUpdate&&!1===l.needsUpdate)continue;i.copy(l.mapSize);const h=l.getFrameExtents();if(i.multiply(h),o.copy(l.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/h.x),i.x=o.x*h.x,l.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/h.y),i.y=o.y*h.y,l.mapSize.y=o.y)),null===l.map&&!l.isPointLightShadow&&this.type===p){const e={minFilter:be,magFilter:be,format:Be};l.map=new gr(i.x,i.y,e),l.map.texture.name=c.name+".shadowMap",l.mapPass=new gr(i.x,i.y,e),l.camera.updateProjectionMatrix()}if(null===l.map){const e={minFilter:fe,magFilter:fe,format:Be};l.map=new gr(i.x,i.y,e),l.map.texture.name=c.name+".shadowMap",l.camera.updateProjectionMatrix()}e.setRenderTarget(l.map),e.clear();const m=l.getViewportCount();for(let e=0;e<m;e++){const t=l.getViewport(e);s.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),d.viewport(s),l.updateMatrices(c,e),r=l.getFrustum(),C(n,a,l.camera,c,this.type)}l.isPointLightShadow||this.type!==p||S(l,a),l.needsUpdate=!1}_.needsUpdate=!1,e.setRenderTarget(c,l,h)}}function Uu(e,t,n){const r=n.isWebGL2;function i(){let t=!1;const n=new mr;let r=null;const i=new mr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,s,a){!0===a&&(t*=s,r*=s,o*=s),n.set(t,r,o,s),!1===i.equals(n)&&(e.clearColor(t,r,o,s),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}function o(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?we(2929):_e(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case U:e.depthFunc(512);break;case V:e.depthFunc(519);break;case G:e.depthFunc(513);break;case H:e.depthFunc(515);break;case W:e.depthFunc(514);break;case $:e.depthFunc(518);break;case q:e.depthFunc(516);break;case X:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}}function l(){let t=!1,n=null,r=null,i=null,o=null,s=null,a=null,c=null,l=null;return{setTest:function(e){t||(e?we(2960):_e(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,s){r===t&&i===n&&o===s||(e.stencilFunc(t,n,s),r=t,i=n,o=s)},setOp:function(t,n,r){s===t&&a===n&&c===r||(e.stencilOp(t,n,r),s=t,a=n,c=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,s=null,a=null,c=null,l=null}}}const u=new i,h=new o,d=new l;let p={},f=null,v={},y=null,Y=!1,Z=null,J=null,K=null,Q=null,ee=null,te=null,ne=null,re=!1,ie=null,oe=null,se=null,ae=null,ce=null;const le=e.getParameter(35661);let ue=!1,he=0;const de=e.getParameter(7938);-1!==de.indexOf("WebGL")?(he=parseFloat(/^WebGL (\d)/.exec(de)[1]),ue=he>=1):-1!==de.indexOf("OpenGL ES")&&(he=parseFloat(/^OpenGL ES (\d)/.exec(de)[1]),ue=he>=2);let pe=null,fe={};const me=e.getParameter(3088),ge=e.getParameter(2978),ve=(new mr).fromArray(me),ye=(new mr).fromArray(ge);function be(t,n,r){const i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let s=0;s<r;s++)e.texImage2D(n+s,0,6408,1,1,0,6408,5121,i);return o}const xe={};function we(t){!0!==p[t]&&(e.enable(t),p[t]=!0)}function _e(t){!1!==p[t]&&(e.disable(t),p[t]=!1)}function Se(t){t!==f&&(e.bindFramebuffer(36160,t),f=t)}function Me(t,n){return null===n&&null!==f&&(n=f),v[t]!==n&&(e.bindFramebuffer(t,n),v[t]=n,r&&(36009===t&&(v[36160]=n),36160===t&&(v[36009]=n)),!0)}function Te(t){return y!==t&&(e.useProgram(t),y=t,!0)}xe[3553]=be(3553,3553,1),xe[34067]=be(34067,34069,6),u.setClear(0,0,0,1),h.setClear(1),d.setClear(0),we(2929),h.setFunc(H),Re(!1),Oe(a),we(2884),Ae(b);const Ee={[T]:32774,[E]:32778,[C]:32779};if(r)Ee[A]=32775,Ee[L]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(Ee[A]=e.MIN_EXT,Ee[L]=e.MAX_EXT)}const Ce={[R]:0,[O]:1,[P]:768,[N]:770,[j]:776,[B]:774,[I]:772,[k]:769,[F]:771,[z]:775,[D]:773};function Ae(t,n,r,i,o,s,a,c){if(t!==b){if(!1===Y&&(we(3042),Y=!0),t===M)o=o||n,s=s||r,a=a||i,n===J&&o===ee||(e.blendEquationSeparate(Ee[n],Ee[o]),J=n,ee=o),r===K&&i===Q&&s===te&&a===ne||(e.blendFuncSeparate(Ce[r],Ce[i],Ce[s],Ce[a]),K=r,Q=i,te=s,ne=a),Z=t,re=null;else if(t!==Z||c!==re){if(J===T&&ee===T||(e.blendEquation(32774),J=T,ee=T),c)switch(t){case x:e.blendFuncSeparate(1,771,1,771);break;case w:e.blendFunc(1,1);break;case _:e.blendFuncSeparate(0,0,769,771);break;case S:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}else switch(t){case x:e.blendFuncSeparate(770,771,1,771);break;case w:e.blendFunc(770,1);break;case _:e.blendFunc(0,769);break;case S:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}K=null,Q=null,te=null,ne=null,Z=t,re=c}}else!0===Y&&(_e(3042),Y=!1)}function Le(e,t){e.side===g?_e(2884):we(2884);let n=e.side===m;t&&(n=!n),Re(n),e.blending===x&&!1===e.transparent?Ae(b):Ae(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),h.setFunc(e.depthFunc),h.setTest(e.depthTest),h.setMask(e.depthWrite),u.setMask(e.colorWrite);const r=e.stencilWrite;d.setTest(r),r&&(d.setMask(e.stencilWriteMask),d.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),d.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),ke(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?we(32926):_e(32926)}function Re(t){ie!==t&&(t?e.frontFace(2304):e.frontFace(2305),ie=t)}function Oe(t){t!==s?(we(2884),t!==oe&&(t===a?e.cullFace(1029):t===c?e.cullFace(1028):e.cullFace(1032))):_e(2884),oe=t}function Pe(t){t!==se&&(ue&&e.lineWidth(t),se=t)}function ke(t,n,r){t?(we(32823),ae===n&&ce===r||(e.polygonOffset(n,r),ae=n,ce=r)):_e(32823)}function Ne(e){e?we(3089):_e(3089)}function Fe(t){void 0===t&&(t=33984+le-1),pe!==t&&(e.activeTexture(t),pe=t)}function Ie(t,n){null===pe&&Fe();let r=fe[pe];void 0===r&&(r={type:void 0,texture:void 0},fe[pe]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||xe[t]),r.type=t,r.texture=n)}function De(){const t=fe[pe];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)}function Be(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function ze(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function je(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ue(t){!1===ve.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ve.copy(t))}function Ve(t){!1===ye.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),ye.copy(t))}function Ge(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===r&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),p={},pe=null,fe={},f=null,v={},y=null,Y=!1,Z=null,J=null,K=null,Q=null,ee=null,te=null,ne=null,re=!1,ie=null,oe=null,se=null,ae=null,ce=null,ve.set(0,0,e.canvas.width,e.canvas.height),ye.set(0,0,e.canvas.width,e.canvas.height),u.reset(),h.reset(),d.reset()}return{buffers:{color:u,depth:h,stencil:d},enable:we,disable:_e,bindFramebuffer:Me,bindXRFramebuffer:Se,useProgram:Te,setBlending:Ae,setMaterial:Le,setFlipSided:Re,setCullFace:Oe,setLineWidth:Pe,setPolygonOffset:ke,setScissorTest:Ne,activeTexture:Fe,bindTexture:Ie,unbindTexture:De,compressedTexImage2D:Be,texImage2D:ze,texImage3D:je,scissor:Ue,viewport:Ve,reset:Ge}}function Vu(e,t,n,r,i,o,s){const a=i.isWebGL2,c=i.maxTextures,l=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,d=new WeakMap;let p,f=!1;try{f="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Q){}function m(e,t){return f?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?or:Math.floor,o=r(i*e.width),s=r(i*e.height);void 0===p&&(p=m(o,s));const a=n?m(o,s):p;a.width=o,a.height=s;const c=a.getContext("2d");return c.drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function v(e){return rr(e.width)&&rr(e.height)}function y(e){return!a&&(e.wrapS!==de||e.wrapT!==de||e.minFilter!==fe&&e.minFilter!==be)}function b(e,t){return e.generateMipmaps&&t&&e.minFilter!==fe&&e.minFilter!==be}function x(t,n,i,o,s=1){e.generateMipmap(t);const a=r.get(n);a.__maxMipLevel=Math.log2(Math.max(i,o,s))}function w(n,r,i){if(!1===a)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=r;return 6403===r&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===r&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===r&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function _(e){return e===fe||e===me||e===ve?9728:9729}function S(e){const t=e.target;t.removeEventListener("dispose",S),T(t),t.isVideoTexture&&d.delete(t),s.memory.textures--}function M(e){const t=e.target;t.removeEventListener("dispose",M),E(t)}function T(t){const n=r.get(t);void 0!==n.__webglInit&&(e.deleteTexture(n.__webglTexture),r.remove(t))}function E(t){const n=t.texture,i=r.get(t),o=r.get(n);if(t){if(void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),s.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[t]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);i.__webglTexture&&(e.deleteTexture(i.__webglTexture),s.memory.textures--),r.remove(n[t])}r.remove(n),r.remove(t)}}let C=0;function A(){C=0}function L(){const e=C;return e>=c&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+c),C+=1,e}function R(e,t){const i=r.get(e);if(e.isVideoTexture&&X(e),e.version>0&&i.__version!==e.version){const n=e.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void B(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function O(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?B(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))}function P(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?B(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))}function k(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?z(i,e,t):(n.activeTexture(33984+t),n.bindTexture(34067,i.__webglTexture))}const N={[he]:10497,[de]:33071,[pe]:33648},F={[fe]:9728,[me]:9984,[ve]:9986,[be]:9729,[xe]:9985,[_e]:9987};function I(n,o,s){if(s?(e.texParameteri(n,10242,N[o.wrapS]),e.texParameteri(n,10243,N[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,N[o.wrapR]),e.texParameteri(n,10240,F[o.magFilter]),e.texParameteri(n,10241,F[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===de&&o.wrapT===de||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,_(o.magFilter)),e.texParameteri(n,10241,_(o.minFilter)),o.minFilter!==fe&&o.minFilter!==be&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const s=t.get("EXT_texture_filter_anisotropic");if(o.type===Re&&!1===t.has("OES_texture_float_linear"))return;if(!1===a&&o.type===Oe&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function D(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",S),t.__webglTexture=e.createTexture(),s.memory.textures++)}function B(t,r,i){let s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),D(t,r),n.activeTexture(33984+i),n.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);const c=y(r)&&!1===v(r.image),l=g(r.image,c,!1,u),h=v(l)||a,d=o.convert(r.format);let p,f=o.convert(r.type),m=w(r.internalFormat,d,f);I(s,r,h);const _=r.mipmaps;if(r.isDepthTexture)m=6402,a?m=r.type===Re?36012:r.type===Le?33190:r.type===Fe?35056:33189:r.type===Re&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Ve&&6402===m&&r.type!==Ce&&r.type!==Le&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Ce,f=o.convert(r.type)),r.format===Ge&&6402===m&&(m=34041,r.type!==Fe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Fe,f=o.convert(r.type))),n.texImage2D(3553,0,m,l.width,l.height,0,d,f,null);else if(r.isDataTexture)if(_.length>0&&h){for(let e=0,t=_.length;e<t;e++)p=_[e],n.texImage2D(3553,e,m,p.width,p.height,0,d,f,p.data);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,l.width,l.height,0,d,f,l.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(let e=0,t=_.length;e<t;e++)p=_[e],r.format!==Be&&r.format!==De?null!==d?n.compressedTexImage2D(3553,e,m,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,e,m,p.width,p.height,0,d,f,p.data);t.__maxMipLevel=_.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,l.width,l.height,l.depth,0,d,f,l.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,l.width,l.height,l.depth,0,d,f,l.data),t.__maxMipLevel=0;else if(_.length>0&&h){for(let e=0,t=_.length;e<t;e++)p=_[e],n.texImage2D(3553,e,m,d,f,p);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,d,f,l),t.__maxMipLevel=0;b(r,h)&&x(s,r,l.width,l.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function z(t,r,i){if(6!==r.image.length)return;D(t,r),n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);const s=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),c=r.image[0]&&r.image[0].isDataTexture,u=[];for(let e=0;e<6;e++)u[e]=s||c?c?r.image[e].image:r.image[e]:g(r.image[e],!1,!0,l);const h=u[0],d=v(h)||a,p=o.convert(r.format),f=o.convert(r.type),m=w(r.internalFormat,p,f);let y;if(I(34067,r,d),s){for(let e=0;e<6;e++){y=u[e].mipmaps;for(let t=0;t<y.length;t++){const i=y[t];r.format!==Be&&r.format!==De?null!==p?n.compressedTexImage2D(34069+e,t,m,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+e,t,m,i.width,i.height,0,p,f,i.data)}}t.__maxMipLevel=y.length-1}else{y=r.mipmaps;for(let e=0;e<6;e++)if(c){n.texImage2D(34069+e,0,m,u[e].width,u[e].height,0,p,f,u[e].data);for(let t=0;t<y.length;t++){const r=y[t],i=r.image[e].image;n.texImage2D(34069+e,t+1,m,i.width,i.height,0,p,f,i.data)}}else{n.texImage2D(34069+e,0,m,p,f,u[e]);for(let t=0;t<y.length;t++){const r=y[t];n.texImage2D(34069+e,t+1,m,p,f,r.image[e])}}t.__maxMipLevel=y.length}b(r,d)&&x(34067,r,h.width,h.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function j(t,i,s,a,c){const l=o.convert(s.format),u=o.convert(s.type),h=w(s.internalFormat,l,u);32879===c||35866===c?n.texImage3D(c,0,h,i.width,i.height,i.depth,0,l,u,null):n.texImage2D(c,0,h,i.width,i.height,0,l,u,null),n.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,c,r.get(s).__webglTexture,0),n.bindFramebuffer(36160,null)}function U(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Re?i=36012:t.type===Le&&(i=33190));const r=q(n);e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){const t=q(n);e.renderbufferStorageMultisample(36161,t,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,i=o.convert(t.format),s=o.convert(t.type),a=w(t.internalFormat,i,s);if(r){const t=q(n);e.renderbufferStorageMultisample(36161,t,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height)}e.bindRenderbuffer(36161,null)}function V(t,i){const o=i&&i.isWebGLCubeRenderTarget;if(o)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),R(i.depthTexture,0);const s=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===Ve)e.framebufferTexture2D(36160,36096,3553,s,0);else{if(i.depthTexture.format!==Ge)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,s,0)}}function G(t){const i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(o)throw new Error("target.depthTexture not supported in Cube render targets");V(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(36160,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),U(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),U(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function H(t){const c=t.texture,l=r.get(t),u=r.get(c);t.addEventListener("dispose",M),!0!==t.isWebGLMultipleRenderTargets&&(u.__webglTexture=e.createTexture(),u.__version=c.version,s.memory.textures++);const h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,p=!0===t.isWebGLMultisampleRenderTarget,f=c.isDataTexture3D||c.isDataTexture2DArray,m=v(t)||a;if(!a||c.format!==De||c.type!==Re&&c.type!==Oe||(c.format=Be,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),h){l.__webglFramebuffer=[];for(let t=0;t<6;t++)l.__webglFramebuffer[t]=e.createFramebuffer()}else if(l.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(p)if(a){l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer);const r=o.convert(c.format),i=o.convert(c.type),s=w(c.internalFormat,r,i),a=q(t);e.renderbufferStorageMultisample(36161,a,s,t.width,t.height),n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),U(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(h){n.bindTexture(34067,u.__webglTexture),I(34067,c,m);for(let e=0;e<6;e++)j(l.__webglFramebuffer[e],t,c,36064,34069+e);b(c,m)&&x(34067,c,t.width,t.height),n.bindTexture(34067,null)}else if(d){const e=t.texture;for(let i=0,o=e.length;i<o;i++){const o=e[i],s=r.get(o);n.bindTexture(3553,s.__webglTexture),I(3553,o,m),j(l.__webglFramebuffer,t,o,36064+i,3553),b(o,m)&&x(3553,o,t.width,t.height)}n.bindTexture(3553,null)}else{let e=3553;if(f)if(a){const t=c.isDataTexture3D;e=t?32879:35866}else console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.");n.bindTexture(e,u.__webglTexture),I(e,c,m),j(l.__webglFramebuffer,t,c,36064,e),b(c,m)&&x(e,c,t.width,t.height,t.depth),n.bindTexture(e,null)}t.depthBuffer&&G(t)}function W(e){const t=v(e)||a,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let o=0,s=i.length;o<s;o++){const s=i[o];if(b(s,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,i=r.get(s).__webglTexture;n.bindTexture(t,i),x(t,s,e.width,e.height),n.bindTexture(t,null)}}}function $(t){if(t.isWebGLMultisampleRenderTarget)if(a){const i=t.width,o=t.height;let s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024);const a=r.get(t);n.bindFramebuffer(36008,a.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,a.__webglFramebuffer),e.blitFramebuffer(0,0,i,o,0,0,i,o,s,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,a.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function q(e){return a&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}function X(e){const t=s.render.frame;d.get(e)!==t&&(d.set(e,t),e.update())}let Y=!1,Z=!1;function J(e,t){e&&e.isWebGLRenderTarget&&(!1===Y&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Y=!0),e=e.texture),R(e,t)}function K(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===Z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Z=!0),e=e.texture),k(e,t)}this.allocateTextureUnit=L,this.resetTextureUnits=A,this.setTexture2D=R,this.setTexture2DArray=O,this.setTexture3D=P,this.setTextureCube=k,this.setupRenderTarget=H,this.updateRenderTargetMipmap=W,this.updateMultisampleRenderTarget=$,this.safeSetTexture2D=J,this.safeSetTextureCube=K}function Gu(e,t,n){const r=n.isWebGL2;function i(e){let n;if(e===Me)return 5121;if(e===Pe)return 32819;if(e===ke)return 32820;if(e===Ne)return 33635;if(e===Te)return 5120;if(e===Ee)return 5122;if(e===Ce)return 5123;if(e===Ae)return 5124;if(e===Le)return 5125;if(e===Re)return 5126;if(e===Oe)return r?5131:(n=t.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(e===Ie)return 6406;if(e===De)return 6407;if(e===Be)return 6408;if(e===ze)return 6409;if(e===je)return 6410;if(e===Ve)return 6402;if(e===Ge)return 34041;if(e===He)return 6403;if(e===We)return 36244;if(e===$e)return 33319;if(e===qe)return 33320;if(e===Xe)return 36248;if(e===Ye)return 36249;if(e===Ze||e===Je||e===Ke||e===Qe){if(n=t.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(e===Ze)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Je)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ke)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Qe)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===et||e===tt||e===nt||e===rt){if(n=t.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(e===et)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===tt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===nt)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===rt)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===it)return n=t.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===ot||e===st)&&(n=t.get("WEBGL_compressed_texture_etc"),null!==n)){if(e===ot)return n.COMPRESSED_RGB8_ETC2;if(e===st)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===at||e===ct||e===lt||e===ut||e===ht||e===dt||e===pt||e===ft||e===mt||e===gt||e===vt||e===yt||e===bt||e===xt||e===_t||e===St||e===Mt||e===Tt||e===Et||e===Ct||e===At||e===Lt||e===Rt||e===Ot||e===Pt||e===kt||e===Nt||e===Ft?(n=t.get("WEBGL_compressed_texture_astc"),null!==n?e:null):e===wt?(n=t.get("EXT_texture_compression_bptc"),null!==n?e:null):e===Fe?r?34042:(n=t.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}return{convert:i}}class Hu extends Go{constructor(e=[]){super(),this.cameras=e}}Hu.prototype.isArrayCamera=!0;class Wu extends _i{constructor(){super(),this.type="Group"}}Wu.prototype.isGroup=!0;const $u={type:"move"};class qu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Wu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Wu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new xr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new xr),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Wu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new xr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new xr),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,o=null;const s=this._targetRay,a=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==s&&(r=t.getPose(e.targetRaySpace,n),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent($u))),c&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n);if(void 0===c.joints[o.jointName]){const e=new Wu;e.matrixAutoUpdate=!1,e.visible=!1,c.joints[o.jointName]=e,c.add(e)}const r=c.joints[o.jointName];null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.jointRadius=e.radius),r.visible=null!==e}const r=c.joints["index-finger-tip"],i=c.joints["thumb-tip"],s=r.position.distanceTo(i.position),a=.02,l=.005;c.inputState.pinching&&s>a+l?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&s<=a-l&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1));return null!==s&&(s.visible=null!==r),null!==a&&(a.visible=null!==i),null!==c&&(c.visible=null!==o),this}}class Xu extends In{constructor(e,t){super();const n=this,r=e.state;let i=null,o=1,s=null,a="local-floor",c=null,l=null,u=null,h=null;const d=[],p=new Map,f=new Go;f.layers.enable(1),f.viewport=new mr;const m=new Go;m.layers.enable(2),m.viewport=new mr;const g=[f,m],v=new Hu;v.layers.enable(1),v.layers.enable(2);let y=null,b=null;function x(e){const t=p.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function w(){p.forEach((function(e,t){e.disconnect(t)})),p.clear(),y=null,b=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),L.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function _(e){const t=i.inputSources;for(let n=0;n<d.length;n++)p.set(t[n],d[n]);for(let n=0;n<e.removed.length;n++){const t=e.removed[n],r=p.get(t);r&&(r.dispatchEvent({type:"disconnected",data:t}),p.delete(t))}for(let n=0;n<e.added.length;n++){const t=e.added[n],r=p.get(t);r&&r.dispatchEvent({type:"connected",data:t})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=d[e];return void 0===t&&(t=new qu,d[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=d[e];return void 0===t&&(t=new qu,d[e]=t),t.getGripSpace()},this.getHand=function(e){let t=d[e];return void 0===t&&(t=new qu,d[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getSession=function(){return i},this.setSession=async function(e){if(i=e,null!==i){i.addEventListener("select",x),i.addEventListener("selectstart",x),i.addEventListener("selectend",x),i.addEventListener("squeeze",x),i.addEventListener("squeezestart",x),i.addEventListener("squeezeend",x),i.addEventListener("end",w),i.addEventListener("inputsourceschange",_);const e=t.getContextAttributes();if(!0!==e.xrCompatible&&await t.makeXRCompatible(),void 0===i.renderState.layers){const n={antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:o},r=new XRWebGLLayer(i,t,n);i.updateRenderState({baseLayer:r})}else{let n=0;e.depth&&(n=e.stencil?34041:6402);const r={colorFormat:e.alpha?6408:6407,depthFormat:n,scaleFactor:o};l=new XRWebGLBinding(i,t),h=l.createProjectionLayer(r),u=t.createFramebuffer(),i.updateRenderState({layers:[h]})}s=await i.requestReferenceSpace(a),L.setContext(i),L.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const S=new xr,M=new xr;function T(e,t,n){S.setFromMatrixPosition(t.matrixWorld),M.setFromMatrixPosition(n.matrixWorld);const r=S.distanceTo(M),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,s=i[14]/(i[10]-1),a=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],d=s*u,p=s*h,f=r/(-u+h),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=s+f,v=a+f,y=d-m,b=p+(r-m),x=c*a/v*g,w=l*a/v*g;e.projectionMatrix.makePerspective(y,b,x,w,g,v)}function E(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===i)return;v.near=m.near=f.near=e.near,v.far=m.far=f.far=e.far,y===v.near&&b===v.far||(i.updateRenderState({depthNear:v.near,depthFar:v.far}),y=v.near,b=v.far);const t=e.parent,n=v.cameras;E(v,t);for(let i=0;i<n.length;i++)E(n[i],t);v.matrixWorld.decompose(v.position,v.quaternion,v.scale),e.position.copy(v.position),e.quaternion.copy(v.quaternion),e.scale.copy(v.scale),e.matrix.copy(v.matrix),e.matrixWorld.copy(v.matrixWorld);const r=e.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(!0);2===n.length?T(v,f,m):v.projectionMatrix.copy(f.projectionMatrix)},this.getCamera=function(){return v};let C=null;function A(e,n){if(c=n.getViewerPose(s),null!==c){const e=c.views,n=i.renderState.baseLayer;void 0===i.renderState.layers&&r.bindXRFramebuffer(n.framebuffer);let o=!1;e.length!==v.cameras.length&&(v.cameras.length=0,o=!0);for(let s=0;s<e.length;s++){const a=e[s];let c=null;if(void 0===i.renderState.layers)c=n.getViewport(a);else{const e=l.getViewSubImage(h,a);r.bindXRFramebuffer(u),t.framebufferTexture2D(36160,36064,3553,e.colorTexture,0),void 0!==e.depthStencilTexture&&t.framebufferTexture2D(36160,36096,3553,e.depthStencilTexture,0),c=e.viewport}const d=g[s];d.matrix.fromArray(a.transform.matrix),d.projectionMatrix.fromArray(a.projectionMatrix),d.viewport.set(c.x,c.y,c.width,c.height),0===s&&v.matrix.copy(d.matrix),!0===o&&v.cameras.push(d)}}const o=i.inputSources;for(let t=0;t<d.length;t++){const e=d[t],r=o[t];e.update(r,n,s)}C&&C(e,n)}const L=new ns;L.setAnimationLoop(A),this.setAnimationLoop=function(e){C=e},this.dispose=function(){}}}function Yu(e){function t(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function n(e,t,n,m,y){t.isMeshBasicMaterial?r(e,t):t.isMeshLambertMaterial?(r(e,t),c(e,t)):t.isMeshToonMaterial?(r(e,t),u(e,t)):t.isMeshPhongMaterial?(r(e,t),l(e,t)):t.isMeshStandardMaterial?(r(e,t),t.isMeshPhysicalMaterial?d(e,t,y):h(e,t)):t.isMeshMatcapMaterial?(r(e,t),p(e,t)):t.isMeshDepthMaterial?(r(e,t),f(e,t)):t.isMeshDistanceMaterial?(r(e,t),g(e,t)):t.isMeshNormalMaterial?(r(e,t),v(e,t)):t.isLineBasicMaterial?(i(e,t),t.isLineDashedMaterial&&o(e,t)):t.isPointsMaterial?s(e,t,n,m):t.isSpriteMaterial?a(e,t):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}function r(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);const r=e.get(n).envMap;if(r){t.envMap.value=r,t.flipEnvMap.value=r.isCubeTexture&&r._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;const i=e.get(r).__maxMipLevel;void 0!==i&&(t.maxMipLevel.value=i)}let i,o;n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(i=n.clearcoatRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function i(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}function o(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function s(e,t,n,r){let i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}function a(e,t){let n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function c(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function l(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===m&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===m&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function u(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===m&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===m&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function h(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===m&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===m&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias);const r=e.get(n).envMap;r&&(t.envMapIntensity.value=n.envMapIntensity)}function d(e,t,n){h(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===m&&e.clearcoatNormalScale.value.negate()),e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),t.transmission>0&&(e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)}function p(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===m&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===m&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function f(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function g(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function v(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===m&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===m&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function Zu(){const e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}function Ju(e={}){const t=void 0!==e.canvas?e.canvas:Zu(),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h=null,d=null;const p=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Zt,this.physicallyCorrectLights=!1,this.toneMapping=K,this.toneMappingExposure=1;const y=this;let b=!1,x=0,w=0,_=null,S=-1,M=null;const T=new mr,E=new mr;let C=null,A=t.width,L=t.height,R=1,O=null,P=null;const k=new mr(0,0,A,L),N=new mr(0,0,A,L);let F=!1;const I=[],D=new ts;let B=!1,z=!1,j=null;const U=new Jr,V=new xr,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===_?R:1}let W,$,q,X,Y,Z,J,Q,ee,te,ne,re,ie,oe,se,ae,ce,le,ue,he,pe,me,ge=n;function ve(e,n){for(let r=0;r<e.length;r++){const i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{const e={alpha:r,depth:i,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",we,!1),null===ge){const t=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&t.shift(),ge=ve(t,e),null===ge)throw ve(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ge.getShaderPrecisionFormat&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(We){throw console.error("THREE.WebGLRenderer: "+We.message),We}function ye(){W=new Fc(ge),$=new Pc(ge,W,e),W.init($),pe=new Gu(ge,W,$),q=new Uu(ge,W,$),I[0]=1029,X=new Bc(ge),Y=new Mu,Z=new Vu(ge,W,q,Y,$,pe,X),J=new Nc(y),Q=new rs(ge,$),me=new Rc(ge,W,Q,$),ee=new Ic(ge,Q,X,me),te=new Vc(ge,ee,Q,X),le=new Uc(ge),se=new kc(Y),ne=new Su(y,J,W,$,me,se),re=new Yu(Y),ie=new Au(Y),oe=new Fu(W,$),ce=new Lc(y,J,q,te,a),ae=new ju(y,te,$),ue=new Oc(ge,W,X,$),he=new Dc(ge,W,X,$),X.programs=ne.programs,y.capabilities=$,y.extensions=W,y.properties=Y,y.renderLists=ie,y.shadowMap=ae,y.state=q,y.info=X}ye();const be=new Xu(y,ge);function xe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=X.autoReset,t=ae.enabled,n=ae.autoUpdate,r=ae.needsUpdate,i=ae.type;ye(),X.autoReset=e,ae.enabled=t,ae.autoUpdate=n,ae.needsUpdate=r,ae.type=i}function Se(e){const t=e.target;t.removeEventListener("dispose",Se),Te(t)}function Te(e){Ee(e),Y.remove(e)}function Ee(e){const t=Y.get(e).programs;void 0!==t&&t.forEach((function(e){ne.releaseProgram(e)}))}function Ce(e,t){e.render((function(e){y.renderBufferImmediate(e,t)}))}this.xr=be,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){const e=W.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=W.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(e){void 0!==e&&(R=e,this.setSize(A,L,!1))},this.getSize=function(e){return e.set(A,L)},this.setSize=function(e,n,r){be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(A=e,L=n,t.width=Math.floor(e*R),t.height=Math.floor(n*R),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(A*R,L*R).floor()},this.setDrawingBufferSize=function(e,n,r){A=e,L=n,R=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(T)},this.getViewport=function(e){return e.copy(k)},this.setViewport=function(e,t,n,r){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,r),q.viewport(T.copy(k).multiplyScalar(R).floor())},this.getScissor=function(e){return e.copy(N)},this.setScissor=function(e,t,n,r){e.isVector4?N.set(e.x,e.y,e.z,e.w):N.set(e,t,n,r),q.scissor(E.copy(N).multiplyScalar(R).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){q.setScissorTest(F=e)},this.setOpaqueSort=function(e){O=e},this.setTransparentSort=function(e){P=e},this.getClearColor=function(e){return e.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function(e,t,n){let r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),ge.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",we,!1),ie.dispose(),oe.dispose(),Y.dispose(),J.dispose(),te.dispose(),me.dispose(),be.dispose(),be.removeEventListener("sessionstart",Pe),be.removeEventListener("sessionend",ke),j&&(j.dispose(),j=null),Ne.stop()},this.renderBufferImmediate=function(e,t){me.initAttributes();const n=Y.get(e);e.hasPositions&&!n.position&&(n.position=ge.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ge.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ge.createBuffer()),e.hasColors&&!n.color&&(n.color=ge.createBuffer());const r=t.getAttributes();e.hasPositions&&(ge.bindBuffer(34962,n.position),ge.bufferData(34962,e.positionArray,35048),me.enableAttribute(r.position),ge.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(ge.bindBuffer(34962,n.normal),ge.bufferData(34962,e.normalArray,35048),me.enableAttribute(r.normal),ge.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(ge.bindBuffer(34962,n.uv),ge.bufferData(34962,e.uvArray,35048),me.enableAttribute(r.uv),ge.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(ge.bindBuffer(34962,n.color),ge.bufferData(34962,e.colorArray,35048),me.enableAttribute(r.color),ge.vertexAttribPointer(r.color,3,5126,!1,0,0)),me.disableUnusedAttributes(),ge.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=G);const s=i.isMesh&&i.matrixWorld.determinant()<0,a=Ve(e,t,r,i);q.setMaterial(r,s);let c=n.index;const l=n.attributes.position;if(null===c){if(void 0===l||0===l.count)return}else if(0===c.count)return;let u,h=1;!0===r.wireframe&&(c=ee.getWireframeAttribute(n),h=2),(r.morphTargets||r.morphNormals)&&le.update(i,n,r,a),me.setup(i,r,a,n,c);let d=ue;null!==c&&(u=Q.get(c),d=he,d.setIndex(u));const p=null!==c?c.count:l.count,f=n.drawRange.start*h,m=n.drawRange.count*h,g=null!==o?o.start*h:0,v=null!==o?o.count*h:1/0,y=Math.max(f,g),b=Math.min(p,f+m,g+v)-1,x=Math.max(0,b-y+1);if(0!==x){if(i.isMesh)!0===r.wireframe?(q.setLineWidth(r.wireframeLinewidth*H()),d.setMode(1)):d.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),q.setLineWidth(e*H()),i.isLineSegments?d.setMode(1):i.isLineLoop?d.setMode(2):d.setMode(3)}else i.isPoints?d.setMode(0):i.isSprite&&d.setMode(4);if(i.isInstancedMesh)d.renderInstances(y,x,i.count);else if(n.isInstancedBufferGeometry){const e=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,x,e)}else d.render(y,x)}},this.compile=function(e,t){d=oe.get(e),d.init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(),e.traverse((function(t){const n=t.material;if(n)if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];je(i,e,t)}else je(n,e,t)}))};let Ae=null;function Le(e){Ae&&Ae(e)}function Pe(){Ne.stop()}function ke(){Ne.start()}const Ne=new ns;function Fe(e,t,n,r){if(!1===e.visible)return;const i=e.layers.test(t.layers);if(i)if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){r&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U);const t=te.update(e),i=e.material;i.visible&&h.push(e,t,i,n,V.z,null)}}else if(e.isImmediateRenderObject)r&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U),h.push(e,null,e.material,n,V.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==X.render.frame&&(e.skeleton.update(),e.skeleton.frame=X.render.frame),!e.frustumCulled||D.intersectsObject(e))){r&&V.setFromMatrixPosition(e.matrixWorld).applyMatrix4(U);const t=te.update(e),i=e.material;if(Array.isArray(i)){const r=t.groups;for(let o=0,s=r.length;o<s;o++){const s=r[o],a=i[s.materialIndex];a&&a.visible&&h.push(e,t,a,n,V.z,s)}}else i.visible&&h.push(e,t,i,n,V.z,null)}const o=e.children;for(let s=0,a=o.length;s<a;s++)Fe(o[s],t,n,r)}function Ie(e,t,n,r){if(null===j){const e=!0===s&&!0===$.isWebGL2,t=e?yr:gr;j=new t(1024,1024,{generateMipmaps:!0,type:null!==pe.convert(Oe)?Oe:Me,minFilter:_e,magFilter:fe,wrapS:de,wrapT:de})}const i=y.getRenderTarget();y.setRenderTarget(j),y.clear();const o=y.toneMapping;y.toneMapping=K,De(e,n,r),y.toneMapping=o,Z.updateMultisampleRenderTarget(j),Z.updateRenderTargetMipmap(j),y.setRenderTarget(i),De(t,n,r)}function De(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],s=o.object,a=o.geometry,c=null===r?o.material:r,l=o.group;if(n.isArrayCamera){const e=n.cameras;for(let n=0,r=e.length;n<r;n++){const r=e[n];s.layers.test(r.layers)&&(q.viewport(T.copy(r.viewport)),d.setupLightsView(r),ze(s,t,r,a,c,l))}}else ze(s,t,n,a,c,l)}}function ze(e,t,n,r,i,o){if(e.onBeforeRender(y,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){const r=Ve(n,t,i,e);q.setMaterial(i),me.reset(),Ce(e,r)}else!0===i.transparent&&i.side===g?(i.side=m,i.needsUpdate=!0,y.renderBufferDirect(n,t,r,i,e,o),i.side=f,i.needsUpdate=!0,y.renderBufferDirect(n,t,r,i,e,o),i.side=g):y.renderBufferDirect(n,t,r,i,e,o);e.onAfterRender(y,t,n,r,i,o)}function je(e,t,n){!0!==t.isScene&&(t=G);const r=Y.get(e),i=d.state.lights,o=d.state.shadowsArray,s=i.state.version,a=ne.getParameters(e,i.state,o,t,n),c=ne.getProgramCacheKey(a);let l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=J.get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Se),l=new Map,r.programs=l);let u=l.get(c);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===s)return Ue(e,a),u}else a.uniforms=ne.getUniforms(e),e.onBuild(a,y),e.onBeforeCompile(a,y),u=ne.acquireProgram(a,c),l.set(c,u),r.uniforms=a.uniforms;const h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=se.uniform),Ue(e,a),r.needsLights=He(e),r.lightsStateVersion=s,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotShadowMatrix.value=i.state.spotShadowMatrix,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);const p=u.getUniforms(),f=Xl.seqWithValue(p.seq,h);return r.currentProgram=u,r.uniformsList=f,u}function Ue(e,t){const n=Y.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas}function Ve(e,t,n,r){!0!==t.isScene&&(t=G),Z.resetTextureUnits();const i=t.fog,o=n.isMeshStandardMaterial?t.environment:null,s=null===_?y.outputEncoding:_.texture.encoding,a=J.get(n.envMap||o),c=!0===n.vertexColors&&r.geometry&&r.geometry.attributes.color&&4===r.geometry.attributes.color.itemSize,l=Y.get(n),u=d.state.lights;if(!0===B&&(!0===z||e!==M)){const t=e===M&&n.id===S;se.setState(n,e,t)}let h=!1;n.version===l.__version?l.needsLights&&l.lightsStateVersion!==u.state.version||l.outputEncoding!==s||r.isInstancedMesh&&!1===l.instancing?h=!0:r.isInstancedMesh||!0!==l.instancing?r.isSkinnedMesh&&!1===l.skinning?h=!0:r.isSkinnedMesh||!0!==l.skinning?l.envMap!==a||n.fog&&l.fog!==i?h=!0:void 0===l.numClippingPlanes||l.numClippingPlanes===se.numPlanes&&l.numIntersection===se.numIntersection?l.vertexAlphas!==c&&(h=!0):h=!0:h=!0:h=!0:(h=!0,l.__version=n.version);let p=l.currentProgram;!0===h&&(p=je(n,t,r));let f=!1,m=!1,g=!1;const v=p.getUniforms(),b=l.uniforms;if(q.useProgram(p.program)&&(f=!0,m=!0,g=!0),n.id!==S&&(S=n.id,m=!0),f||M!==e){if(v.setValue(ge,"projectionMatrix",e.projectionMatrix),$.logarithmicDepthBuffer&&v.setValue(ge,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),M!==e&&(M=e,m=!0,g=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const t=v.map.cameraPosition;void 0!==t&&t.setValue(ge,V.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&v.setValue(ge,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||r.isSkinnedMesh)&&v.setValue(ge,"viewMatrix",e.matrixWorldInverse)}if(r.isSkinnedMesh){v.setOptional(ge,r,"bindMatrix"),v.setOptional(ge,r,"bindMatrixInverse");const e=r.skeleton;e&&($.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),v.setValue(ge,"boneTexture",e.boneTexture,Z),v.setValue(ge,"boneTextureSize",e.boneTextureSize)):v.setOptional(ge,e,"boneMatrices"))}return(m||l.receiveShadow!==r.receiveShadow)&&(l.receiveShadow=r.receiveShadow,v.setValue(ge,"receiveShadow",r.receiveShadow)),m&&(v.setValue(ge,"toneMappingExposure",y.toneMappingExposure),l.needsLights&&Ge(b,g),i&&n.fog&&re.refreshFogUniforms(b,i),re.refreshMaterialUniforms(b,n,R,L,j),Xl.upload(ge,l.uniformsList,b,Z)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Xl.upload(ge,l.uniformsList,b,Z),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&v.setValue(ge,"center",r.center),v.setValue(ge,"modelViewMatrix",r.modelViewMatrix),v.setValue(ge,"normalMatrix",r.normalMatrix),v.setValue(ge,"modelMatrix",r.matrixWorld),p}function Ge(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function He(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Ne.setAnimationLoop(Le),"undefined"!==typeof window&&Ne.setContext(window),this.setAnimationLoop=function(e){Ae=e,be.setAnimationLoop(e),null===e?Ne.stop():Ne.start()},be.addEventListener("sessionstart",Pe),be.addEventListener("sessionend",ke),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(!0===be.cameraAutoUpdate&&be.updateCamera(t),t=be.getCamera()),!0===e.isScene&&e.onBeforeRender(y,e,t,_),d=oe.get(e,v.length),d.init(),v.push(d),U.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(U),z=this.localClippingEnabled,B=se.init(this.clippingPlanes,z,t),h=ie.get(e,p.length),h.init(),p.push(h),Fe(e,t,0,y.sortObjects),h.finish(),!0===y.sortObjects&&h.sort(O,P),!0===B&&se.beginShadows();const n=d.state.shadowsArray;ae.render(n,e,t),d.setupLights(),d.setupLightsView(t),!0===B&&se.endShadows(),!0===this.info.autoReset&&this.info.reset(),ce.render(h,e);const r=h.opaque,i=h.transmissive,o=h.transparent;r.length>0&&De(r,e,t),i.length>0&&Ie(r,i,e,t),o.length>0&&De(o,e,t),null!==_&&(Z.updateMultisampleRenderTarget(_),Z.updateRenderTargetMipmap(_)),!0===e.isScene&&e.onAfterRender(y,e,t),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1),me.resetDefaultState(),S=-1,M=null,v.pop(),d=v.length>0?v[v.length-1]:null,p.pop(),h=p.length>0?p[p.length-1]:null},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return _},this.setRenderTarget=function(e,t=0,n=0){_=e,x=t,w=n,e&&void 0===Y.get(e).__webglFramebuffer&&Z.setupRenderTarget(e);let r=null,i=!1,o=!1;if(e){const n=e.texture;(n.isDataTexture3D||n.isDataTexture2DArray)&&(o=!0);const s=Y.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=s[t],i=!0):r=e.isWebGLMultisampleRenderTarget?Y.get(e).__webglMultisampledFramebuffer:s,T.copy(e.viewport),E.copy(e.scissor),C=e.scissorTest}else T.copy(k).multiplyScalar(R).floor(),E.copy(N).multiplyScalar(R).floor(),C=F;const s=q.bindFramebuffer(36160,r);if(s&&$.drawBuffers){let t=!1;if(e)if(e.isWebGLMultipleRenderTargets){const n=e.texture;if(I.length!==n.length||36064!==I[0]){for(let e=0,t=n.length;e<t;e++)I[e]=36064+e;I.length=n.length,t=!0}}else 1===I.length&&36064===I[0]||(I[0]=36064,I.length=1,t=!0);else 1===I.length&&1029===I[0]||(I[0]=1029,I.length=1,t=!0);t&&($.isWebGL2?ge.drawBuffers(I):W.get("WEBGL_draw_buffers").drawBuffersWEBGL(I))}if(q.viewport(T),q.scissor(E),q.setScissorTest(C),i){const r=Y.get(e.texture);ge.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,n)}else if(o){const r=Y.get(e.texture),i=t||0;ge.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,i)}},this.readRenderTargetPixels=function(e,t,n,r,i,o,s){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=Y.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){q.bindFramebuffer(36160,a);try{const s=e.texture,a=s.format,c=s.type;if(a!==Be&&pe.convert(a)!==ge.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const l=c===Oe&&(W.has("EXT_color_buffer_half_float")||$.isWebGL2&&W.has("EXT_color_buffer_float"));if(c!==Me&&pe.convert(c)!==ge.getParameter(35738)&&(c!==Re||!($.isWebGL2||W.has("OES_texture_float")||W.has("WEBGL_color_buffer_float")))&&!l)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ge.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ge.readPixels(t,n,r,i,pe.convert(a),pe.convert(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const e=null!==_?Y.get(_).__webglFramebuffer:null;q.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);let s=pe.convert(t.format);$.isWebGL2&&(6407===s&&(s=32849),6408===s&&(s=32856)),Z.setTexture2D(t,0),ge.copyTexImage2D(3553,n,s,e.x,e.y,i,o,0),q.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r=0){const i=t.image.width,o=t.image.height,s=pe.convert(n.format),a=pe.convert(n.type);Z.setTexture2D(n,0),ge.pixelStorei(37440,n.flipY),ge.pixelStorei(37441,n.premultiplyAlpha),ge.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ge.texSubImage2D(3553,r,e.x,e.y,i,o,s,a,t.image.data):t.isCompressedTexture?ge.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,s,t.mipmaps[0].data):ge.texSubImage2D(3553,r,e.x,e.y,s,a,t.image),0===r&&n.generateMipmaps&&ge.generateMipmap(3553),q.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r,i=0){if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,a=e.max.z-e.min.z+1,c=pe.convert(r.format),l=pe.convert(r.type);let u;if(r.isDataTexture3D)Z.setTexture3D(r,0),u=32879;else{if(!r.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Z.setTexture2DArray(r,0),u=35866}ge.pixelStorei(37440,r.flipY),ge.pixelStorei(37441,r.premultiplyAlpha),ge.pixelStorei(3317,r.unpackAlignment);const h=ge.getParameter(3314),d=ge.getParameter(32878),p=ge.getParameter(3316),f=ge.getParameter(3315),m=ge.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ge.pixelStorei(3314,g.width),ge.pixelStorei(32878,g.height),ge.pixelStorei(3316,e.min.x),ge.pixelStorei(3315,e.min.y),ge.pixelStorei(32877,e.min.z),n.isDataTexture||n.isDataTexture3D?ge.texSubImage3D(u,i,t.x,t.y,t.z,o,s,a,c,l,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ge.compressedTexSubImage3D(u,i,t.x,t.y,t.z,o,s,a,c,g.data)):ge.texSubImage3D(u,i,t.x,t.y,t.z,o,s,a,c,l,g),ge.pixelStorei(3314,h),ge.pixelStorei(32878,d),ge.pixelStorei(3316,p),ge.pixelStorei(3315,f),ge.pixelStorei(32877,m),0===i&&r.generateMipmaps&&ge.generateMipmap(u),q.unbindTexture()},this.initTexture=function(e){Z.setTexture2D(e,0),q.unbindTexture()},this.resetState=function(){x=0,w=0,_=null,q.reset(),me.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Ku extends Ju{}Ku.prototype.isWebGL1Renderer=!0;class Qu{constructor(e,t=25e-5){this.name="",this.color=new Vi(e),this.density=t}clone(){return new Qu(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Qu.prototype.isFogExp2=!0;class eh{constructor(e,t=1,n=1e3){this.name="",this.color=new Vi(e),this.near=t,this.far=n}clone(){return new eh(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}eh.prototype.isFog=!0;class th extends _i{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}th.prototype.isScene=!0;class nh{constructor(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Tn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Un()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Un()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Un()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}nh.prototype.isInterleavedBuffer=!0;const rh=new xr;class ih{constructor(e,t,n,r=!1){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)rh.x=this.getX(t),rh.y=this.getY(t),rh.z=this.getZ(t),rh.applyMatrix4(e),this.setXYZ(t,rh.x,rh.y,rh.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)rh.x=this.getX(t),rh.y=this.getY(t),rh.z=this.getZ(t),rh.applyNormalMatrix(e),this.setXYZ(t,rh.x,rh.y,rh.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)rh.x=this.getX(t),rh.y=this.getY(t),rh.z=this.getZ(t),rh.transformDirection(e),this.setXYZ(t,rh.x,rh.y,rh.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new $i(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ih(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}ih.prototype.isInterleavedBufferAttribute=!0;class oh extends Fi{constructor(e){super(),this.type="SpriteMaterial",this.color=new Vi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let sh;oh.prototype.isSpriteMaterial=!0;const ah=new xr,ch=new xr,lh=new xr,uh=new cr,hh=new cr,dh=new Jr,ph=new xr,fh=new xr,mh=new xr,gh=new cr,vh=new cr,yh=new cr;class bh extends _i{constructor(e){if(super(),this.type="Sprite",void 0===sh){sh=new fo;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new nh(e,5);sh.setIndex([0,1,2,0,2,3]),sh.setAttribute("position",new ih(t,3,0,!1)),sh.setAttribute("uv",new ih(t,2,3,!1))}this.geometry=sh,this.material=void 0!==e?e:new oh,this.center=new cr(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ch.setFromMatrixScale(this.matrixWorld),dh.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),lh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ch.multiplyScalar(-lh.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;xh(ph.set(-.5,-.5,0),lh,o,ch,r,i),xh(fh.set(.5,-.5,0),lh,o,ch,r,i),xh(mh.set(.5,.5,0),lh,o,ch,r,i),gh.set(0,0),vh.set(1,0),yh.set(1,1);let s=e.ray.intersectTriangle(ph,fh,mh,!1,ah);if(null===s&&(xh(fh.set(-.5,.5,0),lh,o,ch,r,i),vh.set(0,1),s=e.ray.intersectTriangle(ph,mh,fh,!1,ah),null===s))return;const a=e.ray.origin.distanceTo(ah);a<e.near||a>e.far||t.push({distance:a,point:ah.clone(),uv:ki.getUV(ah,ph,fh,mh,gh,vh,yh,new cr),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function xh(e,t,n,r,i,o){uh.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(hh.x=o*uh.x-i*uh.y,hh.y=i*uh.x+o*uh.y):hh.copy(uh),e.copy(t),e.x+=hh.x,e.y+=hh.y,e.applyMatrix4(dh)}bh.prototype.isSprite=!0;const wh=new xr,_h=new xr;class Sh extends _i{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const n=this.levels;let r;for(r=0;r<n.length;r++)if(t<n[r].distance)break;return n.splice(r,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++)if(e<t[n].distance)break;return t[n-1].object}return null}raycast(e,t){const n=this.levels;if(n.length>0){wh.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(wh);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){wh.setFromMatrixPosition(e.matrixWorld),_h.setFromMatrixPosition(this.matrixWorld);const n=wh.distanceTo(_h)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){if(!(n>=t[r].distance))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance})}return t}}const Mh=new xr,Th=new mr,Eh=new mr,Ch=new xr,Ah=new Jr;class Lh extends Po{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Jr,this.bindMatrixInverse=new Jr}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mr,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;Th.fromBufferAttribute(r.attributes.skinIndex,e),Eh.fromBufferAttribute(r.attributes.skinWeight,e),Mh.fromBufferAttribute(r.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=Eh.getComponent(i);if(0!==e){const r=Th.getComponent(i);Ah.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(Ch.copy(Mh).applyMatrix4(Ah),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}Lh.prototype.isSkinnedMesh=!0;class Rh extends _i{constructor(){super(),this.type="Bone"}}Rh.prototype.isBone=!0;class Oh extends pr{constructor(e=null,t=1,n=1,r,i,o,s,a,c=fe,l=fe,u,h){super(null,o,s,a,c,l,r,i,u,h),this.image={data:e,width:t,height:n},this.magFilter=c,this.minFilter=l,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Oh.prototype.isDataTexture=!0;const Ph=new Jr,kh=new Jr;class Nh{constructor(e=[],t=[]){this.uuid=Un(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Jr)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Jr;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,o=e.length;i<o;i++){const r=e[i]?e[i].matrixWorld:kh;Ph.multiplyMatrices(r,t[i]),Ph.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new Nh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=ir(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Oh(t,e,e,Be,Re);return this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new Rh),this.bones.push(i),this.boneInverses.push((new Jr).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const o=n[r];e.boneInverses.push(o.toArray())}return e}}const Fh=new Jr,Ih=new Jr,Dh=[],Bh=new Po;class zh extends Po{constructor(e,t,n){super(e,t),this.instanceMatrix=new $i(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Bh.geometry=this.geometry,Bh.material=this.material,void 0!==Bh.material)for(let i=0;i<r;i++){this.getMatrixAt(i,Fh),Ih.multiplyMatrices(n,Fh),Bh.matrixWorld=Ih,Bh.raycast(e,Dh);for(let e=0,n=Dh.length;e<n;e++){const n=Dh[e];n.instanceId=i,n.object=this,t.push(n)}Dh.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new $i(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}zh.prototype.isInstancedMesh=!0;class jh extends Fi{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Vi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}jh.prototype.isLineBasicMaterial=!0;const Uh=new xr,Vh=new xr,Gh=new Jr,Hh=new Zr,Wh=new Vr;class $h extends _i{constructor(e=new fo,t=new jh){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)Uh.fromBufferAttribute(t,e-1),Vh.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Uh.distanceTo(Vh);e.setAttribute("lineDistance",new to(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Wh.copy(n.boundingSphere),Wh.applyMatrix4(r),Wh.radius+=i,!1===e.ray.intersectsSphere(Wh))return;Gh.copy(r).invert(),Hh.copy(e.ray).applyMatrix4(Gh);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,c=new xr,l=new xr,u=new xr,h=new xr,d=this.isLineSegments?2:1;if(n.isBufferGeometry){const r=n.index,i=n.attributes,s=i.position;if(null!==r){const n=Math.max(0,o.start),i=Math.min(r.count,o.start+o.count);for(let o=n,p=i-1;o<p;o+=d){const n=r.getX(o),i=r.getX(o+1);c.fromBufferAttribute(s,n),l.fromBufferAttribute(s,i);const d=Hh.distanceSqToSegment(c,l,h,u);if(d>a)continue;h.applyMatrix4(this.matrixWorld);const p=e.ray.origin.distanceTo(h);p<e.near||p>e.far||t.push({distance:p,point:u.clone().applyMatrix4(this.matrixWorld),index:o,face:null,faceIndex:null,object:this})}}else{const n=Math.max(0,o.start),r=Math.min(s.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=d){c.fromBufferAttribute(s,i),l.fromBufferAttribute(s,i+1);const n=Hh.distanceSqToSegment(c,l,h,u);if(n>a)continue;h.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(h);r<e.near||r>e.far||t.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}$h.prototype.isLine=!0;const qh=new xr,Xh=new xr;class Yh extends $h{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)qh.fromBufferAttribute(t,e),Xh.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+qh.distanceTo(Xh);e.setAttribute("lineDistance",new to(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Yh.prototype.isLineSegments=!0;class Zh extends $h{constructor(e,t){super(e,t),this.type="LineLoop"}}Zh.prototype.isLineLoop=!0;class Jh extends Fi{constructor(e){super(),this.type="PointsMaterial",this.color=new Vi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}Jh.prototype.isPointsMaterial=!0;const Kh=new Jr,Qh=new Zr,ed=new Vr,td=new xr;class nd extends _i{constructor(e=new fo,t=new Jh){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ed.copy(n.boundingSphere),ed.applyMatrix4(r),ed.radius+=i,!1===e.ray.intersectsSphere(ed))return;Kh.copy(r).invert(),Qh.copy(e.ray).applyMatrix4(Kh);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s;if(n.isBufferGeometry){const i=n.index,s=n.attributes,c=s.position;if(null!==i){const n=Math.max(0,o.start),s=Math.min(i.count,o.start+o.count);for(let o=n,l=s;o<l;o++){const n=i.getX(o);td.fromBufferAttribute(c,n),rd(td,n,a,r,e,t,this)}}else{const n=Math.max(0,o.start),i=Math.min(c.count,o.start+o.count);for(let o=n,s=i;o<s;o++)td.fromBufferAttribute(c,o),rd(td,o,a,r,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function rd(e,t,n,r,i,o,s){const a=Qh.distanceSqToPoint(e);if(a<n){const n=new xr;Qh.closestPointToPoint(e,n),n.applyMatrix4(r);const c=i.ray.origin.distanceTo(n);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:n,index:t,face:null,object:s})}}nd.prototype.isPoints=!0;class id extends pr{constructor(e,t,n,r,i,o,s,a,c){super(e,t,n,r,i,o,s,a,c),this.format=void 0!==s?s:De,this.minFilter=void 0!==o?o:be,this.magFilter=void 0!==i?i:be,this.generateMipmaps=!1;const l=this;function u(){l.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image,t="requestVideoFrameCallback"in e;!1===t&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}id.prototype.isVideoTexture=!0;class od extends pr{constructor(e,t,n,r,i,o,s,a,c,l,u,h){super(null,o,s,a,c,l,r,i,u,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}od.prototype.isCompressedTexture=!0;class sd extends pr{constructor(e,t,n,r,i,o,s,a,c){super(e,t,n,r,i,o,s,a,c),this.needsUpdate=!0}}sd.prototype.isCanvasTexture=!0;class ad extends pr{constructor(e,t,n,r,i,o,s,a,c,l){if(l=void 0!==l?l:Ve,l!==Ve&&l!==Ge)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===Ve&&(n=Ce),void 0===n&&l===Ge&&(n=Fe),super(null,r,i,o,s,a,l,n,c),this.image={width:e,height:t},this.magFilter=void 0!==s?s:fe,this.minFilter=void 0!==a?a:fe,this.flipY=!1,this.generateMipmaps=!1}}ad.prototype.isDepthTexture=!0;class cd extends fo{constructor(e=1,t=8,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],o=[],s=[],a=[],c=new xr,l=new cr;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const i=n+u/t*r;c.x=e*Math.cos(i),c.y=e*Math.sin(i),o.push(c.x,c.y,c.z),s.push(0,0,1),l.x=(o[h]/e+1)/2,l.y=(o[h+1]/e+1)/2,a.push(l.x,l.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new to(o,3)),this.setAttribute("normal",new to(s,3)),this.setAttribute("uv",new to(a,2))}static fromJSON(e){return new cd(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ld extends fo{constructor(e=1,t=1,n=1,r=8,i=1,o=!1,s=0,a=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a};const c=this;r=Math.floor(r),i=Math.floor(i);const l=[],u=[],h=[],d=[];let p=0;const f=[],m=n/2;let g=0;function v(){const o=new xr,v=new xr;let y=0;const b=(t-e)/n;for(let c=0;c<=i;c++){const l=[],g=c/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*a+s,c=Math.sin(i),f=Math.cos(i);v.x=y*c,v.y=-g*n+m,v.z=y*f,u.push(v.x,v.y,v.z),o.set(c,b,f).normalize(),h.push(o.x,o.y,o.z),d.push(t,1-g),l.push(p++)}f.push(l)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=f[t][e],r=f[t+1][e],i=f[t+1][e+1],o=f[t][e+1];l.push(n,r,o),l.push(r,i,o),y+=6}c.addGroup(g,y,0),g+=y}function y(n){const i=p,o=new cr,f=new xr;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),h.push(0,b,0),d.push(.5,.5),p++;const x=p;for(let e=0;e<=r;e++){const t=e/r,n=t*a+s,i=Math.cos(n),c=Math.sin(n);f.x=y*c,f.y=m*b,f.z=y*i,u.push(f.x,f.y,f.z),h.push(0,b,0),o.x=.5*i+.5,o.y=.5*c*b+.5,d.push(o.x,o.y),p++}for(let e=0;e<r;e++){const t=i+e,r=x+e;!0===n?l.push(r,r+1,t):l.push(r+1,r,t),v+=3}c.addGroup(g,v,!0===n?1:2),g+=v}v(),!1===o&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(l),this.setAttribute("position",new to(u,3)),this.setAttribute("normal",new to(h,3)),this.setAttribute("uv",new to(d,2))}static fromJSON(e){return new ld(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ud extends ld{constructor(e=1,t=1,n=8,r=1,i=!1,o=0,s=2*Math.PI){super(0,e,t,n,r,i,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:s}}static fromJSON(e){return new ud(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hd extends fo{constructor(e,t,n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],o=[];function s(e){const n=new xr,r=new xr,i=new xr;for(let o=0;o<t.length;o+=3)d(t[o+0],n),d(t[o+1],r),d(t[o+2],i),a(n,r,i,e)}function a(e,t,n,r){const i=r+1,o=[];for(let s=0;s<=i;s++){o[s]=[];const r=e.clone().lerp(n,s/i),a=t.clone().lerp(n,s/i),c=i-s;for(let e=0;e<=c;e++)o[s][e]=0===e&&s===i?r:r.clone().lerp(a,e/c)}for(let s=0;s<i;s++)for(let e=0;e<2*(i-s)-1;e++){const t=Math.floor(e/2);e%2===0?(h(o[s][t+1]),h(o[s+1][t]),h(o[s][t])):(h(o[s][t+1]),h(o[s+1][t+1]),h(o[s+1][t]))}}function c(e){const t=new xr;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}function l(){const e=new xr;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];const n=m(e)/2/Math.PI+.5,r=g(e)/Math.PI+.5;o.push(n,1-r)}p(),u()}function u(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),s=Math.min(t,n,r);i>.9&&s<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}function h(e){i.push(e.x,e.y,e.z)}function d(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function p(){const e=new xr,t=new xr,n=new xr,r=new xr,s=new cr,a=new cr,c=new cr;for(let l=0,u=0;l<i.length;l+=9,u+=6){e.set(i[l+0],i[l+1],i[l+2]),t.set(i[l+3],i[l+4],i[l+5]),n.set(i[l+6],i[l+7],i[l+8]),s.set(o[u+0],o[u+1]),a.set(o[u+2],o[u+3]),c.set(o[u+4],o[u+5]),r.copy(e).add(t).add(n).divideScalar(3);const h=m(r);f(s,u+0,e,h),f(a,u+2,t,h),f(c,u+4,n,h)}}function f(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}function g(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}s(r),c(n),l(),this.setAttribute("position",new to(i,3)),this.setAttribute("normal",new to(i.slice(),3)),this.setAttribute("uv",new to(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new hd(e.vertices,e.indices,e.radius,e.details)}}class dd extends hd{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(i,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dd(e.radius,e.detail)}}const pd=new xr,fd=new xr,md=new xr,gd=new ki;class vd extends fo{constructor(e,t){if(super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1,!0===e.isGeometry)return void console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const n=4,r=Math.pow(10,n),i=Math.cos(zn*t),o=e.getIndex(),s=e.getAttribute("position"),a=o?o.count:s.count,c=[0,0,0],l=["a","b","c"],u=new Array(3),h={},d=[];for(let p=0;p<a;p+=3){o?(c[0]=o.getX(p),c[1]=o.getX(p+1),c[2]=o.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:e,b:t,c:n}=gd;if(e.fromBufferAttribute(s,c[0]),t.fromBufferAttribute(s,c[1]),n.fromBufferAttribute(s,c[2]),gd.getNormal(md),u[0]=`${Math.round(e.x*r)},${Math.round(e.y*r)},${Math.round(e.z*r)}`,u[1]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[2]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let r=0;r<3;r++){const e=(r+1)%3,t=u[r],n=u[e],o=gd[l[r]],s=gd[l[e]],a=`${t}_${n}`,p=`${n}_${t}`;p in h&&h[p]?(md.dot(h[p].normal)<=i&&(d.push(o.x,o.y,o.z),d.push(s.x,s.y,s.z)),h[p]=null):a in h||(h[a]={index0:c[r],index1:c[e],normal:md.clone()})}}for(const p in h)if(h[p]){const{index0:e,index1:t}=h[p];pd.fromBufferAttribute(s,e),fd.fromBufferAttribute(s,t),d.push(pd.x,pd.y,pd.z),d.push(fd.x,fd.y,fd.z)}this.setAttribute("position",new to(d,3))}}class yd{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let s,a=0,c=i-1;while(a<=c)if(r=Math.floor(a+(c-a)/2),s=n[r]-o,s<0)a=r+1;else{if(!(s>0)){c=r;break}c=r-1}if(r=c,n[r]===o)return r/(i-1);const l=n[r],u=n[r+1],h=u-l,d=(o-l)/h,p=(r+d)/(i-1);return p}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),s=this.getPoint(i),a=t||(o.isVector2?new cr:new xr);return a.copy(s).sub(o).normalize(),a}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new xr,r=[],i=[],o=[],s=new xr,a=new Jr;for(let d=0;d<=e;d++){const t=d/e;r[d]=this.getTangentAt(t,new xr),r[d].normalize()}i[0]=new xr,o[0]=new xr;let c=Number.MAX_VALUE;const l=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);l<=c&&(c=l,n.set(1,0,0)),u<=c&&(c=u,n.set(0,1,0)),h<=c&&n.set(0,0,1),s.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],s),o[0].crossVectors(r[0],i[0]);for(let d=1;d<=e;d++){if(i[d]=i[d-1].clone(),o[d]=o[d-1].clone(),s.crossVectors(r[d-1],r[d]),s.length()>Number.EPSILON){s.normalize();const e=Math.acos(Vn(r[d-1].dot(r[d]),-1,1));i[d].applyMatrix4(a.makeRotationAxis(s,e))}o[d].crossVectors(r[d],i[d])}if(!0===t){let t=Math.acos(Vn(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(s.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(a.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class bd extends yd{constructor(e=0,t=0,n=1,r=1,i=0,o=2*Math.PI,s=!1,a=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(e,t){const n=t||new cr,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;while(i<0)i+=r;while(i>r)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const s=this.aStartAngle+e*i;let a=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=a-this.aX,r=c-this.aY;a=n*e-r*t+this.aX,c=n*t+r*e+this.aY}return n.set(a,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}bd.prototype.isEllipseCurve=!0;class xd extends bd{constructor(e,t,n,r,i,o){super(e,t,n,n,r,i,o),this.type="ArcCurve"}}function wd(){let e=0,t=0,n=0,r=0;function i(i,o,s,a){e=i,t=s,n=-3*i+3*o-2*s-a,r=2*i-2*o+s+a}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,s,a){let c=(t-e)/o-(n-e)/(o+s)+(n-t)/s,l=(n-t)/s-(r-t)/(s+a)+(r-n)/a;c*=s,l*=s,i(t,n,c,l)},calc:function(i){const o=i*i,s=o*i;return e+t*i+n*o+r*s}}}xd.prototype.isArcCurve=!0;const _d=new xr,Sd=new wd,Md=new wd,Td=new wd;class Ed extends yd{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new xr){const n=t,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e;let s,a,c=Math.floor(o),l=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/i)+1)*i:0===l&&c===i-1&&(c=i-2,l=1),this.closed||c>0?s=r[(c-1)%i]:(_d.subVectors(r[0],r[1]).add(r[0]),s=_d);const u=r[c%i],h=r[(c+1)%i];if(this.closed||c+2<i?a=r[(c+2)%i]:(_d.subVectors(r[i-1],r[i-2]).add(r[i-1]),a=_d),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(s.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(h),e),r=Math.pow(h.distanceToSquared(a),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),Sd.initNonuniformCatmullRom(s.x,u.x,h.x,a.x,t,n,r),Md.initNonuniformCatmullRom(s.y,u.y,h.y,a.y,t,n,r),Td.initNonuniformCatmullRom(s.z,u.z,h.z,a.z,t,n,r)}else"catmullrom"===this.curveType&&(Sd.initCatmullRom(s.x,u.x,h.x,a.x,this.tension),Md.initCatmullRom(s.y,u.y,h.y,a.y,this.tension),Td.initCatmullRom(s.z,u.z,h.z,a.z,this.tension));return n.set(Sd.calc(l),Md.calc(l),Td.calc(l)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new xr).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Cd(e,t,n,r,i){const o=.5*(r-t),s=.5*(i-n),a=e*e,c=e*a;return(2*n-2*r+o+s)*c+(-3*n+3*r-2*o-s)*a+o*e+n}function Ad(e,t){const n=1-e;return n*n*t}function Ld(e,t){return 2*(1-e)*e*t}function Rd(e,t){return e*e*t}function Od(e,t,n,r){return Ad(e,t)+Ld(e,n)+Rd(e,r)}function Pd(e,t){const n=1-e;return n*n*n*t}function kd(e,t){const n=1-e;return 3*n*n*e*t}function Nd(e,t){return 3*(1-e)*e*e*t}function Fd(e,t){return e*e*e*t}function Id(e,t,n,r,i){return Pd(e,t)+kd(e,n)+Nd(e,r)+Fd(e,i)}Ed.prototype.isCatmullRomCurve3=!0;class Dd extends yd{constructor(e=new cr,t=new cr,n=new cr,r=new cr){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new cr){const n=t,r=this.v0,i=this.v1,o=this.v2,s=this.v3;return n.set(Id(e,r.x,i.x,o.x,s.x),Id(e,r.y,i.y,o.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Dd.prototype.isCubicBezierCurve=!0;class Bd extends yd{constructor(e=new xr,t=new xr,n=new xr,r=new xr){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new xr){const n=t,r=this.v0,i=this.v1,o=this.v2,s=this.v3;return n.set(Id(e,r.x,i.x,o.x,s.x),Id(e,r.y,i.y,o.y,s.y),Id(e,r.z,i.z,o.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Bd.prototype.isCubicBezierCurve3=!0;class zd extends yd{constructor(e=new cr,t=new cr){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new cr){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new cr;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}zd.prototype.isLineCurve=!0;class jd extends yd{constructor(e=new xr,t=new xr){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new xr){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ud extends yd{constructor(e=new cr,t=new cr,n=new cr){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new cr){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Od(e,r.x,i.x,o.x),Od(e,r.y,i.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Ud.prototype.isQuadraticBezierCurve=!0;class Vd extends yd{constructor(e=new xr,t=new xr,n=new xr){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new xr){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Od(e,r.x,i.x,o.x),Od(e,r.y,i.y,o.y),Od(e,r.z,i.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Vd.prototype.isQuadraticBezierCurve3=!0;class Gd extends yd{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new cr){const n=t,r=this.points,i=(r.length-1)*e,o=Math.floor(i),s=i-o,a=r[0===o?o:o-1],c=r[o],l=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(Cd(s,a.x,c.x,l.x,u.x),Cd(s,a.y,c.y,l.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new cr).fromArray(n))}return this}}Gd.prototype.isSplineCurve=!0;var Hd=Object.freeze({__proto__:null,ArcCurve:xd,CatmullRomCurve3:Ed,CubicBezierCurve:Dd,CubicBezierCurve3:Bd,EllipseCurve:bd,LineCurve:zd,LineCurve3:jd,QuadraticBezierCurve:Ud,QuadraticBezierCurve3:Vd,SplineCurve:Gd});const Wd={triangulate:function(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let o=$d(e,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,c,l,u,h,d,p;if(r&&(o=Qd(e,t,o,n)),e.length>80*n){a=l=e[0],c=u=e[1];for(let t=n;t<i;t+=n)h=e[t],d=e[t+1],h<a&&(a=h),d<c&&(c=d),h>l&&(l=h),d>u&&(u=d);p=Math.max(l-a,u-c),p=0!==p?1/p:0}return Xd(o,s,n,a,c,p),s}};function $d(e,t,n,r,i){let o,s;if(i===_p(e,t,n,r)>0)for(o=t;o<n;o+=r)s=bp(o,e[o],e[o+1],s);else for(o=n-r;o>=t;o-=r)s=bp(o,e[o],e[o+1],s);return s&&hp(s,s.next)&&(xp(s),s=s.next),s}function qd(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!hp(r,r.next)&&0!==up(r.prev,r,r.next))r=r.next;else{if(xp(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Xd(e,t,n,r,i,o,s){if(!e)return;!s&&o&&ip(e,r,i,o);let a,c,l=e;while(e.prev!==e.next)if(a=e.prev,c=e.next,o?Zd(e,r,i,o):Yd(e))t.push(a.i/n),t.push(e.i/n),t.push(c.i/n),xp(e),e=c.next,l=c.next;else if(e=c,e===l){s?1===s?(e=Jd(qd(e),t,n),Xd(e,t,n,r,i,o,2)):2===s&&Kd(e,t,n,r,i,o):Xd(qd(e),t,n,r,i,o,1);break}}function Yd(e){const t=e.prev,n=e,r=e.next;if(up(t,n,r)>=0)return!1;let i=e.next.next;while(i!==e.prev){if(cp(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&up(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Zd(e,t,n,r){const i=e.prev,o=e,s=e.next;if(up(i,o,s)>=0)return!1;const a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,c=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,u=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=sp(a,c,t,n,r),d=sp(l,u,t,n,r);let p=e.prevZ,f=e.nextZ;while(p&&p.z>=h&&f&&f.z<=d){if(p!==e.prev&&p!==e.next&&cp(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&up(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==e.prev&&f!==e.next&&cp(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&up(f.prev,f,f.next)>=0)return!1;f=f.nextZ}while(p&&p.z>=h){if(p!==e.prev&&p!==e.next&&cp(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&up(p.prev,p,p.next)>=0)return!1;p=p.prevZ}while(f&&f.z<=d){if(f!==e.prev&&f!==e.next&&cp(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&up(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Jd(e,t,n){let r=e;do{const i=r.prev,o=r.next.next;!hp(i,o)&&dp(i,r,r.next,o)&&gp(i,o)&&gp(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),xp(r),xp(r.next),r=e=o),r=r.next}while(r!==e);return qd(r)}function Kd(e,t,n,r,i,o){let s=e;do{let e=s.next.next;while(e!==s.prev){if(s.i!==e.i&&lp(s,e)){let a=yp(s,e);return s=qd(s,s.next),a=qd(a,a.next),Xd(s,t,n,r,i,o),void Xd(a,t,n,r,i,o)}e=e.next}s=s.next}while(s!==e)}function Qd(e,t,n,r){const i=[];let o,s,a,c,l;for(o=0,s=t.length;o<s;o++)a=t[o]*r,c=o<s-1?t[o+1]*r:e.length,l=$d(e,a,c,r,!1),l===l.next&&(l.steiner=!0),i.push(ap(l));for(i.sort(ep),o=0;o<i.length;o++)tp(i[o],n),n=qd(n,n.next);return n}function ep(e,t){return e.x-t.x}function tp(e,t){if(t=np(e,t),t){const n=yp(t,e);qd(t,t.next),qd(n,n.next)}}function np(e,t){let n=t;const r=e.x,i=e.y;let o,s=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=r&&e>s){if(s=e,e===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===s)return o;const a=o,c=o.x,l=o.y;let u,h=1/0;n=o;do{r>=n.x&&n.x>=c&&r!==n.x&&cp(i<l?r:s,i,c,l,i<l?s:r,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(r-n.x),gp(n,e)&&(u<h||u===h&&(n.x>o.x||n.x===o.x&&rp(o,n)))&&(o=n,h=u)),n=n.next}while(n!==a);return o}function rp(e,t){return up(e.prev,e,t.prev)<0&&up(t.next,e,e.next)<0}function ip(e,t,n,r){let i=e;do{null===i.z&&(i.z=sp(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,op(i)}function op(e){let t,n,r,i,o,s,a,c,l=1;do{n=e,e=null,o=null,s=0;while(n){for(s++,r=n,a=0,t=0;t<l;t++)if(a++,r=r.nextZ,!r)break;c=l;while(a>0||c>0&&r)0!==a&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1);return e}function sp(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function ap(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function cp(e,t,n,r,i,o,s,a){return(i-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(r-a)-(n-s)*(t-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function lp(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!mp(e,t)&&(gp(e,t)&&gp(t,e)&&vp(e,t)&&(up(e.prev,e,t.prev)||up(e,t.prev,t))||hp(e,t)&&up(e.prev,e,e.next)>0&&up(t.prev,t,t.next)>0)}function up(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function hp(e,t){return e.x===t.x&&e.y===t.y}function dp(e,t,n,r){const i=fp(up(e,t,n)),o=fp(up(e,t,r)),s=fp(up(n,r,e)),a=fp(up(n,r,t));return i!==o&&s!==a||(!(0!==i||!pp(e,n,t))||(!(0!==o||!pp(e,r,t))||(!(0!==s||!pp(n,e,r))||!(0!==a||!pp(n,t,r)))))}function pp(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function fp(e){return e>0?1:e<0?-1:0}function mp(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&dp(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function gp(e,t){return up(e.prev,e,e.next)<0?up(e,t,e.next)>=0&&up(e,e.prev,t)>=0:up(e,t,e.prev)<0||up(e,e.next,t)<0}function vp(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function yp(e,t){const n=new wp(e.i,e.x,e.y),r=new wp(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function bp(e,t,n,r){const i=new wp(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function xp(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function wp(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _p(e,t,n,r){let i=0;for(let o=t,s=n-r;o<n;o+=r)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}class Sp{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Sp.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Mp(e),Tp(n,e);let o=e.length;t.forEach(Mp);for(let a=0;a<t.length;a++)r.push(o),o+=t[a].length,Tp(n,t[a]);const s=Wd.triangulate(n,r);for(let a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}}function Mp(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Tp(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Ep extends fo{constructor(e,t){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let s=0,a=e.length;s<a;s++){const t=e[s];o(t)}function o(e){const o=[],s=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1;let c=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:u-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Cp;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);let g,v,y,b,x,w=!1;f&&(g=f.getSpacedPoints(a),w=!0,l=!1,v=f.computeFrenetFrames(a,!1),y=new xr,b=new xr,x=new xr),l||(p=0,u=0,h=0,d=0);const _=e.extractPoints(s);let S=_.shape;const M=_.holes,T=!Sp.isClockWise(S);if(T){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];Sp.isClockWise(t)&&(M[e]=t.reverse())}}const E=Sp.triangulateShape(S,M),C=S;for(let t=0,n=M.length;t<n;t++){const e=M[t];S=S.concat(e)}function A(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}const L=S.length,R=E.length;function O(e,t,n){let r,i,o;const s=e.x-t.x,a=e.y-t.y,c=n.x-e.x,l=n.y-e.y,u=s*s+a*a,h=s*l-a*c;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(c*c+l*l),p=t.x-a/h,f=t.y+s/h,m=n.x-l/d,g=n.y+c/d,v=((m-p)*l-(g-f)*c)/(s*l-a*c);r=p+s*v-e.x,i=f+a*v-e.y;const y=r*r+i*i;if(y<=2)return new cr(r,i);o=Math.sqrt(y/2)}else{let e=!1;s>Number.EPSILON?c>Number.EPSILON&&(e=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(e=!0):Math.sign(a)===Math.sign(l)&&(e=!0),e?(r=-a,i=s,o=Math.sqrt(u)):(r=s,i=a,o=Math.sqrt(u/2))}return new cr(r/o,i/o)}const P=[];for(let t=0,n=C.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),P[t]=O(C[t],C[r],C[i]);const k=[];let N,F=P.concat();for(let t=0,n=M.length;t<n;t++){const e=M[t];N=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),N[t]=O(e[t],e[r],e[i]);k.push(N),F=F.concat(N)}for(let t=0;t<p;t++){const e=t/p,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+d;for(let t=0,i=C.length;t<i;t++){const e=A(C[t],P[t],r);j(e.x,e.y,-n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];N=k[t];for(let t=0,i=e.length;t<i;t++){const i=A(e[t],N[t],r);j(i.x,i.y,-n)}}}const I=h+d;for(let t=0;t<L;t++){const e=l?A(S[t],F[t],I):S[t];w?(b.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),x.copy(g[0]).add(b).add(y),j(x.x,x.y,x.z)):j(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<L;e++){const n=l?A(S[e],F[e],I):S[e];w?(b.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),x.copy(g[t]).add(b).add(y),j(x.x,x.y,x.z)):j(n.x,n.y,c/a*t)}for(let t=p-1;t>=0;t--){const e=t/p,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+d;for(let t=0,i=C.length;t<i;t++){const e=A(C[t],P[t],r);j(e.x,e.y,c+n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];N=k[t];for(let t=0,i=e.length;t<i;t++){const i=A(e[t],N[t],r);w?j(i.x,i.y+g[a-1].y,g[a-1].x+n):j(i.x,i.y,c+n)}}}function D(){const e=r.length/3;if(l){let e=0,t=L*e;for(let n=0;n<R;n++){const e=E[n];U(e[2]+t,e[1]+t,e[0]+t)}e=a+2*p,t=L*e;for(let n=0;n<R;n++){const e=E[n];U(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<R;e++){const t=E[e];U(t[2],t[1],t[0])}for(let e=0;e<R;e++){const t=E[e];U(t[0]+L*a,t[1]+L*a,t[2]+L*a)}}n.addGroup(e,r.length/3-e,0)}function B(){const e=r.length/3;let t=0;z(C,t),t+=C.length;for(let n=0,r=M.length;n<r;n++){const e=M[n];z(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}function z(e,t){let n=e.length;while(--n>=0){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=a+2*p;e<n;e++){const n=L*e,o=L*(e+1),s=t+r+n,a=t+i+n,c=t+i+o,l=t+r+o;V(s,a,c,l)}}}function j(e,t,n){o.push(e),o.push(t),o.push(n)}function U(e,t,i){G(e),G(t),G(i);const o=r.length/3,s=m.generateTopUV(n,r,o-3,o-2,o-1);H(s[0]),H(s[1]),H(s[2])}function V(e,t,i,o){G(e),G(t),G(o),G(t),G(i),G(o);const s=r.length/3,a=m.generateSideWallUV(n,r,s-6,s-3,s-2,s-1);H(a[0]),H(a[1]),H(a[3]),H(a[1]),H(a[2]),H(a[3])}function G(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function H(e){i.push(e.x),i.push(e.y)}D(),B()}this.setAttribute("position",new to(r,3)),this.setAttribute("uv",new to(i,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return Ap(t,n,e)}static fromJSON(e,t){const n=[];for(let i=0,o=e.shapes.length;i<o;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new Hd[r.type]).fromJSON(r)),new Ep(n,e.options)}}const Cp={generateTopUV:function(e,t,n,r,i){const o=t[3*n],s=t[3*n+1],a=t[3*r],c=t[3*r+1],l=t[3*i],u=t[3*i+1];return[new cr(o,s),new cr(a,c),new cr(l,u)]},generateSideWallUV:function(e,t,n,r,i,o){const s=t[3*n],a=t[3*n+1],c=t[3*n+2],l=t[3*r],u=t[3*r+1],h=t[3*r+2],d=t[3*i],p=t[3*i+1],f=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(a-u)<Math.abs(s-l)?[new cr(s,1-c),new cr(l,1-h),new cr(d,1-f),new cr(m,1-v)]:[new cr(a,1-c),new cr(u,1-h),new cr(p,1-f),new cr(g,1-v)]}};function Ap(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}class Lp extends hd{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,i,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Lp(e.radius,e.detail)}}class Rp extends fo{constructor(e,t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Vn(r,0,2*Math.PI);const i=[],o=[],s=[],a=1/t,c=new xr,l=new cr;for(let u=0;u<=t;u++){const i=n+u*a*r,h=Math.sin(i),d=Math.cos(i);for(let n=0;n<=e.length-1;n++)c.x=e[n].x*h,c.y=e[n].y,c.z=e[n].x*d,o.push(c.x,c.y,c.z),l.x=u/t,l.y=n/(e.length-1),s.push(l.x,l.y)}for(let u=0;u<t;u++)for(let t=0;t<e.length-1;t++){const n=t+u*e.length,r=n,o=n+e.length,s=n+e.length+1,a=n+1;i.push(r,o,a),i.push(o,s,a)}if(this.setIndex(i),this.setAttribute("position",new to(o,3)),this.setAttribute("uv",new to(s,2)),this.computeVertexNormals(),r===2*Math.PI){const n=this.attributes.normal.array,r=new xr,i=new xr,o=new xr,s=t*e.length*3;for(let t=0,a=0;t<e.length;t++,a+=3)r.x=n[a+0],r.y=n[a+1],r.z=n[a+2],i.x=n[s+a+0],i.y=n[s+a+1],i.z=n[s+a+2],o.addVectors(r,i).normalize(),n[a+0]=n[s+a+0]=o.x,n[a+1]=n[s+a+1]=o.y,n[a+2]=n[s+a+2]=o.z}}static fromJSON(e){return new Rp(e.points,e.segments,e.phiStart,e.phiLength)}}class Op extends hd{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Op(e.radius,e.detail)}}class Pp extends fo{constructor(e,t,n){super(),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n};const r=[],i=[],o=[],s=[],a=1e-5,c=new xr,l=new xr,u=new xr,h=new xr,d=new xr;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=t+1;for(let f=0;f<=n;f++){const r=f/n;for(let n=0;n<=t;n++){const p=n/t;e(p,r,l),i.push(l.x,l.y,l.z),p-a>=0?(e(p-a,r,u),h.subVectors(l,u)):(e(p+a,r,u),h.subVectors(u,l)),r-a>=0?(e(p,r-a,u),d.subVectors(l,u)):(e(p,r+a,u),d.subVectors(u,l)),c.crossVectors(h,d).normalize(),o.push(c.x,c.y,c.z),s.push(p,r)}}for(let f=0;f<n;f++)for(let e=0;e<t;e++){const t=f*p+e,n=f*p+e+1,i=(f+1)*p+e+1,o=(f+1)*p+e;r.push(t,n,o),r.push(n,i,o)}this.setIndex(r),this.setAttribute("position",new to(i,3)),this.setAttribute("normal",new to(o,3)),this.setAttribute("uv",new to(s,2))}}class kp extends fo{constructor(e=.5,t=1,n=8,r=1,i=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},n=Math.max(3,n),r=Math.max(1,r);const s=[],a=[],c=[],l=[];let u=e;const h=(t-e)/r,d=new xr,p=new cr;for(let f=0;f<=r;f++){for(let e=0;e<=n;e++){const r=i+e/n*o;d.x=u*Math.cos(r),d.y=u*Math.sin(r),a.push(d.x,d.y,d.z),c.push(0,0,1),p.x=(d.x/t+1)/2,p.y=(d.y/t+1)/2,l.push(p.x,p.y)}u+=h}for(let f=0;f<r;f++){const e=f*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,a=r+n+2,c=r+1;s.push(i,o,c),s.push(o,a,c)}}this.setIndex(s),this.setAttribute("position",new to(a,3)),this.setAttribute("normal",new to(c,3)),this.setAttribute("uv",new to(l,2))}static fromJSON(e){return new kp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Np extends fo{constructor(e,t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],o=[];let s=0,a=0;if(!1===Array.isArray(e))c(e);else for(let l=0;l<e.length;l++)c(e[l]),this.addGroup(s,a,l),s+=a,a=0;function c(e){const s=r.length/3,c=e.extractPoints(t);let l=c.shape;const u=c.holes;!1===Sp.isClockWise(l)&&(l=l.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===Sp.isClockWise(e)&&(u[t]=e.reverse())}const h=Sp.triangulateShape(l,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];l=l.concat(e)}for(let t=0,n=l.length;t<n;t++){const e=l[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,r=h.length;t<r;t++){const e=h[t],r=e[0]+s,i=e[1]+s,o=e[2]+s;n.push(r,i,o),a+=3}}this.setIndex(n),this.setAttribute("position",new to(r,3)),this.setAttribute("normal",new to(i,3)),this.setAttribute("uv",new to(o,2))}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Fp(t,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new Np(n,e.curveSegments)}}function Fp(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}class Ip extends fo{constructor(e=1,t=8,n=6,r=0,i=2*Math.PI,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const a=Math.min(o+s,Math.PI);let c=0;const l=[],u=new xr,h=new xr,d=[],p=[],f=[],m=[];for(let g=0;g<=n;g++){const d=[],v=g/n;let y=0;0==g&&0==o?y=.5/t:g==n&&a==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const a=n/t;u.x=-e*Math.cos(r+a*i)*Math.sin(o+v*s),u.y=e*Math.cos(o+v*s),u.z=e*Math.sin(r+a*i)*Math.sin(o+v*s),p.push(u.x,u.y,u.z),h.copy(u).normalize(),f.push(h.x,h.y,h.z),m.push(a+y,1-v),d.push(c++)}l.push(d)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=l[g][e+1],r=l[g][e],i=l[g+1][e],s=l[g+1][e+1];(0!==g||o>0)&&d.push(t,r,s),(g!==n-1||a<Math.PI)&&d.push(r,i,s)}this.setIndex(d),this.setAttribute("position",new to(p,3)),this.setAttribute("normal",new to(f,3)),this.setAttribute("uv",new to(m,2))}static fromJSON(e){return new Ip(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Dp extends hd{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Dp(e.radius,e.detail)}}class Bp extends Ep{constructor(e,t={}){const n=t.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new fo;const r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),super(r,t),this.type="TextGeometry"}}class zp extends fo{constructor(e=1,t=.4,n=8,r=6,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],a=[],c=[],l=new xr,u=new xr,h=new xr;for(let d=0;d<=n;d++)for(let o=0;o<=r;o++){const p=o/r*i,f=d/n*Math.PI*2;u.x=(e+t*Math.cos(f))*Math.cos(p),u.y=(e+t*Math.cos(f))*Math.sin(p),u.z=t*Math.sin(f),s.push(u.x,u.y,u.z),l.x=e*Math.cos(p),l.y=e*Math.sin(p),h.subVectors(u,l).normalize(),a.push(h.x,h.y,h.z),c.push(o/r),c.push(d/n)}for(let d=1;d<=n;d++)for(let e=1;e<=r;e++){const t=(r+1)*d+e-1,n=(r+1)*(d-1)+e-1,i=(r+1)*(d-1)+e,s=(r+1)*d+e;o.push(t,n,s),o.push(n,i,s)}this.setIndex(o),this.setAttribute("position",new to(s,3)),this.setAttribute("normal",new to(a,3)),this.setAttribute("uv",new to(c,2))}static fromJSON(e){return new zp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class jp extends fo{constructor(e=1,t=.4,n=64,r=8,i=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const s=[],a=[],c=[],l=[],u=new xr,h=new xr,d=new xr,p=new xr,f=new xr,m=new xr,g=new xr;for(let y=0;y<=n;++y){const s=y/n*i*Math.PI*2;v(s,i,o,e,d),v(s+.01,i,o,e,p),m.subVectors(p,d),g.addVectors(p,d),f.crossVectors(m,g),g.crossVectors(f,m),f.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,o=-t*Math.cos(i),s=t*Math.sin(i);u.x=d.x+(o*g.x+s*f.x),u.y=d.y+(o*g.y+s*f.y),u.z=d.z+(o*g.z+s*f.z),a.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),c.push(h.x,h.y,h.z),l.push(y/n),l.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,o=(r+1)*(y-1)+e;s.push(t,n,o),s.push(n,i,o)}function v(e,t,n,r,i){const o=Math.cos(e),s=Math.sin(e),a=n/t*e,c=Math.cos(a);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*s*.5,i.z=r*Math.sin(a)*.5}this.setIndex(s),this.setAttribute("position",new to(a,3)),this.setAttribute("normal",new to(c,3)),this.setAttribute("uv",new to(l,2))}static fromJSON(e){return new jp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Up extends fo{constructor(e,t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new xr,a=new xr,c=new cr;let l=new xr;const u=[],h=[],d=[],p=[];function f(){for(let e=0;e<t;e++)m(e);m(!1===i?t:0),v(),g()}function m(i){l=e.getPointAt(i/t,l);const c=o.normals[i],d=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);a.x=o*c.x+i*d.x,a.y=o*c.y+i*d.y,a.z=o*c.z+i*d.z,a.normalize(),h.push(a.x,a.y,a.z),s.x=l.x+n*a.x,s.y=l.y+n*a.y,s.z=l.z+n*a.z,u.push(s.x,s.y,s.z)}}function g(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,s=(r+1)*(e-1)+t;p.push(n,i,s),p.push(i,o,s)}}function v(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)c.x=e/t,c.y=n/r,d.push(c.x,c.y)}f(),this.setIndex(p),this.setAttribute("position",new to(u,3)),this.setAttribute("normal",new to(h,3)),this.setAttribute("uv",new to(d,2))}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Up((new Hd[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Vp extends fo{constructor(e){if(super(),this.type="WireframeGeometry",!0===e.isGeometry)return void console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const t=[],n=[0,0],r={},i=new xr;if(null!==e.index){const o=e.attributes.position,s=e.index;let a=e.groups;0===a.length&&(a=[{start:0,count:s.count,materialIndex:0}]);for(let e=0,t=a.length;e<t;++e){const t=a[e],i=t.start,o=t.count;for(let e=i,a=i+o;e<a;e+=3)for(let t=0;t<3;t++){const i=s.getX(e+t),o=s.getX(e+(t+1)%3);n[0]=Math.min(i,o),n[1]=Math.max(i,o);const a=n[0]+","+n[1];void 0===r[a]&&(r[a]={index1:n[0],index2:n[1]})}}for(const e in r){const n=r[e];i.fromBufferAttribute(o,n.index1),t.push(i.x,i.y,i.z),i.fromBufferAttribute(o,n.index2),t.push(i.x,i.y,i.z)}}else{const n=e.attributes.position;for(let e=0,r=n.count/3;e<r;e++)for(let o=0;o<3;o++){const r=3*e+o;i.fromBufferAttribute(n,r),t.push(i.x,i.y,i.z);const s=3*e+(o+1)%3;i.fromBufferAttribute(n,s),t.push(i.x,i.y,i.z)}}this.setAttribute("position",new to(t,3))}}var Gp=Object.freeze({__proto__:null,BoxGeometry:Fo,BoxBufferGeometry:Fo,CircleGeometry:cd,CircleBufferGeometry:cd,ConeGeometry:ud,ConeBufferGeometry:ud,CylinderGeometry:ld,CylinderBufferGeometry:ld,DodecahedronGeometry:dd,DodecahedronBufferGeometry:dd,EdgesGeometry:vd,ExtrudeGeometry:Ep,ExtrudeBufferGeometry:Ep,IcosahedronGeometry:Lp,IcosahedronBufferGeometry:Lp,LatheGeometry:Rp,LatheBufferGeometry:Rp,OctahedronGeometry:Op,OctahedronBufferGeometry:Op,ParametricGeometry:Pp,ParametricBufferGeometry:Pp,PlaneGeometry:is,PlaneBufferGeometry:is,PolyhedronGeometry:hd,PolyhedronBufferGeometry:hd,RingGeometry:kp,RingBufferGeometry:kp,ShapeGeometry:Np,ShapeBufferGeometry:Np,SphereGeometry:Ip,SphereBufferGeometry:Ip,TetrahedronGeometry:Dp,TetrahedronBufferGeometry:Dp,TextGeometry:Bp,TextBufferGeometry:Bp,TorusGeometry:zp,TorusBufferGeometry:zp,TorusKnotGeometry:jp,TorusKnotBufferGeometry:jp,TubeGeometry:Up,TubeBufferGeometry:Up,WireframeGeometry:Vp});class Hp extends Fi{constructor(e){super(),this.type="ShadowMaterial",this.color=new Vi(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}Hp.prototype.isShadowMaterial=!0;class Wp extends Uo{constructor(e){super(e),this.type="RawShaderMaterial"}}Wp.prototype.isRawShaderMaterial=!0;class $p extends Fi{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Vi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=an,this.normalScale=new cr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this}}$p.prototype.isMeshStandardMaterial=!0;class qp extends $p{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new cr(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=Vn(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Vi(1,1,1),this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Vi).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this}}qp.prototype.isMeshPhysicalMaterial=!0;class Xp extends Fi{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Vi(16777215),this.specular=new Vi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=an,this.normalScale=new cr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}Xp.prototype.isMeshPhongMaterial=!0;class Yp extends Fi{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Vi(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=an,this.normalScale=new cr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}Yp.prototype.isMeshToonMaterial=!0;class Zp extends Fi{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=an,this.normalScale=new cr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}Zp.prototype.isMeshNormalMaterial=!0;class Jp extends Fi{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Vi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Y,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}Jp.prototype.isMeshLambertMaterial=!0;class Kp extends Fi{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Vi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=an,this.normalScale=new cr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}Kp.prototype.isMeshMatcapMaterial=!0;class Qp extends jh{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}Qp.prototype.isLineDashedMaterial=!0;var ef=Object.freeze({__proto__:null,ShadowMaterial:Hp,SpriteMaterial:oh,RawShaderMaterial:Wp,ShaderMaterial:Uo,PointsMaterial:Jh,MeshPhysicalMaterial:qp,MeshStandardMaterial:$p,MeshPhongMaterial:Xp,MeshToonMaterial:Yp,MeshNormalMaterial:Zp,MeshLambertMaterial:Jp,MeshDepthMaterial:Iu,MeshDistanceMaterial:Du,MeshBasicMaterial:Gi,MeshMatcapMaterial:Kp,LineDashedMaterial:Qp,LineBasicMaterial:jh,Material:Fi});const tf={arraySlice:function(e,t,n){return tf.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,n){return e[t]-e[n]}const n=e.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(t),r},sortedArray:function(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,s=0;s!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[s++]=e[r+n]}return i},flattenJSON:function(e,t,n,r){let i=1,o=e[0];while(void 0!==o&&void 0===o[r])o=e[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(t.push(o.time),n.push(s)),o=e[i++]}while(void 0!==o)},subclip:function(e,t,n,r,i=30){const o=e.clone();o.name=t;const s=[];for(let c=0;c<o.tracks.length;++c){const e=o.tracks[c],t=e.getValueSize(),a=[],l=[];for(let o=0;o<e.times.length;++o){const s=e.times[o]*i;if(!(s<n||s>=r)){a.push(e.times[o]);for(let n=0;n<t;++n)l.push(e.values[o*t+n])}}0!==a.length&&(e.times=tf.convertArray(a,e.times.constructor),e.values=tf.convertArray(l,e.values.constructor),s.push(e))}o.tracks=s;let a=1/0;for(let c=0;c<o.tracks.length;++c)a>o.tracks[c].times[0]&&(a=o.tracks[c].times[0]);for(let c=0;c<o.tracks.length;++c)o.tracks[c].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,o=t/r;for(let s=0;s<i;++s){const t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find((function(e){return e.name===t.name&&e.ValueTypeName===r}));if(void 0===i)continue;let a=0;const c=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=c/3);let l=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=u/3);const h=t.times.length-1;let d;if(o<=t.times[0]){const e=a,n=c-a;d=tf.arraySlice(t.values,e,n)}else if(o>=t.times[h]){const e=h*c+a,n=e+c-a;d=tf.arraySlice(t.values,e,n)}else{const e=t.createInterpolant(),n=a,r=c-a;e.evaluate(o),d=tf.arraySlice(e.resultBuffer,n,r)}if("quaternion"===r){const e=(new br).fromArray(d).normalize().conjugate();e.toArray(d)}const p=i.times.length;for(let e=0;e<p;++e){const t=e*u+l;if("quaternion"===r)br.multiplyQuaternionsFlat(i.values,t,d,0,i.values,t);else{const e=u-2*l;for(let n=0;n<e;++n)i.values[t+n]-=d[n]}}}return e.blendMode=$t,e}};class nf{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const s=t[1];e<s&&(n=2,i=s);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}while(n<o){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}nf.prototype.beforeStart_=nf.prototype.copySampleValue_,nf.prototype.afterEnd_=nf.prototype.copySampleValue_;class rf extends nf{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vt,endingEnd:Vt}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,s=r[i],a=r[o];if(void 0===s)switch(this.getSettings_().endingStart){case Gt:i=e,s=2*t-n;break;case Ht:i=r.length-2,s=t+r[i]-r[i+1];break;default:i=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Gt:o=e,a=2*n-t;break;case Ht:o=1,a=n+r[1]-r[0];break;default:o=e-1,a=t}const c=.5*(n-t),l=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(a-n),this._offsetPrev=i*l,this._offsetNext=o*l}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,c=a-s,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(r-t),f=p*p,m=f*p,g=-h*m+2*h*f-h*p,v=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,b=d*m-d*f;for(let x=0;x!==s;++x)i[x]=g*o[l+x]+v*o[c+x]+y*o[a+x]+b*o[u+x];return i}}class of extends nf{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,c=a-s,l=(n-t)/(r-t),u=1-l;for(let h=0;h!==s;++h)i[h]=o[c+h]*u+o[a+h]*l;return i}}class sf extends nf{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class af{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tf.convertArray(t,this.TimeBufferType),this.values=tf.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:tf.convertArray(e.times,Array),values:tf.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new sf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new of(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rf(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case zt:t=this.InterpolantFactoryMethodDiscrete;break;case jt:t=this.InterpolantFactoryMethodLinear;break;case Ut:t=this.InterpolantFactoryMethodSmooth;break}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zt;case this.InterpolantFactoryMethodLinear:return jt;case this.InterpolantFactoryMethodSmooth:return Ut}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;while(i!==r&&n[i]<e)++i;while(-1!==o&&n[o]>t)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=tf.arraySlice(n,i,o),this.values=tf.arraySlice(this.values,i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==i;s++){const t=n[s];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,t,o),e=!1;break}o=t}if(void 0!==r&&tf.isTypedArray(r))for(let s=0,a=r.length;s!==a;++s){const t=r[s];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,t),e=!1;break}}return e}optimize(){const e=tf.arraySlice(this.times),t=tf.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Ut,i=e.length-1;let o=1;for(let s=1;s<i;++s){let i=!1;const a=e[s],c=e[s+1];if(a!==c&&(1!==s||a!==e[0]))if(r)i=!0;else{const e=s*n,r=e-n,o=e+n;for(let s=0;s!==n;++s){const n=t[e+s];if(n!==t[r+s]||n!==t[o+s]){i=!0;break}}}if(i){if(s!==o){e[o]=e[s];const r=s*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,s=0;s!==n;++s)t[r+s]=t[e+s];++o}return o!==e.length?(this.times=tf.arraySlice(e,0,o),this.values=tf.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=tf.arraySlice(this.times,0),t=tf.arraySlice(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}af.prototype.TimeBufferType=Float32Array,af.prototype.ValueBufferType=Float32Array,af.prototype.DefaultInterpolation=jt;class cf extends af{}cf.prototype.ValueTypeName="bool",cf.prototype.ValueBufferType=Array,cf.prototype.DefaultInterpolation=zt,cf.prototype.InterpolantFactoryMethodLinear=void 0,cf.prototype.InterpolantFactoryMethodSmooth=void 0;class lf extends af{}lf.prototype.ValueTypeName="color";class uf extends af{}uf.prototype.ValueTypeName="number";class hf extends nf{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(r-t);let c=e*s;for(let l=c+s;c!==l;c+=4)br.slerpFlat(i,0,o,c-s,o,c,a);return i}}class df extends af{InterpolantFactoryMethodLinear(e){return new hf(this.times,this.values,this.getValueSize(),e)}}df.prototype.ValueTypeName="quaternion",df.prototype.DefaultInterpolation=jt,df.prototype.InterpolantFactoryMethodSmooth=void 0;class pf extends af{}pf.prototype.ValueTypeName="string",pf.prototype.ValueBufferType=Array,pf.prototype.DefaultInterpolation=zt,pf.prototype.InterpolantFactoryMethodLinear=void 0,pf.prototype.InterpolantFactoryMethodSmooth=void 0;class ff extends af{}ff.prototype.ValueTypeName="vector";class mf{constructor(e,t=-1,n,r=Wt){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Un(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(vf(n[o]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=n.length;i!==o;++i)t.push(af.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,o=[];for(let s=0;s<i;s++){let e=[],a=[];e.push((s+i-1)%i,s,(s+1)%i),a.push(0,1,0);const c=tf.getKeyframeOrder(e);e=tf.sortedArray(e,1,c),a=tf.sortedArray(a,1,c),r||0!==e[0]||(e.push(i),a.push(a[0])),o.push(new uf(".morphTargetInfluences["+t[s].name+"]",e,a).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){const t=e[s],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const o=[];for(const s in r)o.push(this.CreateFromMorphTargetSequence(s,r[s],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],s=[];tf.flattenJSON(n,o,s,r),0!==o.length&&i.push(new e(t,o,s))}},r=[],i=e.name||"default",o=e.fps||30,s=e.blendMode;let a=e.length||-1;const c=e.hierarchy||[];for(let u=0;u<c.length;u++){const e=c[u].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],o=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),o.push(r.morphTarget===i?1:0)}r.push(new uf(".morphTargetInfluence["+i+"]",t,o))}a=t.length*(o||1)}else{const i=".bones["+t[u].name+"]";n(ff,i+".position",e,"pos",r),n(df,i+".quaternion",e,"rot",r),n(ff,i+".scale",e,"scl",r)}}if(0===r.length)return null;const l=new this(i,a,r,s);return l}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const e=this.tracks[n];t=Math.max(t,e.times[e.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function gf(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return uf;case"vector":case"vector2":case"vector3":case"vector4":return ff;case"color":return lf;case"quaternion":return df;case"bool":case"boolean":return cf;case"string":return pf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function vf(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=gf(e.type);if(void 0===e.times){const t=[],n=[];tf.flattenJSON(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const yf={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class bf{constructor(e,t,n){const r=this;let i=!1,o=0,s=0,a=void 0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,s),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){const t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=c.length;t<n;t+=2){const n=c[t],r=c[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const xf=new bf;class wf{constructor(e){this.manager=void 0!==e?e:xf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const _f={};class Sf extends wf{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=yf.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0!==_f[e])return void _f[e].push({onLoad:t,onProgress:n,onError:r});const s=/^data:(.*?)(;base64)?,(.*)$/,a=e.match(s);let c;if(a){const n=a[1],o=!!a[2];let s=a[3];s=decodeURIComponent(s),o&&(s=atob(s));try{let r;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const e=new Uint8Array(s.length);for(let n=0;n<s.length;n++)e[n]=s.charCodeAt(n);r="blob"===o?new Blob([e.buffer],{type:n}):e.buffer;break;case"document":const t=new DOMParser;r=t.parseFromString(s,n);break;case"json":r=JSON.parse(s);break;default:r=s;break}setTimeout((function(){t&&t(r),i.manager.itemEnd(e)}),0)}catch(l){setTimeout((function(){r&&r(l),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{_f[e]=[],_f[e].push({onLoad:t,onProgress:n,onError:r}),c=new XMLHttpRequest,c.open("GET",e,!0),c.addEventListener("load",(function(t){const n=this.response,r=_f[e];if(delete _f[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),yf.add(e,n);for(let e=0,t=r.length;e<t;e++){const t=r[e];t.onLoad&&t.onLoad(n)}i.manager.itemEnd(e)}else{for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onError&&n.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),c.addEventListener("progress",(function(t){const n=_f[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onProgress&&r.onProgress(t)}}),!1),c.addEventListener("error",(function(t){const n=_f[e];delete _f[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),c.addEventListener("abort",(function(t){const n=_f[e];delete _f[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(c.responseType=this.responseType),void 0!==this.withCredentials&&(c.withCredentials=this.withCredentials),c.overrideMimeType&&c.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeader)c.setRequestHeader(e,this.requestHeader[e]);c.send(null)}return i.manager.itemStart(e),c}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Mf extends wf{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Sf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=mf.parse(e[n]);t.push(r)}return t}}class Tf extends wf{constructor(e){super(e)}load(e,t,n,r){const i=this,o=[],s=new od,a=new Sf(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials);let c=0;function l(l){a.load(e[l],(function(e){const n=i.parse(e,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},c+=1,6===c&&(1===n.mipmapCount&&(s.minFilter=be),s.image=o,s.format=n.format,s.needsUpdate=!0,t&&t(s))}),n,r)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)l(u);else a.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}s.image=o}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=be),s.format=n.format,s.needsUpdate=!0,t&&t(s)}),n,r);return s}}class Ef extends wf{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=yf.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),yf.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return s.addEventListener("load",a,!1),s.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(e),s.src=e,s}}class Cf extends wf{constructor(e){super(e)}load(e,t,n,r){const i=new qo,o=new Ef(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(e[n],(function(e){i.images[n]=e,s++,6===s&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let c=0;c<e.length;++c)a(c);return i}}class Af extends wf{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Oh,s=new Sf(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(i.withCredentials),s.load(e,(function(e){const n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:de,o.wrapT=void 0!==n.wrapT?n.wrapT:de,o.magFilter=void 0!==n.magFilter?n.magFilter:be,o.minFilter=void 0!==n.minFilter?n.minFilter:be,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=_e),1===n.mipmapCount&&(o.minFilter=be),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}class Lf extends wf{constructor(e){super(e)}load(e,t,n,r){const i=new pr,o=new Ef(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;const r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?De:Be,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class Rf extends yd{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new zd(t,e))}getPoint(e){const t=e*this.getLength(),n=this.getCurveLengths();let r=0;while(r<n.length){if(n[r]>=t){const e=n[r]-t,i=this.curves[r],o=i.getLength(),s=0===o?0:1-e/o;return i.getPointAt(s)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],s=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s);for(let e=0;e<a.length;e++){const r=a[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Hd[n.type]).fromJSON(n))}return this}}class Of extends Rf{constructor(e){super(),this.type="Path",this.currentPoint=new cr,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new zd(this.currentPoint.clone(),new cr(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new Ud(this.currentPoint.clone(),new cr(e,t),new cr(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,o){const s=new Dd(this.currentPoint.clone(),new cr(e,t),new cr(n,r),new cr(i,o));return this.curves.push(s),this.currentPoint.set(i,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Gd(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,n,r,i,o),this}absarc(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}ellipse(e,t,n,r,i,o,s,a){const c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+c,t+l,n,r,i,o,s,a),this}absellipse(e,t,n,r,i,o,s,a){const c=new bd(e,t,n,r,i,o,s,a);if(this.curves.length>0){const e=c.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(c);const l=c.getPoint(1);return this.currentPoint.copy(l),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Pf extends Of{constructor(e){super(e),this.uuid=Un(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Of).fromJSON(n))}return this}}class kf extends _i{constructor(e,t=1){super(),this.type="Light",this.color=new Vi(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}kf.prototype.isLight=!0;class Nf extends kf{constructor(e,t,n){super(e,n),this.type="HemisphereLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.groundColor=new Vi(t)}copy(e){return kf.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}Nf.prototype.isHemisphereLight=!0;const Ff=new Jr,If=new xr,Df=new xr;class Bf{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new cr(512,512),this.map=null,this.mapPass=null,this.matrix=new Jr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ts,this._frameExtents=new cr(1,1),this._viewportCount=1,this._viewports=[new mr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;If.setFromMatrixPosition(e.matrixWorld),t.position.copy(If),Df.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Df),t.updateMatrixWorld(),Ff.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ff),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zf extends Bf{constructor(){super(new Go(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,n=2*jn*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}zf.prototype.isSpotLightShadow=!0;class jf extends kf{constructor(e,t,n=0,r=Math.PI/3,i=0,o=1){super(e,t),this.type="SpotLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.target=new _i,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.shadow=new zf}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}jf.prototype.isSpotLight=!0;const Uf=new Jr,Vf=new xr,Gf=new xr;class Hf extends Bf{constructor(){super(new Go(90,1,.5,500)),this._frameExtents=new cr(4,2),this._viewportCount=6,this._viewports=[new mr(2,1,1,1),new mr(0,1,1,1),new mr(3,1,1,1),new mr(1,1,1,1),new mr(3,0,1,1),new mr(1,0,1,1)],this._cubeDirections=[new xr(1,0,0),new xr(-1,0,0),new xr(0,0,1),new xr(0,0,-1),new xr(0,1,0),new xr(0,-1,0)],this._cubeUps=[new xr(0,1,0),new xr(0,1,0),new xr(0,1,0),new xr(0,1,0),new xr(0,0,1),new xr(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Vf.setFromMatrixPosition(e.matrixWorld),n.position.copy(Vf),Gf.copy(n.position),Gf.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Gf),n.updateMatrixWorld(),r.makeTranslation(-Vf.x,-Vf.y,-Vf.z),Uf.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Uf)}}Hf.prototype.isPointLightShadow=!0;class Wf extends kf{constructor(e,t,n=0,r=1){super(e,t),this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Hf}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Wf.prototype.isPointLight=!0;class $f extends Vo{constructor(e=-1,t=1,n=1,r=-1,i=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,s=r+t,a=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,s-=t*this.view.offsetY,a=s-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}$f.prototype.isOrthographicCamera=!0;class qf extends Bf{constructor(){super(new $f(-5,5,5,-5,.5,500))}}qf.prototype.isDirectionalLightShadow=!0;class Xf extends kf{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(_i.DefaultUp),this.updateMatrix(),this.target=new _i,this.shadow=new qf}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Xf.prototype.isDirectionalLight=!0;class Yf extends kf{constructor(e,t){super(e,t),this.type="AmbientLight"}}Yf.prototype.isAmbientLight=!0;class Zf extends kf{constructor(e,t,n=10,r=10){super(e,t),this.type="RectAreaLight",this.width=n,this.height=r}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}Zf.prototype.isRectAreaLight=!0;class Jf{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new xr)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}Jf.prototype.isSphericalHarmonics3=!0;class Kf extends kf{constructor(e=new Jf,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}Kf.prototype.isLightProbe=!0;class Qf extends wf{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,o=new Sf(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=new ef[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new Vi).setHex(e.sheen)),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new Vi).setHex(t.value);break;case"v2":r.uniforms[i].value=(new cr).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new xr).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new mr).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new lr).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new Jr).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new cr).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new cr).fromArray(e.clearcoatNormalScale)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),r}setTextures(e){return this.textures=e,this}}class em{static decodeText(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(n){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}}class tm extends fo{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}tm.prototype.isInstancedBufferGeometry=!0;class nm extends $i{constructor(e,t,n,r=1){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,n),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}nm.prototype.isInstancedBufferAttribute=!0;class rm extends wf{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Sf(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,n){if(void 0!==t[n])return t[n];const r=e.interleavedBuffers,o=r[n],s=i(e,o.buffer),a=oo(o.type,s),c=new nh(a,o.stride);return c.uuid=o.uuid,t[n]=c,c}function i(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],o=new Uint32Array(i).buffer;return n[t]=o,o}const o=e.isInstancedBufferGeometry?new tm:new fo,s=e.data.index;if(void 0!==s){const e=oo(s.type,s.array);o.setIndex(new $i(e,1))}const a=e.data.attributes;for(const d in a){const t=a[d];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new ih(i,t.itemSize,t.offset,t.normalized)}else{const e=oo(t.type,t.array),r=t.isInstancedBufferAttribute?nm:$i;n=new r(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),void 0!==t.updateRange&&(n.updateRange.offset=t.updateRange.offset,n.updateRange.count=t.updateRange.count),o.setAttribute(d,n)}const c=e.data.morphAttributes;if(c)for(const d in c){const t=c[d],n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i];let s;if(o.isInterleavedBufferAttribute){const t=r(e.data,o.data);s=new ih(t,o.itemSize,o.offset,o.normalized)}else{const e=oo(o.type,o.array);s=new $i(e,o.itemSize,o.normalized)}void 0!==o.name&&(s.name=o.name),n.push(s)}o.morphAttributes[d]=n}const l=e.data.morphTargetsRelative;l&&(o.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==u)for(let d=0,p=u.length;d!==p;++d){const e=u[d];o.addGroup(e.start,e.count,e.materialIndex)}const h=e.data.boundingSphere;if(void 0!==h){const e=new xr;void 0!==h.center&&e.fromArray(h.center),o.boundingSphere=new Vr(e,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class im extends wf{constructor(e){super(e)}load(e,t,n,r){const i=this,o=""===this.path?em.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new Sf(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(a){return void 0!==r&&r(a),void console.error("THREE:ObjectLoader: Can't parse "+e+".",a.message)}const s=o.metadata;void 0!==s&&void 0!==s.type&&"geometry"!==s.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}async loadAsync(e,t){const n=this,r=""===this.path?em.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const i=new Sf(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const o=await i.loadAsync(e,t),s=JSON.parse(o),a=s.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(s)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,(function(){void 0!==t&&t(c)})),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,i,a,s,n),l=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,l),void 0!==t){let e=!1;for(const t in o)if(o[t]instanceof HTMLImageElement){e=!0;break}!1===e&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,o),a=this.parseObject(e.object,r,s,o,t),c=this.parseSkeletons(e.skeletons,a);return this.bindSkeletons(a,c),a}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new Pf).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let i=0,o=e.length;i<o;i++){const t=(new Nh).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new rm;for(let i=0,o=e.length;i<o;i++){let o;const s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:s.type in Gp?o=Gp[s.type].fromJSON(s,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${s.type}"`)}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new Qf;i.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];if("MultiMaterial"===o.type){const e=[];for(let t=0;t<o.materials.length;t++){const r=o.materials[t];void 0===n[r.uuid]&&(n[r.uuid]=i.parse(r)),e.push(n[r.uuid])}r[o.uuid]=e}else void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=mf.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function o(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}function s(e){if("string"===typeof e){const t=e,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t;return o(r)}return e.data?{data:oo(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new bf(t);i=new Ef(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){r[n.uuid]=[];for(let e=0,t=i.length;e<t;e++){const t=i[e],o=s(t);null!==o&&(o instanceof HTMLImageElement?r[n.uuid].push(o):r[n.uuid].push(new Oh(o.data,o.width,o.height)))}}else{const e=s(n.url);null!==e&&(r[n.uuid]=e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"===typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:oo(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new Ef(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],o=r.url;if(Array.isArray(o)){n[r.uuid]=[];for(let e=0,t=o.length;e<t;e++){const t=o[e],s=await i(t);null!==s&&(s instanceof HTMLImageElement?n[r.uuid].push(s):n[r.uuid].push(new Oh(s.data,s.width,s.height)))}}else{const e=await i(r.url);null!==e&&(n[r.uuid]=e)}}}return n}parseTextures(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,o=e.length;i<o;i++){const o=e[i];let s;void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const a=t[o.image];Array.isArray(a)?(s=new qo(a),6===a.length&&(s.needsUpdate=!0)):(s=a&&a.data?new Oh(a.data,a.width,a.height):new pr(a),a&&(s.needsUpdate=!0)),s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,om)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],sm),s.wrapT=n(o.wrap[1],sm)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,am)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,am)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}return r}parseObject(e,t,n,r,i){let o,s,a;function c(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":o=new th,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new Vi(e.background):o.background=u(e.background)),void 0!==e.environment&&(o.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new eh(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new Qu(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Go(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new $f(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Yf(e.color,e.intensity);break;case"DirectionalLight":o=new Xf(e.color,e.intensity);break;case"PointLight":o=new Wf(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Zf(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new jf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Nf(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new Kf).fromJSON(e);break;case"SkinnedMesh":s=c(e.geometry),a=l(e.material),o=new Lh(s,a),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":s=c(e.geometry),a=l(e.material),o=new Po(s,a);break;case"InstancedMesh":s=c(e.geometry),a=l(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;o=new zh(s,a,t),o.instanceMatrix=new $i(new Float32Array(n.array),16),void 0!==r&&(o.instanceColor=new $i(new Float32Array(r.array),r.itemSize));break;case"LOD":o=new Sh;break;case"Line":o=new $h(c(e.geometry),l(e.material));break;case"LineLoop":o=new Zh(c(e.geometry),l(e.material));break;case"LineSegments":o=new Yh(c(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new nd(c(e.geometry),l(e.material));break;case"Sprite":o=new bh(l(e.material));break;case"Group":o=new Wu;break;case"Bone":o=new Rh;break;default:o=new _i}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){const s=e.children;for(let e=0;e<s.length;e++)o.add(this.parseObject(s[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];o.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=o.getObjectByProperty("uuid",n.object);void 0!==r&&o.addLevel(r,n.distance)}}return o}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const om={UVMapping:ie,CubeReflectionMapping:oe,CubeRefractionMapping:se,EquirectangularReflectionMapping:ae,EquirectangularRefractionMapping:ce,CubeUVReflectionMapping:le,CubeUVRefractionMapping:ue},sm={RepeatWrapping:he,ClampToEdgeWrapping:de,MirroredRepeatWrapping:pe},am={NearestFilter:fe,NearestMipmapNearestFilter:me,NearestMipmapLinearFilter:ve,LinearFilter:be,LinearMipmapNearestFilter:xe,LinearMipmapLinearFilter:_e};class cm extends wf{constructor(e){super(e),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=yf.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){yf.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}cm.prototype.isImageBitmapLoader=!0;class lm{constructor(){this.type="ShapePath",this.color=new Vi,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Of,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function n(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new Pf;i.curves=r.curves,t.push(i)}return t}function r(e,t){const n=t.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=t[i],s=t[o],a=s.x-n.x,c=s.y-n.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(n=t[o],a=-a,s=t[i],c=-c),e.y<n.y||e.y>s.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=c*(e.x-n.x)-a*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return r}const i=Sp.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);let s,a,c;const l=[];if(1===o.length)return a=o[0],c=new Pf,c.curves=a.curves,l.push(c),l;let u=!i(o[0].getPoints());u=e?!u:u;const h=[],d=[];let p,f,m=[],g=0;d[g]=void 0,m[g]=[];for(let v=0,y=o.length;v<y;v++)a=o[v],p=a.getPoints(),s=i(p),s=e?!s:s,s?(!u&&d[g]&&g++,d[g]={s:new Pf,p:p},d[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:p[0]});if(!d[0])return n(o);if(d.length>1){let e=!1;const t=[];for(let n=0,r=d.length;n<r;n++)h[n]=[];for(let n=0,i=d.length;n<i;n++){const i=m[n];for(let o=0;o<i.length;o++){const s=i[o];let a=!0;for(let i=0;i<d.length;i++)r(s.p,d[i].p)&&(n!==i&&t.push({froms:n,tos:i,hole:o}),a?(a=!1,h[i].push(s)):e=!0);a&&h[n].push(s)}}t.length>0&&(e||(m=h))}for(let v=0,y=d.length;v<y;v++){c=d[v].s,l.push(c),f=m[v];for(let e=0,t=f.length;e<t;e++)c.holes.push(f[e].h)}return l}}class um{constructor(e){this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],r=hm(e,t,this.data);for(let i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}function hm(e,t,n){const r=Array.from(e),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,s=[];let a=0,c=0;for(let l=0;l<r.length;l++){const e=r[l];if("\n"===e)a=0,c-=o;else{const t=dm(e,i,a,c,n);a+=t.offsetX,s.push(t.path)}}return s}function dm(e,t,n,r,i){const o=i.glyphs[e]||i.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".");const s=new lm;let a,c,l,u,h,d,p,f;if(o.o){const e=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let i=0,o=e.length;i<o;){const o=e[i++];switch(o){case"m":a=e[i++]*t+n,c=e[i++]*t+r,s.moveTo(a,c);break;case"l":a=e[i++]*t+n,c=e[i++]*t+r,s.lineTo(a,c);break;case"q":l=e[i++]*t+n,u=e[i++]*t+r,h=e[i++]*t+n,d=e[i++]*t+r,s.quadraticCurveTo(h,d,l,u);break;case"b":l=e[i++]*t+n,u=e[i++]*t+r,h=e[i++]*t+n,d=e[i++]*t+r,p=e[i++]*t+n,f=e[i++]*t+r,s.bezierCurveTo(h,d,p,f,l,u);break}}}return{offsetX:o.ha*t,path:s}}um.prototype.isFont=!0;class pm extends wf{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Sf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){let n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}const r=i.parse(n);t&&t(r)}),n,r)}parse(e){return new um(e)}}let fm;const mm={getContext:function(){return void 0===fm&&(fm=new(window.AudioContext||window.webkitAudioContext)),fm},setContext:function(e){fm=e}};class gm extends wf{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Sf(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{const e=n.slice(0),r=mm.getContext();r.decodeAudioData(e,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}class vm extends Kf{constructor(e,t,n=1){super(void 0,n);const r=(new Vi).set(e),i=(new Vi).set(t),o=new xr(r.r,r.g,r.b),s=new xr(i.r,i.g,i.b),a=Math.sqrt(Math.PI),c=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(c)}}vm.prototype.isHemisphereLightProbe=!0;class ym extends Kf{constructor(e,t=1){super(void 0,t);const n=(new Vi).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}ym.prototype.isAmbientLightProbe=!0;const bm=new Jr,xm=new Jr;class wm{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Go,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Go,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache,n=t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep;if(n){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const n=e.projectionMatrix.clone(),r=t.eyeSep/2,i=r*t.near/t.focus,o=t.near*Math.tan(zn*t.fov*.5)/t.zoom;let s,a;xm.elements[12]=-r,bm.elements[12]=r,s=-o*t.aspect+i,a=o*t.aspect+i,n.elements[0]=2*t.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(n),s=-o*t.aspect-i,a=o*t.aspect-i,n.elements[0]=2*t.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(xm),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(bm)}}class _m{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Sm(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Sm();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Sm(){return("undefined"===typeof performance?Date:performance).now()}const Mm=new xr,Tm=new br,Em=new xr,Cm=new xr;class Am extends _i{constructor(){super(),this.type="AudioListener",this.context=mm.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new _m}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Mm,Tm,Em),Cm.set(0,0,-1).applyQuaternion(Tm),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Mm.x,e),t.positionY.linearRampToValueAtTime(Mm.y,e),t.positionZ.linearRampToValueAtTime(Mm.z,e),t.forwardX.linearRampToValueAtTime(Cm.x,e),t.forwardY.linearRampToValueAtTime(Cm.y,e),t.forwardZ.linearRampToValueAtTime(Cm.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(Mm.x,Mm.y,Mm.z),t.setOrientation(Cm.x,Cm.y,Cm.z,n.x,n.y,n.z)}}class Lm extends _i{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Rm=new xr,Om=new br,Pm=new xr,km=new xr;class Nm extends Lm{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Rm,Om,Pm),km.set(0,0,1).applyQuaternion(Om);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rm.x,e),t.positionY.linearRampToValueAtTime(Rm.y,e),t.positionZ.linearRampToValueAtTime(Rm.z,e),t.orientationX.linearRampToValueAtTime(km.x,e),t.orientationY.linearRampToValueAtTime(km.y,e),t.orientationZ.linearRampToValueAtTime(km.z,e)}else t.setPosition(Rm.x,Rm.y,Rm.z),t.setOrientation(km.x,km.y,km.z)}}class Fm{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Im{constructor(e,t,n){let r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==r;++e)n[i+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let a=t,c=t+t;a!==c;++a)if(n[a]!==n[a+t]){s.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let o=0;o!==i;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){br.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const o=this._workIndex*i;br.multiplyQuaternionsFlat(e,o,e,t,e,n),br.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,i){const o=1-r;for(let s=0;s!==i;++s){const i=t+s;e[i]=e[i]*o+e[n+s]*r}}_lerpAdditive(e,t,n,r,i){for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]+e[n+o]*r}}}const Dm="\\[\\]\\.:\\/",Bm=new RegExp("["+Dm+"]","g"),zm="[^"+Dm+"]",jm="[^"+Dm.replace("\\.","")+"]",Um=/((?:WC+[\/:])*)/.source.replace("WC",zm),Vm=/(WCOD+)?/.source.replace("WCOD",jm),Gm=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zm),Hm=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zm),Wm=new RegExp("^"+Um+Vm+Gm+Hm+"$"),$m=["material","materials","bones"];class qm{constructor(e,t,n){const r=n||Xm.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Xm{constructor(e,t,n){this.path=t,this.parsedPath=n||Xm.parseTrackName(t),this.node=Xm.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Xm.Composite(e,t,n):new Xm(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Bm,"")}static parseTrackName(e){const t=Wm.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==$m.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.node[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Xm.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Xm.Composite=qm,Xm.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Xm.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Xm.prototype.GetterByBindingType=[Xm.prototype._getValue_direct,Xm.prototype._getValue_array,Xm.prototype._getValue_arrayElement,Xm.prototype._getValue_toArray],Xm.prototype.SetterByBindingTypeAndVersioning=[[Xm.prototype._setValue_direct,Xm.prototype._setValue_direct_setNeedsUpdate,Xm.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xm.prototype._setValue_array,Xm.prototype._setValue_array_setNeedsUpdate,Xm.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xm.prototype._setValue_arrayElement,Xm.prototype._setValue_arrayElement_setNeedsUpdate,Xm.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xm.prototype._setValue_fromArray,Xm.prototype._setValue_fromArray_setNeedsUpdate,Xm.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ym{constructor(){this.uuid=Un(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let s=void 0,a=e.length,c=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const u=arguments[l],h=u.uuid;let d=t[h];if(void 0===d){d=a++,t[h]=d,e.push(u);for(let e=0,t=o;e!==t;++e)i[e].push(new Xm(u,n[e],r[e]))}else if(d<c){s=e[d];const a=--c,l=e[a];t[l.uuid]=d,e[d]=l,t[h]=a,e[a]=u;for(let e=0,t=o;e!==t;++e){const t=i[e],o=t[a];let s=t[d];t[d]=o,void 0===s&&(s=new Xm(u,n[e],r[e])),t[a]=s}}else e[d]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,c=t[a];if(void 0!==c&&c>=i){const o=i++,l=e[o];t[l.uuid]=c,e[c]=l,t[a]=o,e[o]=s;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[c];t[c]=r,t[o]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=e.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s],c=a.uuid,l=t[c];if(void 0!==l)if(delete t[c],l<i){const s=--i,a=e[s],c=--o,u=e[c];t[a.uuid]=l,e[l]=a,t[u.uuid]=s,e[s]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[s],i=t[c];t[l]=r,t[s]=i,t.pop()}}else{const i=--o,s=e[i];i>0&&(t[s.uuid]=l),e[l]=s,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,s=this._parsedPaths,a=this._objects,c=a.length,l=this.nCachedObjects_,u=new Array(c);r=i.length,n[e]=r,o.push(e),s.push(t),i.push(u);for(let h=l,d=a.length;h!==d;++h){const n=a[h];u[h]=new Xm(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s],c=e[s];t[c]=n,o[n]=a,o.pop(),i[n]=i[s],i.pop(),r[n]=r[s],r.pop()}}}Ym.prototype.isAnimationObjectGroup=!0;class Zm{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,o=i.length,s=new Array(o),a={endingStart:Vt,endingEnd:Vt};for(let c=0;c!==o;++c){const e=i[c].createInterpolant(null);s[c]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Dt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,o=n/r;e.warp(1,i,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,c=s.sampleValues;return a[0]=i,a[1]=i+n,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;if(r<0||0===n)return;this._startTime=null,t=n*r}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const e=this._interpolants,t=this._propertyBindings;switch(this.blendMode){case $t:for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulateAdditive(s);break;case Wt:default:for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulate(r,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const o=n===Bt;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(n===It){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1===(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=Gt,r.endingEnd=Gt):(r.endingStart=e?this.zeroSlopeAtStart?Gt:Vt:Ht,r.endingEnd=t?this.zeroSlopeAtEnd?Gt:Vt:Ht)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=i,a[0]=t,s[1]=i+e,a[1]=n,this}}class Jm extends In{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,c=this._bindingsByRootAndName;let l=c[a];void 0===l&&(l={},c[a]=l);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let c=l[i];if(void 0!==c)o[u]=c;else{if(c=o[u],void 0!==c){null===c._cacheIndex&&(++c.referenceCount,this._addInactiveBinding(c,a,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;c=new Im(Xm.create(n,i,r),e.ValueTypeName,e.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,a,i),o[u]=c}s[u].resultBuffer=c.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,s=o[i],a=s.knownActions,c=a[a.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,a[l]=c,a.pop(),e._byClipCacheIndex=null;const u=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete u[h],0===a.length&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,s=o[r],a=t[t.length-1],c=e._cacheIndex;a._cacheIndex=c,t[c]=a,t.pop(),delete s[i],0===Object.keys(s).length&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new of(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let o="string"===typeof e?mf.findByName(r,e):e;const s=null!==o?o.uuid:e,a=this._actionsByClip[s];let c=null;if(void 0===n&&(n=null!==o?o.blendMode:Wt),void 0!==a){const e=a.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;c=a.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const l=new Zm(this,o,t,n);return this._bindAction(l,c),this._addInactiveAction(l,s,i),l}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"===typeof e?mf.findByName(n,e):e,o=i?i.uuid:e,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==n;++c){const n=t[c];n._update(r,e,i,o)}const s=this._bindings,a=this._nActiveBindings;for(let c=0;c!==a;++c)s[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,o=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,t[i]=o,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const e=n[o].actionByRoot,r=e[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName,i=r[t];if(void 0!==i)for(const o in i){const e=i[o];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}Jm.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Km{constructor(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Km(void 0===this.value.clone?this.value:this.value.clone())}}class Qm extends nh{constructor(e,t,n=1){super(e,t),this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}Qm.prototype.isInstancedInterleavedBuffer=!0;class eg{constructor(e,t,n,r,i){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}eg.prototype.isGLBufferAttribute=!0;class tg{constructor(e,t,n=0,r=1/0){this.ray=new Zr(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new ci,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!1,n=[]){return rg(e,this,n,t),n.sort(ng),n}intersectObjects(e,t=!1,n=[]){for(let r=0,i=e.length;r<i;r++)rg(e[r],this,n,t);return n.sort(ng),n}}function ng(e,t){return e.distance-t.distance}function rg(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)rg(r[e],t,n,!0)}}class ig{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Vn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class og{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const sg=new cr;class ag{constructor(e=new cr(1/0,1/0),t=new cr(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=sg.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){const t=sg.copy(e).clamp(this.min,this.max);return t.sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}ag.prototype.isBox2=!0;const cg=new xr,lg=new xr;class ug{constructor(e=new xr,t=new xr){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){cg.subVectors(e,this.start),lg.subVectors(this.end,this.start);const n=lg.dot(lg),r=lg.dot(cg);let i=r/n;return t&&(i=Vn(i,0,1)),i}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}class hg extends _i{constructor(e){super(),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}hg.prototype.isImmediateRenderObject=!0;const dg=new xr;class pg extends _i{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new fo,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){const e=o/a*Math.PI*2,t=s/a*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new to(r,3));const i=new jh({fog:!1,toneMapped:!1});this.cone=new Yh(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),dg.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dg),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const fg=new xr,mg=new Jr,gg=new Jr;class vg extends Yh{constructor(e){const t=yg(e),n=new fo,r=[],i=[],o=new Vi(0,0,1),s=new Vi(0,1,0);for(let c=0;c<t.length;c++){const e=t[c];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(s.r,s.g,s.b))}n.setAttribute("position",new to(r,3)),n.setAttribute("color",new to(i,3));const a=new jh({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,a),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");gg.copy(this.root.matrixWorld).invert();for(let i=0,o=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(mg.multiplyMatrices(gg,e.matrixWorld),fg.setFromMatrixPosition(mg),r.setXYZ(o,fg.x,fg.y,fg.z),mg.multiplyMatrices(gg,e.parent.matrixWorld),fg.setFromMatrixPosition(mg),r.setXYZ(o+1,fg.x,fg.y,fg.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function yg(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,yg(e.children[n]));return t}class bg extends Po{constructor(e,t,n){const r=new Ip(t,4,2),i=new Gi({wireframe:!0,fog:!1,toneMapped:!1});super(r,i),this.light=e,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const xg=new xr,wg=new Vi,_g=new Vi;class Sg extends _i{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new Op(t);r.rotateY(.5*Math.PI),this.material=new Gi({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new $i(o,3)),this.add(new Po(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");wg.copy(this.light.color),_g.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?wg:_g;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(xg.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Mg extends Yh{constructor(e=10,t=10,n=4473924,r=8947848){n=new Vi(n),r=new Vi(r);const i=t/2,o=e/t,s=e/2,a=[],c=[];for(let h=0,d=0,p=-s;h<=t;h++,p+=o){a.push(-s,0,p,s,0,p),a.push(p,0,-s,p,0,s);const e=h===i?n:r;e.toArray(c,d),d+=3,e.toArray(c,d),d+=3,e.toArray(c,d),d+=3,e.toArray(c,d),d+=3}const l=new fo;l.setAttribute("position",new to(a,3)),l.setAttribute("color",new to(c,3));const u=new jh({vertexColors:!0,toneMapped:!1});super(l,u),this.type="GridHelper"}}class Tg extends Yh{constructor(e=10,t=16,n=8,r=64,i=4473924,o=8947848){i=new Vi(i),o=new Vi(o);const s=[],a=[];for(let u=0;u<=t;u++){const n=u/t*(2*Math.PI),r=Math.sin(n)*e,c=Math.cos(n)*e;s.push(0,0,0),s.push(r,0,c);const l=1&u?i:o;a.push(l.r,l.g,l.b),a.push(l.r,l.g,l.b)}for(let u=0;u<=n;u++){const t=1&u?i:o,c=e-e/n*u;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*c,o=Math.cos(n)*c;s.push(i,0,o),a.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*c,o=Math.cos(n)*c,s.push(i,0,o),a.push(t.r,t.g,t.b)}}const c=new fo;c.setAttribute("position",new to(s,3)),c.setAttribute("color",new to(a,3));const l=new jh({vertexColors:!0,toneMapped:!1});super(c,l),this.type="PolarGridHelper"}}const Eg=new xr,Cg=new xr,Ag=new xr;class Lg extends _i{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);let r=new fo;r.setAttribute("position",new to([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new jh({fog:!1,toneMapped:!1});this.lightPlane=new $h(r,i),this.add(this.lightPlane),r=new fo,r.setAttribute("position",new to([0,0,0,0,0,1],3)),this.targetLine=new $h(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){Eg.setFromMatrixPosition(this.light.matrixWorld),Cg.setFromMatrixPosition(this.light.target.matrixWorld),Ag.subVectors(Cg,Eg),this.lightPlane.lookAt(Cg),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Cg),this.targetLine.scale.z=Ag.length()}}const Rg=new xr,Og=new Vo;class Pg extends Yh{constructor(e){const t=new fo,n=new jh({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={},s=new Vi(16755200),a=new Vi(16711680),c=new Vi(43775),l=new Vi(16777215),u=new Vi(3355443);function h(e,t,n){d(e,n),d(t,n)}function d(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}h("n1","n2",s),h("n2","n4",s),h("n4","n3",s),h("n3","n1",s),h("f1","f2",s),h("f2","f4",s),h("f4","f3",s),h("f3","f1",s),h("n1","f1",s),h("n2","f2",s),h("n3","f3",s),h("n4","f4",s),h("p","n1",a),h("p","n2",a),h("p","n3",a),h("p","n4",a),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",l),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),t.setAttribute("position",new to(r,3)),t.setAttribute("color",new to(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;Og.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),kg("c",t,e,Og,0,0,-1),kg("t",t,e,Og,0,0,1),kg("n1",t,e,Og,-n,-r,-1),kg("n2",t,e,Og,n,-r,-1),kg("n3",t,e,Og,-n,r,-1),kg("n4",t,e,Og,n,r,-1),kg("f1",t,e,Og,-n,-r,1),kg("f2",t,e,Og,n,-r,1),kg("f3",t,e,Og,-n,r,1),kg("f4",t,e,Og,n,r,1),kg("u1",t,e,Og,.7*n,1.1*r,-1),kg("u2",t,e,Og,.7*-n,1.1*r,-1),kg("u3",t,e,Og,0,2*r,-1),kg("cf1",t,e,Og,-n,0,1),kg("cf2",t,e,Og,n,0,1),kg("cf3",t,e,Og,0,-r,1),kg("cf4",t,e,Og,0,r,1),kg("cn1",t,e,Og,-n,0,-1),kg("cn2",t,e,Og,n,0,-1),kg("cn3",t,e,Og,0,-r,-1),kg("cn4",t,e,Og,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kg(e,t,n,r,i,o,s){Rg.set(i,o,s).unproject(r);const a=t[e];if(void 0!==a){const e=n.getAttribute("position");for(let t=0,n=a.length;t<n;t++)e.setXYZ(a[t],Rg.x,Rg.y,Rg.z)}}const Ng=new Sr;class Fg extends Yh{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new fo;i.setIndex(new $i(n,1)),i.setAttribute("position",new $i(r,3)),super(i,new jh({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Ng.setFromObject(this.object),Ng.isEmpty())return;const t=Ng.min,n=Ng.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Yh.prototype.copy.call(this,e),this.object=e.object,this}}class Ig extends Yh{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],i=new fo;i.setIndex(new $i(n,1)),i.setAttribute("position",new to(r,3)),super(i,new jh({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class Dg extends $h{constructor(e,t=1,n=16776960){const r=n,i=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new fo;o.setAttribute("position",new to(i,3)),o.computeBoundingSphere(),super(o,new jh({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],a=new fo;a.setAttribute("position",new to(s,3)),a.computeBoundingSphere(),this.add(new Po(a,new Gi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?m:f,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const Bg=new xr;let zg,jg;class Ug extends _i{constructor(e=new xr(0,0,1),t=new xr(0,0,0),n=1,r=16776960,i=.2*n,o=.2*i){super(),this.type="ArrowHelper",void 0===zg&&(zg=new fo,zg.setAttribute("position",new to([0,0,0,0,1,0],3)),jg=new ld(0,.5,1,5,1),jg.translate(0,-.5,0)),this.position.copy(t),this.line=new $h(zg,new jh({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Po(jg,new Gi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Bg.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Bg,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class Vg extends Yh{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new fo;r.setAttribute("position",new to(t,3)),r.setAttribute("color",new to(n,3));const i=new jh({vertexColors:!0,toneMapped:!1});super(r,i),this.type="AxesHelper"}setColors(e,t,n){const r=new Vi,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const Gg=new Float32Array(1),Hg=new Int32Array(Gg.buffer);class Wg{static toHalfFloat(e){Gg[0]=e;const t=Hg[0];let n=t>>16&32768,r=t>>12&2047;const i=t>>23&255;return i<103?n:i>142?(n|=31744,n|=(255==i?0:1)&&8388607&t,n):i<113?(r|=2048,n|=(r>>114-i)+(r>>113-i&1),n):(n|=i-112<<10|r>>1,n+=1&r,n)}}const $g=4,qg=8,Xg=Math.pow(2,qg),Yg=[.125,.215,.35,.446,.526,.582],Zg=qg-$g+1+Yg.length,Jg=20,Kg={[Zt]:0,[Jt]:1,[Qt]:2,[tn]:3,[nn]:4,[rn]:5,[Kt]:6},Qg=new Gi({side:m,depthWrite:!1,depthTest:!1}),ev=new Po(new Fo,Qg),tv=new $f,{_lodPlanes:nv,_sizeLods:rv,_sigmas:iv}=pv(),ov=new Vi;let sv=null;const av=(1+Math.sqrt(5))/2,cv=1/av,lv=[new xr(1,1,1),new xr(-1,1,1),new xr(1,1,-1),new xr(-1,1,-1),new xr(0,av,cv),new xr(0,av,-cv),new xr(cv,0,av),new xr(-cv,0,av),new xr(av,cv,0),new xr(-av,cv,0)];function uv(e){const t=Math.max(e.r,e.g,e.b),n=Math.min(Math.max(Math.ceil(Math.log2(t)),-128),127);e.multiplyScalar(Math.pow(2,-n));const r=(n+128)/255;return r}class hv{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=gv(Jg),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){sv=this._renderer.getRenderTarget();const i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=yv(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=vv(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<nv.length;e++)nv[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(sv),e.scissorTest=!1,mv(e,0,0,e.width,e.height)}_fromTexture(e){sv=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:fe,minFilter:fe,generateMipmaps:!1,type:Me,format:Ue,encoding:dv(e)?e.encoding:Qt,depthBuffer:!1},n=fv(t);return n.depthBuffer=!e,this._pingPongRenderTarget=fv(t),n}_compileMaterial(e){const t=new Po(nv[0],e);this._renderer.compile(t,tv)}_sceneToCubeUV(e,t,n,r){const i=90,o=1,s=new Go(i,o,t,n),a=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],l=this._renderer,u=l.autoClear,h=l.outputEncoding,d=l.toneMapping;l.getClearColor(ov),l.toneMapping=K,l.outputEncoding=Zt,l.autoClear=!1;let p=!1;const f=e.background;if(f){if(f.isColor){Qg.color.copy(f).convertSRGBToLinear(),e.background=null;const t=uv(Qg.color);Qg.opacity=t,p=!0}}else{Qg.color.copy(ov).convertSRGBToLinear();const e=uv(Qg.color);Qg.opacity=e,p=!0}for(let m=0;m<6;m++){const t=m%3;0==t?(s.up.set(0,a[m],0),s.lookAt(c[m],0,0)):1==t?(s.up.set(0,0,a[m]),s.lookAt(0,c[m],0)):(s.up.set(0,a[m],0),s.lookAt(0,0,c[m])),mv(r,t*Xg,m>2?Xg:0,Xg,Xg),l.setRenderTarget(r),p&&l.render(ev,s),l.render(e,s)}l.toneMapping=d,l.outputEncoding=h,l.autoClear=u}_textureToCubeUV(e,t){const n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=yv()):null==this._equirectShader&&(this._equirectShader=vv());const r=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new Po(nv[0],r),o=r.uniforms;o["envMap"].value=e,e.isCubeTexture||o["texelSize"].value.set(1/e.image.width,1/e.image.height),o["inputEncoding"].value=Kg[e.encoding],o["outputEncoding"].value=Kg[t.texture.encoding],mv(t,0,0,3*Xg,2*Xg),n.setRenderTarget(t),n.render(i,tv)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<Zg;r++){const t=Math.sqrt(iv[r]*iv[r]-iv[r-1]*iv[r-1]),n=lv[(r-1)%lv.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,s){const a=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const l=3,u=new Po(nv[r],c),h=c.uniforms,d=rv[n]-1,p=isFinite(i)?Math.PI/(2*d):2*Math.PI/(2*Jg-1),f=i/p,m=isFinite(i)?1+Math.floor(l*f):Jg;m>Jg&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Jg}`);const g=[];let v=0;for(let w=0;w<Jg;++w){const e=w/f,t=Math.exp(-e*e/2);g.push(t),0==w?v+=t:w<m&&(v+=2*t)}for(let w=0;w<g.length;w++)g[w]=g[w]/v;h["envMap"].value=e.texture,h["samples"].value=m,h["weights"].value=g,h["latitudinal"].value="latitudinal"===o,s&&(h["poleAxis"].value=s),h["dTheta"].value=p,h["mipInt"].value=qg-n,h["inputEncoding"].value=Kg[e.texture.encoding],h["outputEncoding"].value=Kg[e.texture.encoding];const y=rv[r],b=3*Math.max(0,Xg-2*y),x=(0===r?0:2*Xg)+2*y*(r>qg-$g?r-qg+$g:0);mv(t,b,x,3*y,2*y),a.setRenderTarget(t),a.render(u,tv)}}function dv(e){return void 0!==e&&e.type===Me&&(e.encoding===Zt||e.encoding===Jt||e.encoding===Kt)}function pv(){const e=[],t=[],n=[];let r=qg;for(let i=0;i<Zg;i++){const o=Math.pow(2,r);t.push(o);let s=1/o;i>qg-$g?s=Yg[i-qg+$g-1]:0==i&&(s=0),n.push(s);const a=1/(o-1),c=-a/2,l=1+a/2,u=[c,c,l,c,l,l,c,c,l,l,c,l],h=6,d=6,p=3,f=2,m=1,g=new Float32Array(p*d*h),v=new Float32Array(f*d*h),y=new Float32Array(m*d*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];g.set(r,p*d*e),v.set(u,f*d*e);const i=[e,e,e,e,e,e];y.set(i,m*d*e)}const b=new fo;b.setAttribute("position",new $i(g,p)),b.setAttribute("uv",new $i(v,f)),b.setAttribute("faceIndex",new $i(y,m)),e.push(b),r>$g&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function fv(e){const t=new gr(3*Xg,3*Xg,e);return t.texture.mapping=le,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function mv(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function gv(e){const t=new Float32Array(e),n=new xr(0,1,0),r=new Wp({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Kg[Zt]},outputEncoding:{value:Kg[Zt]}},vertexShader:bv(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${xv()}\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:b,depthTest:!1,depthWrite:!1});return r}function vv(){const e=new cr(1,1),t=new Wp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:Kg[Zt]},outputEncoding:{value:Kg[Zt]}},vertexShader:bv(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${xv()}\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:b,depthTest:!1,depthWrite:!1});return t}function yv(){const e=new Wp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Kg[Zt]},outputEncoding:{value:Kg[Zt]}},vertexShader:bv(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${xv()}\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:b,depthTest:!1,depthWrite:!1});return e}function bv(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function xv(){return"\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t"}const wv=0,_v=1,Sv=0,Mv=1,Tv=2;function Ev(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Cv(e=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Av(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new nd(e,t)}function Lv(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new bh(e)}function Rv(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new nd(e,t)}function Ov(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Jh(e)}function Pv(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Jh(e)}function kv(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Jh(e)}function Nv(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new xr(e,t,n)}function Fv(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new $i(e,t).setUsage(En)}function Iv(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new qi(e,t)}function Dv(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Xi(e,t)}function Bv(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Yi(e,t)}function zv(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Zi(e,t)}function jv(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ji(e,t)}function Uv(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ki(e,t)}function Vv(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Qi(e,t)}function Gv(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new to(e,t)}function Hv(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new no(e,t)}function Wv(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Vg(e)}function $v(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Fg(e,t)}function qv(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Yh(new vd(e.geometry),new jh({color:void 0!==t?t:16777215}))}function Xv(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Yh(new Vp(e.geometry),new jh({color:void 0!==t?t:16777215}))}function Yv(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Sf(e)}function Zv(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Af(e)}function Jv(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Xo(e,n)}function Kv(){console.error("THREE.CanvasRenderer has been removed")}function Qv(){console.error("THREE.JSONLoader has been removed.")}yd.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(yd.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Of.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},Mg.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},vg.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},wf.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),em.extractUrlBase(e)},wf.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},ag.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},ag.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ag.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},ag.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},Sr.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Sr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Sr.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Sr.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Sr.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},Vr.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ts.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},ug.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},lr.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},lr.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},lr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},lr.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},lr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},lr.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Jr.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},Jr.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Jr.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new xr).setFromMatrixColumn(this,3)},Jr.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},Jr.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Jr.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Jr.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Jr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Jr.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},Jr.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Jr.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Jr.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Jr.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Jr.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Jr.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Jr.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Jr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Jr.prototype.makeFrustum=function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)},Jr.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Ko.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},br.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},br.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Zr.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Zr.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},Zr.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},ki.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},ki.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},ki.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},ki.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},ki.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},ki.barycoordFromPoint=function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ki.getBarycoord(e,t,n,r,i)},ki.normal=function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ki.getNormal(e,t,n,r)},Pf.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Pf.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ep(this,e)},Pf.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Np(this,e)},cr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},cr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},cr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},xr.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},xr.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},xr.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},xr.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},xr.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},xr.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},xr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},xr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},xr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},mr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},mr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},_i.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},_i.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},_i.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},_i.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},_i.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(_i.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Po.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Po.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),qt},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Lh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Go.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(kf.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties($i.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===En},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(En)}}}),$i.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?En:Tn),this},$i.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},$i.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},fo.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},fo.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new $i(arguments[1],arguments[2])))},fo.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},fo.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},fo.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},fo.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},fo.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(fo.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),nh.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?En:Tn),this},nh.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Ep.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Ep.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Ep.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},th.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Km.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Fi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Vi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===v}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Uo.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Ju.prototype.clearTarget=function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},Ju.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},Ju.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Ju.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Ju.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Ju.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Ju.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Ju.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Ju.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Ju.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Ju.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Ju.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Ju.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Ju.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Ju.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},Ju.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Ju.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Ju.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Ju.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Ju.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Ju.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Ju.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Ju.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Ju.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Ju.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Ju.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?Jt:Zt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(ju.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(gr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Lm.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this,n=new gm;return n.load(e,(function(e){t.setBuffer(e)})),this},Fm.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},$o.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},$o.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},hr.crossOrigin=void 0,hr.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new Lf;i.setCrossOrigin(this.crossOrigin);const o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},hr.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new Cf;i.setCrossOrigin(this.crossOrigin);const o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},hr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},hr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const ey={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function ty(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=r)},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5e2e":function(e,t,n){var r=n("28c9"),i=n("69d5"),o=n("b4c0"),s=n("fba5"),a=n("67ca");function c(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype["delete"]=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},"5e77":function(e,t,n){var r=n("83ab"),i=n("1a2d"),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,l=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},"5edf":function(e,t){function n(e,t,n){var r=-1,i=null==e?0:e.length;while(++r<i)if(n(t,e[r]))return!0;return!1}e.exports=n},"5fb2":function(e,t,n){"use strict";var r=n("e330"),i=2147483647,o=36,s=1,a=26,c=38,l=700,u=72,h=128,d="-",p=/[^\0-\u007E]/,f=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",g=o-s,v=RangeError,y=r(f.exec),b=Math.floor,x=String.fromCharCode,w=r("".charCodeAt),_=r([].join),S=r([].push),M=r("".replace),T=r("".split),E=r("".toLowerCase),C=function(e){var t=[],n=0,r=e.length;while(n<r){var i=w(e,n++);if(i>=55296&&i<=56319&&n<r){var o=w(e,n++);56320==(64512&o)?S(t,((1023&i)<<10)+(1023&o)+65536):(S(t,i),n--)}else S(t,i)}return t},A=function(e){return e+22+75*(e<26)},L=function(e,t,n){var r=0;e=n?b(e/l):e>>1,e+=b(e/t);while(e>g*a>>1)e=b(e/g),r+=o;return b(r+(g+1)*e/(e+c))},R=function(e){var t=[];e=C(e);var n,r,c=e.length,l=h,p=0,f=u;for(n=0;n<e.length;n++)r=e[n],r<128&&S(t,x(r));var g=t.length,y=g;g&&S(t,d);while(y<c){var w=i;for(n=0;n<e.length;n++)r=e[n],r>=l&&r<w&&(w=r);var M=y+1;if(w-l>b((i-p)/M))throw v(m);for(p+=(w-l)*M,l=w,n=0;n<e.length;n++){if(r=e[n],r<l&&++p>i)throw v(m);if(r==l){var T=p,E=o;while(1){var R=E<=f?s:E>=f+a?a:E-f;if(T<R)break;var O=T-R,P=o-R;S(t,x(A(R+O%P))),T=b(O/P),E+=o}S(t,x(A(T))),f=L(p,M,y==g),p=0,y++}}p++,l++}return _(t,"")};e.exports=function(e){var t,n,r=[],i=T(M(E(e),f,"."),".");for(t=0;t<i.length;t++)n=i[t],S(r,y(p,n)?"xn--"+R(n):n);return _(r,".")}},6044:function(e,t,n){var r=n("0b07"),i=r(Object,"create");e.exports=i},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("e330"),o=n("c65b"),s=n("d039"),a=n("df75"),c=n("7418"),l=n("d1e7"),u=n("7b0b"),h=n("44ad"),d=Object.assign,p=Object.defineProperty,f=i([].concat);e.exports=!d||s((function(){if(r&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=i}))?function(e,t){var n=u(e),i=arguments.length,s=1,d=c.f,p=l.f;while(i>s){var m,g=h(arguments[s++]),v=d?f(a(g),d(g)):a(g),y=v.length,b=0;while(y>b)m=v[b++],r&&!o(p,g,m)||(n[m]=g[m])}return n}:d},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},6374:function(e,t,n){var r=n("da84"),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},"642a":function(e,t,n){var r=n("966f"),i=n("3bb4"),o=n("20ec");function s(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}e.exports=s},6547:function(e,t,n){var r=n("e330"),i=n("5926"),o=n("577e"),s=n("1d80"),a=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,n){var r,u,h=o(s(t)),d=i(n),p=h.length;return d<0||d>=p?e?"":void 0:(r=c(h,d),r<55296||r>56319||d+1===p||(u=c(h,d+1))<56320||u>57343?e?a(h,d):r:e?l(h,d,d+2):u-56320+(r-55296<<10)+65536)}};e.exports={codeAt:u(!1),charAt:u(!0)}},"656b":function(e,t,n){var r=n("e2e4"),i=n("f4d6");function o(e,t){t=r(t,e);var n=0,o=t.length;while(null!=e&&n<o)e=e[i(t[n++])];return n&&n==o?e:void 0}e.exports=o},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},6747:function(e,t){var n=Array.isArray;e.exports=n},"67ca":function(e,t,n){var r=n("cb5a");function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}e.exports=i},"68ee":function(e,t,n){var r=n("e330"),i=n("d039"),o=n("1626"),s=n("f5df"),a=n("d066"),c=n("8925"),l=function(){},u=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),f=!d.exec(l),m=function(e){if(!o(e))return!1;try{return h(l,u,e),!0}catch(t){return!1}},g=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,c(e))}catch(t){return!0}};g.sham=!0,e.exports=!h||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},6964:function(e,t,n){var r=n("cb2d");e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},"69d5":function(e,t,n){var r=n("cb5a"),i=Array.prototype,o=i.splice;function s(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():o.call(t,n,1),--this.size,!0}e.exports=s},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("e330"),l=n("861d"),u=n("9112"),h=n("1a2d"),d=n("c6cd"),p=n("f772"),f=n("d012"),m="Object already initialized",g=a.TypeError,v=a.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},b=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var x=d.state||(d.state=new v),w=c(x.get),_=c(x.has),S=c(x.set);r=function(e,t){if(_(x,e))throw new g(m);return t.facade=e,S(x,e,t),t},i=function(e){return w(x,e)||{}},o=function(e){return _(x,e)}}else{var M=p("state");f[M]=!0,r=function(e,t){if(h(e,M))throw new g(m);return t.facade=e,u(e,M,t),t},i=function(e){return h(e,M)?e[M]:{}},o=function(e){return h(e,M)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},"6a5c":function(e,t,n){var r=n("7948"),i=n("656b"),o=n("badf"),s=n("97d3"),a=n("d4b2"),c=n("b047"),l=n("2164"),u=n("cd9d"),h=n("6747");function d(e,t,n){t=t.length?r(t,(function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var d=-1;t=r(t,c(o));var p=s(e,(function(e,n,i){var o=r(t,(function(t){return t(e)}));return{criteria:o,index:++d,value:e}}));return a(p,(function(e,t){return l(e,t,n)}))}e.exports=d},"6dd8":function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i=function(){return"undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),o=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)}}(),s=2;function a(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&l()}function c(){o(a)}function l(){var e=Date.now();if(n){if(e-i<s)return;r=!0}else n=!0,r=!1,setTimeout(c,t);i=e}return l}var c=20,l=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,h=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),c)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=l.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},p=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||i},f=M(0,0,0,0);function m(e){return parseFloat(e)||0}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){var r=e["border-"+n+"-width"];return t+m(r)}),0)}function v(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],s=e["padding-"+o];n[o]=m(s)}return n}function y(e){var t=e.getBBox();return M(0,0,t.width,t.height)}function b(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=p(e).getComputedStyle(e),i=v(r),o=i.left+i.right,s=i.top+i.bottom,a=m(r.width),c=m(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=g(r,"left","right")+o),Math.round(c+s)!==n&&(c-=g(r,"top","bottom")+s)),!w(e)){var l=Math.round(a+o)-t,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return M(i.left,i.top,a,c)}var x=function(){return"undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof p(e).SVGGraphicsElement}:function(e){return e instanceof p(e).SVGElement&&"function"===typeof e.getBBox}}();function w(e){return e===p(e).document.documentElement}function _(e){return r?x(e)?y(e):b(e):f}function S(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return d(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}function M(e,t,n,r){return{x:e,y:t,width:n,height:r}}var T=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=M(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=_(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),E=function(){function e(e,t){var n=S(t);d(this,{target:e,contentRect:n})}return e}(),C=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new T(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new E(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),A="undefined"!==typeof WeakMap?new WeakMap:new n,L=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=h.getInstance(),r=new C(t,n,this);A.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach((function(e){L.prototype[e]=function(){var t;return(t=A.get(this))[e].apply(t,arguments)}}));var R=function(){return"undefined"!==typeof i.ResizeObserver?i.ResizeObserver:L}();t["default"]=R}.call(this,n("c8ba"))},"6fcd":function(e,t,n){var r=n("50d8"),i=n("d370"),o=n("6747"),s=n("0d24"),a=n("c098"),c=n("73ac"),l=Object.prototype,u=l.hasOwnProperty;function h(e,t){var n=o(e),l=!n&&i(e),h=!n&&!l&&s(e),d=!n&&!l&&!h&&c(e),p=n||l||h||d,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}e.exports=h},7156:function(e,t,n){var r=n("1626"),i=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var s,a;return o&&r(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},"72af":function(e,t,n){var r=n("99cd"),i=r();e.exports=i},"73ac":function(e,t,n){var r=n("743f"),i=n("b047"),o=n("99d3"),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"743f":function(e,t,n){var r=n("3729"),i=n("b218"),o=n("1310"),s="[object Arguments]",a="[object Array]",c="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",d="[object Map]",p="[object Number]",f="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",L="[object Uint32Array]",R={};function O(e){return o(e)&&i(e.length)&&!!R[r(e)]}R[w]=R[_]=R[S]=R[M]=R[T]=R[E]=R[C]=R[A]=R[L]=!0,R[s]=R[a]=R[b]=R[c]=R[x]=R[l]=R[u]=R[h]=R[d]=R[p]=R[f]=R[m]=R[g]=R[v]=R[y]=!1,e.exports=O},"746f":function(e,t,n){var r=n("428f"),i=n("1a2d"),o=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},"750a":function(e,t,n){var r=n("c869"),i=n("bcdf"),o=n("ac41"),s=1/0,a=r&&1/o(new r([,-0]))[1]==s?function(e){return new r(e)}:i;e.exports=a},"76dd":function(e,t,n){var r=n("ce86");function i(e){return null==e?"":r(e)}e.exports=i},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(e,t,n){var r=n("cc12"),i=r("span").classList,o=i&&i.constructor&&i.constructor.prototype;e.exports=o===Object.prototype?void 0:o},7948:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}e.exports=n},"79bc":function(e,t,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"Map");e.exports=o},"7a48":function(e,t,n){var r=n("6044"),i=Object.prototype,o=i.hasOwnProperty;function s(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}e.exports=s},"7b0b":function(e,t,n){var r=n("1d80"),i=Object;e.exports=function(e){return i(r(e))}},"7b83":function(e,t,n){var r=n("7c64"),i=n("93ed"),o=n("2478"),s=n("a524"),a=n("1fc8");function c(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype["delete"]=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},"7b97":function(e,t,n){var r=n("7e64"),i=n("a2be"),o=n("1c3c"),s=n("b1e5"),a=n("42a2"),c=n("6747"),l=n("0d24"),u=n("73ac"),h=1,d="[object Arguments]",p="[object Array]",f="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function v(e,t,n,m,v,y){var b=c(e),x=c(t),w=b?p:a(e),_=x?p:a(t);w=w==d?f:w,_=_==d?f:_;var S=w==f,M=_==f,T=w==_;if(T&&l(e)){if(!l(t))return!1;b=!0,S=!1}if(T&&!S)return y||(y=new r),b||u(e)?i(e,t,n,m,v,y):o(e,t,w,n,m,v,y);if(!(n&h)){var E=S&&g.call(e,"__wrapped__"),C=M&&g.call(t,"__wrapped__");if(E||C){var A=E?e.value():e,L=C?t.value():t;return y||(y=new r),v(A,L,n,m,y)}}return!!T&&(y||(y=new r),s(e,t,n,m,v,y))}e.exports=v},"7c64":function(e,t,n){var r=n("e24b"),i=n("5e2e"),o=n("79bc");function s(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}e.exports=s},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),l=n("cc12"),u=n("f772"),h=">",d="<",p="prototype",f="script",m=u("IE_PROTO"),g=function(){},v=function(e){return d+f+h+e+d+"/"+f+h},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=l("iframe"),n="java"+f+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},x=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}x="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var e=s.length;while(e--)delete x[p][s[e]];return x()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[p]=i(e),n=new g,g[p]=null,n[m]=e):n=x(),void 0===t?n:o.f(n,t)}},"7d1f":function(e,t,n){var r=n("087d"),i=n("6747");function o(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}e.exports=o},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,o=n("44d2"),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("c65b"),o=n("c430"),s=n("5e77"),a=n("1626"),c=n("9ed3"),l=n("e163"),u=n("d2bb"),h=n("d44e"),d=n("9112"),p=n("cb2d"),f=n("b622"),m=n("3f8c"),g=n("ae93"),v=s.PROPER,y=s.CONFIGURABLE,b=g.IteratorPrototype,x=g.BUGGY_SAFARI_ITERATORS,w=f("iterator"),_="keys",S="values",M="entries",T=function(){return this};e.exports=function(e,t,n,s,f,g,E){c(n,t,s);var C,A,L,R=function(e){if(e===f&&F)return F;if(!x&&e in k)return k[e];switch(e){case _:return function(){return new n(this,e)};case S:return function(){return new n(this,e)};case M:return function(){return new n(this,e)}}return function(){return new n(this)}},O=t+" Iterator",P=!1,k=e.prototype,N=k[w]||k["@@iterator"]||f&&k[f],F=!x&&N||R(f),I="Array"==t&&k.entries||N;if(I&&(C=l(I.call(new e)),C!==Object.prototype&&C.next&&(o||l(C)===b||(u?u(C,b):a(C[w])||p(C,w,T)),h(C,O,!0,!0),o&&(m[O]=T))),v&&f==S&&N&&N.name!==S&&(!o&&y?d(k,"name",S):(P=!0,F=function(){return i(N,this)})),f)if(A={values:R(S),keys:g?F:R(_),entries:R(M)},E)for(L in A)(x||P||!(L in k))&&p(k,L,A[L]);else r({target:t,proto:!0,forced:x||P},A);return o&&!E||k[w]===F||p(k,w,F,{name:f}),m[t]=F,A}},"7e64":function(e,t,n){var r=n("5e2e"),i=n("efb6"),o=n("2fcc"),s=n("802a"),a=n("55a3"),c=n("d02c");function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype["delete"]=o,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,e.exports=l},"7ed2":function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},"7f9a":function(e,t,n){var r=n("da84"),i=n("1626"),o=n("8925"),s=r.WeakMap;e.exports=i(s)&&/native code/.test(o(s))},"802a":function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},"80df":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fae3")}({"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("e330"),i=n("59ed"),o=n("40d5"),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},"0462":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="singlepanel" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-10-Copy-5"><g id="Group-15-Copy" fill="#8300BF"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect></g></g></svg>'},"05d4":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="undock" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-9"><circle id="Oval" fill="#8300BF" cx="12" cy="12" r="12"></circle><g id="Group-5" transform="translate(5.500000, 6.000000)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="2"><line x1="0.728962778" y1="12.0355339" x2="4.97160346" y2="7.79289322" id="Line"></line><g id="Group" transform="translate(4.264497, 8.500000) rotate(-315.000000) translate(-4.264497, -8.500000) translate(1.264497, 7.000000)"><line x1="2.27373675e-13" y1="2.82842712" x2="2.82842712" y2="0" id="Line"></line><line x1="3" y1="0" x2="5.82842712" y2="2.82842712" id="Line"></line></g><line x1="12.5355339" y1="0.158436893" x2="8.29289322" y2="4.40107758" id="Line"></line><g id="Group" transform="translate(9.000000, 3.693971) rotate(-135.000000) translate(-9.000000, -3.693971) translate(6.000000, 2.193971)"><line x1="2.27373675e-13" y1="2.82842712" x2="2.82842712" y2="0" id="Line"></line><line x1="3" y1="0" x2="5.82842712" y2="2.82842712" id="Line"></line></g></g></g></g></svg>'},"06cf":function(e,t,n){var r=n("83ab"),i=n("c65b"),o=n("d1e7"),s=n("5c6c"),a=n("fc6a"),c=n("a04b"),l=n("1a2d"),u=n("0cfb"),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=c(t),u)try{return h(e,t)}catch(n){}if(l(e,t))return s(!i(o.f,e,t),e[t])}},"07fa":function(e,t,n){var r=n("50c4");e.exports=function(e){return r(e.length)}},"0b42":function(e,t,n){var r=n("da84"),i=n("e8b5"),o=n("68ee"),s=n("861d"),a=n("b622"),c=a("species"),l=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,o(t)&&(t===l||i(t.prototype))?t=void 0:s(t)&&(t=t[c],null===t&&(t=void 0))),void 0===t?l:t}},"0cb2":function(e,t,n){var r=n("e330"),i=n("7b0b"),o=Math.floor,s=r("".charAt),a=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,d){var p=n+e.length,f=r.length,m=u;return void 0!==h&&(h=i(h),m=l),a(d,m,(function(i,a){var l;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,p);case"<":l=h[c(a,1,-1)];break;default:var u=+a;if(0===u)return i;if(u>f){var d=o(u/10);return 0===d?i:d<=f?void 0===r[d-1]?s(a,1):r[d-1]+s(a,1):i}l=r[u-1]}return void 0===l?"":l}))}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(e,t,n){var r=n("da84"),i=r.String;e.exports=function(e){try{return i(e)}catch(t){return"Object"}}},"0df9":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="close" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-9"><g id="Group-8" fill="#8300BF"><circle id="Oval" cx="12" cy="12" r="12"></circle></g><g id="Group-13" transform="translate(12.000000, 12.000000) rotate(-315.000000) translate(-12.000000, -12.000000) translate(5.000000, 5.000000)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="2"><line x1="0" y1="7" x2="14" y2="7" id="Line-9"></line><line x1="7" y1="0" x2="7" y2="14" id="Line-9"></line></g></g></g></svg>'},"0f4b":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"svg.map-icon[data-v-e5120fc4]{fill:currentColor;height:1em;margin-bottom:.125em;vertical-align:middle;width:1em}svg.map-icon-spin[data-v-e5120fc4]{-webkit-animation:icon-spin 2s linear infinite;animation:icon-spin 2s linear infinite}@-webkit-keyframes abi-icon-spin-data-v-e5120fc4{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes abi-icon-spin-data-v-e5120fc4{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}",""]),e.exports=t},"107c":function(e,t,n){var r=n("d039"),i=n("da84"),o=i.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){var r=n("da84"),i=n("c65b"),o=n("825a"),s=n("1626"),a=n("c6b6"),c=n("9263"),l=r.TypeError;e.exports=function(e,t){var n=e.exec;if(s(n)){var r=i(n,e,t);return null!==r&&o(r),r}if("RegExp"===a(e))return i(c,e,t);throw l("RegExp#exec called on incompatible receiver")}},1626:function(e,t){e.exports=function(e){return"function"==typeof e}},"16d4":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="play" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-9"><g id="Group-5-Copy"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle></g><polygon id="Triangle" class="st0" transform="translate(13.000000, 11.500000) rotate(-270.000000) translate(-13.000000, -11.500000) " points="13 8 19 15 7 15"></polygon></g></g></svg>'},1899:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="close" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-9"><g id="Group-8"><circle id="Oval" cx="12" cy="12" r="12"></circle></g><g id="Group-13" transform="translate(12.000000, 12.000000) rotate(-315.000000) translate(-12.000000, -12.000000) translate(5.000000, 5.000000)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="2"><line x1="0" y1="7" x2="14" y2="7" id="Line-9"></line><line x1="7" y1="0" x2="7" y2="14" id="Line-9"></line></g></g></g></svg>'},"18c7":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="dock" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-8-Copy-2"><circle id="Oval" fill="#8300BF" cx="12" cy="12" r="12"></circle><g id="Group-5" transform="translate(2.972940, 3.512563)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="2"><line x1="10.7289628" y1="7.03553391" x2="14.9716035" y2="2.79289322" id="Line"></line><g id="Group" transform="translate(14.264497, 3.500000) rotate(-315.000000) translate(-14.264497, -3.500000) translate(11.264497, 2.000000)"><line x1="2.27373675e-13" y1="2.82842712" x2="2.82842712" y2="0" id="Line"></line><line x1="3" y1="0" x2="5.82842712" y2="2.82842712" id="Line"></line></g><line x1="7.53553391" y1="10.1584369" x2="3.29289322" y2="14.4010776" id="Line"></line><g id="Group" transform="translate(4.000000, 13.693971) rotate(-135.000000) translate(-4.000000, -13.693971) translate(1.000000, 12.193971)"><line x1="2.27373675e-13" y1="2.82842712" x2="2.82842712" y2="0" id="Line"></line><line x1="3" y1="0" x2="5.82842712" y2="2.82842712" id="Line"></line></g></g></g></g></svg>'},"1a2d":function(e,t,n){var r=n("e330"),i=n("7b0b"),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1d80":function(e,t,n){var r=n("da84"),i=r.TypeError;e.exports=function(e){if(void 0==e)throw i("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"1dfd":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="2vertpanel" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-10-Copy-3"><g id="Group-15-Copy"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect><line x1="12" y1="7.5" x2="12" y2="16.5" id="Line-6" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},2085:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="3panel" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-10-Copy"><g id="Group-15-Copy"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect><line x1="11.5" y1="7.5" x2="11.5" y2="16.5" id="Line-6" stroke="#FFFFFF" stroke-linecap="square"></line><line x1="18.5" y1="11.5" x2="11.5" y2="11.5" id="Line-10" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},"23b4":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="resetZoom" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-13-Copy-2"><circle id="Oval-Copy-2" cx="12" cy="12" r="12"></circle><g id="Group-12" transform="translate(5.000000, 4.000000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="5.5" cy="5.5" r="5.5"></circle><line x1="13.5833333" y1="13.5833333" x2="9.41666667" y2="9.41666667" id="Line-8" stroke-linecap="square"></line></g><g id="Group-4" transform="translate(7.500000, 7.000000)"><path d="M3,5 C3.83613696,5 4.57640148,4.58952131 5.03027306,3.95908443 C5.19488093,3.73044075 5.32181864,3.47286529 5.40199763,3.19544657 C5.46580562,2.97467142 5.5,2.74132897 5.5,2.5 C5.5,2.26693547 5.46810753,2.04131982 5.40844867,1.82727914 C5.31560782,1.49418996 5.15552386,1.18913241 4.9437468,0.927656488 C4.48541251,0.361762414 3.78495332,0 3,0 C1.61928813,0 0.5,1.11928813 0.5,2.5 C0.5,3.88071187 1.61928813,5 3,5 Z" id="Oval" stroke="#FFFFFF"></path><rect id="Rectangle" x="2.5" y="2" width="4" height="1"></rect><line x1="5.5" y1="1.5" x2="5.5" y2="0.5" id="Line-7" stroke="#FFFFFF" stroke-linecap="square"></line><line x1="4.5" y1="1.5" x2="5.5" y2="1.5" id="Line-7" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></g></svg>'},"23cb":function(e,t,n){var r=n("5926"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),c=n("e893"),l=n("94ca");e.exports=function(e,t){var n,u,h,d,p,f,m=e.target,g=e.global,v=e.stat;if(u=g?r:v?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(h in t){if(p=t[h],e.noTargetGet?(f=i(u,h),d=f&&f.value):d=u[h],n=l(g?h:m+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),s(u,h,p,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"24fb":function(e,t,n){"use strict";function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"===typeof btoa){var o=i(r),s=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(s).concat([o]).join("\n")}return[n].join("\n")}function i(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(n," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=r(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"===typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},"25f0":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="magnifyingGlass" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-19-Copy"><g id="Group-13-Copy"><circle id="Oval-Copy-2" cx="12" cy="12" r="12"></circle><g id="Group-12" transform="translate(5.000000, 4.000000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="5.5" cy="5.5" r="5.5"></circle><line x1="13.5833333" y1="13.5833333" x2="9.41666667" y2="9.41666667" id="Line-8" stroke-linecap="square"></line></g></g></g></g></svg>'},2672:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0" x="0px" y="0px" viewBox="0 0 960 1200" enable-background="new 0 0 960 960" xml:space="preserve"><g><path d="M670,499.992c0,5.5-4.5,10-10,10H300c-5.516,0-10-4.5-10-10v-40c0-5.5,4.484-10,10-10h360 c5.5,0,10,4.5,10,10V499.992z"></path><path d="M530,649.992c0,5.5-4.5,10-10,10h-80c-5.516,0-10-4.5-10-10v-40c0-5.5,4.484-10,10-10h80 c5.5,0,10,4.5,10,10V649.992z"></path><path d="M780,350.008c0,5.5-4.5,10-10,10H190c-5.516,0-10-4.5-10-10v-40c0-5.516,4.484-10,10-10h580 c5.5,0,10,4.484,10,10V350.008z"></path></g><text x="0" y="975" font-size="5px" font-weight="bold" font-family="&#x27;Helvetica Neue&#x27;, Helvetica, Arial-Unicode, Arial, Sans-serif">Created by Wahyu Prihantoro</text><text x="0" y="980" font-size="5px" font-weight="bold" font-family="&#x27;Helvetica Neue&#x27;, Helvetica, Arial-Unicode, Arial, Sans-serif">from the Noun Project</text></svg>'},"2ba4":function(e,t,n){var r=n("40d5"),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},3285:function(e,t){e.exports='<svg id="icons" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="15.824" r="0.753"></circle><path d="M12,14.256a.75.75,0,0,1-.75-.75v-1c0-.529.419-.818.862-1.124.623-.43,1.138-.83,1.138-1.376A1.209,1.209,0,0,0,12,8.756a1.252,1.252,0,0,0-1.25,1.25.75.75,0,0,1-1.5,0A2.753,2.753,0,0,1,12,7.256a2.721,2.721,0,0,1,2.75,2.75,3.3,3.3,0,0,1-1.786,2.61c-.079.055-.152.1-.214.147v.743A.75.75,0,0,1,12,14.256Z"></path><path d="M12,5a7,7,0,1,1-7,7,7.008,7.008,0,0,1,7-7m0-2a9,9,0,1,0,9,9,9,9,0,0,0-9-9Z"></path></svg>'},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"37e8":function(e,t,n){var r=n("83ab"),i=n("aed9"),o=n("9bf2"),s=n("825a"),a=n("fc6a"),c=n("df75");t.f=r&&!i?Object.defineProperties:function(e,t){s(e);var n,r=a(t),i=c(t),l=i.length,u=0;while(l>u)o.f(e,n=i[u++],r[n]);return e}},"380a":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="changeBckgd" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-5"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><rect id="Rectangle" stroke="#FFFFFF" x="7" y="6" width="10" height="7"></rect><line x1="12" y1="13.5" x2="12" y2="16.5" id="Line-4" stroke="#FFFFFF" stroke-width="2"></line><line x1="7" y1="16.5" x2="17" y2="16.5" id="Line" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},"39c6":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="4panel" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-10-Copy-2"><g id="Group-15-Copy" fill="#8300BF"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect><line x1="12" y1="7.5" x2="12" y2="16.5" id="Line-6" stroke="#FFFFFF" stroke-linecap="square"></line><line x1="18.5" y1="12" x2="5.5" y2="12" id="Line-10" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},"3a9b":function(e,t,n){var r=n("e330");e.exports=r({}.isPrototypeOf)},"3b84":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0" x="0px" y="0px" viewBox="0 0 960 1200" enable-background="new 0 0 960 960" xml:space="preserve"><g><path fill="#000000" d="M670,499.992c0,5.5-4.5,10-10,10H300c-5.516,0-10-4.5-10-10v-40c0-5.5,4.484-10,10-10h360 c5.5,0,10,4.5,10,10V499.992z"></path><path fill="#000000" d="M530,649.992c0,5.5-4.5,10-10,10h-80c-5.516,0-10-4.5-10-10v-40c0-5.5,4.484-10,10-10h80 c5.5,0,10,4.5,10,10V649.992z"></path><path fill="#000000" d="M780,350.008c0,5.5-4.5,10-10,10H190c-5.516,0-10-4.5-10-10v-40c0-5.516,4.484-10,10-10h580 c5.5,0,10,4.484,10,10V350.008z"></path></g><text x="0" y="975" fill="#000000" font-size="5px" font-weight="bold" font-family="&#x27;Helvetica Neue&#x27;, Helvetica, Arial-Unicode, Arial, Sans-serif">Created by Wahyu Prihantoro</text><text x="0" y="980" fill="#000000" font-size="5px" font-weight="bold" font-family="&#x27;Helvetica Neue&#x27;, Helvetica, Arial-Unicode, Arial, Sans-serif">from the Noun Project</text></svg>'},"3bbe":function(e,t,n){var r=n("da84"),i=n("1626"),o=r.String,s=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw s("Can't set "+o(e)+" as a prototype")}},"3e19":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="play" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-9"><g id="Group-5-Copy" fill="#8300BF"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle></g><polygon id="Triangle" fill="#FFFFFF" class="st0" transform="translate(13.000000, 11.500000) rotate(-270.000000) translate(-13.000000, -11.500000) " points="13 8 19 15 7 15"></polygon></g></g></svg>'},"3f8c":function(e,t){e.exports={}},"40d5":function(e,t,n){var r=n("d039");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},"44ad":function(e,t,n){var r=n("da84"),i=n("e330"),o=n("d039"),s=n("c6b6"),a=r.Object,c=i("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?c(e,""):a(e)}:a},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"485a":function(e,t,n){var r=n("da84"),i=n("c65b"),o=n("1626"),s=n("861d"),a=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!s(r=i(n,e)))return r;if(o(n=e.valueOf)&&!s(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!s(r=i(n,e)))return r;throw a("Can't convert object to primitive value")}},4930:function(e,t,n){var r=n("2d00"),i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"499e":function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[0],a=o[1],c=o[2],l=o[3],u={id:e+":"+i,css:a,media:c,sourceMap:l};r[s]?r[s].parts.push(u):n.push(r[s]={id:s,parts:[u]})}return n}n.r(t),n.d(t,"default",(function(){return f}));var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,c=0,l=!1,u=function(){},h=null,d="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,n,i){l=n,h=i||{};var s=r(e,t);return m(s),function(t){for(var n=[],i=0;i<s.length;i++){var a=s[i],c=o[a.id];c.refs--,n.push(c)}t?(s=r(e,t),m(s)):s=[];for(i=0;i<n.length;i++){c=n[i];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete o[c.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],r=o[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(v(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(v(n.parts[i]));o[n.id]={id:n.id,refs:1,parts:s}}}}function g(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function v(e){var t,n,r=document.querySelector("style["+d+'~="'+e.id+'"]');if(r){if(l)return u;r.parentNode.removeChild(r)}if(p){var i=c++;r=a||(a=g()),t=b.bind(null,r,i,!1),n=b.bind(null,r,i,!0)}else r=g(),t=x.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function x(e,t){var n=t.css,r=t.media,i=t.sourceMap;if(r&&e.setAttribute("media",r),h.ssrId&&e.setAttribute(d,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},"4ccb":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="close-no-bk" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"><g id="Group-13" transform="translate(12.000000, 12.000000) rotate(-315.000000) translate(-12.000000, -12.000000) translate(5.000000, 5.000000)" stroke="#FFFFFF" stroke-width="2"><line x1="0" y1="7" x2="14" y2="7" id="Line-9"></line><line x1="7" y1="0" x2="7" y2="14" id="Line-9"></line></g></g></svg>'},"4d64":function(e,t,n){var r=n("fc6a"),i=n("23cb"),o=n("07fa"),s=function(e){return function(t,n,s){var a,c=r(t),l=o(c),u=i(s,l);if(e&&n!=n){while(l>u)if(a=c[u++],a!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4dbc":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="changeBckgd" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-5"><circle id="Oval-Copy" fill="#8300BF" cx="12" cy="12" r="12"></circle><rect id="Rectangle" stroke="#FFFFFF" x="7" y="6" width="10" height="7"></rect><line x1="12" y1="13.5" x2="12" y2="16.5" id="Line-4" stroke="#FFFFFF" stroke-width="2"></line><line x1="7" y1="16.5" x2="17" y2="16.5" id="Line" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},"50c4":function(e,t,n){var r=n("5926"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"52ce":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="zoomIn" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-19-Copy"><g id="Group-13-Copy"><circle id="Oval-Copy-2" cx="12" cy="12" r="12"></circle><g id="Group-12" transform="translate(5.000000, 4.000000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="5.5" cy="5.5" r="5.5"></circle><line x1="13.5833333" y1="13.5833333" x2="9.41666667" y2="9.41666667" id="Line-8" stroke-linecap="square"></line></g></g><line x1="9" y1="9.5" x2="12" y2="9.5" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></line><line x1="9" y1="9.5" x2="12" y2="9.5" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square" transform="translate(10.500000, 9.500000) rotate(90.000000) translate(-10.500000, -9.500000) "></line></g></g></svg>'},5319:function(e,t,n){"use strict";var r=n("2ba4"),i=n("c65b"),o=n("e330"),s=n("d784"),a=n("d039"),c=n("825a"),l=n("1626"),u=n("5926"),h=n("50c4"),d=n("577e"),p=n("1d80"),f=n("8aa5"),m=n("dc4a"),g=n("0cb2"),v=n("14c3"),y=n("b622"),b=y("replace"),x=Math.max,w=Math.min,_=o([].concat),S=o([].push),M=o("".indexOf),T=o("".slice),E=function(e){return void 0===e?e:String(e)},C=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[b]&&""===/./[b]("a","$0")}(),L=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,n){var o=A?"$":"$0";return[function(e,n){var r=p(this),o=void 0==e?void 0:m(e,b);return o?i(o,e,r,n):i(t,d(r),e,n)},function(e,i){var s=c(this),a=d(e);if("string"==typeof i&&-1===M(i,o)&&-1===M(i,"$<")){var p=n(t,s,a,i);if(p.done)return p.value}var m=l(i);m||(i=d(i));var y=s.global;if(y){var b=s.unicode;s.lastIndex=0}var C=[];while(1){var A=v(s,a);if(null===A)break;if(S(C,A),!y)break;var L=d(A[0]);""===L&&(s.lastIndex=f(a,h(s.lastIndex),b))}for(var R="",O=0,P=0;P<C.length;P++){A=C[P];for(var k=d(A[0]),N=x(w(u(A.index),a.length),0),F=[],I=1;I<A.length;I++)S(F,E(A[I]));var D=A.groups;if(m){var B=_([k],F,N,a);void 0!==D&&S(B,D);var z=d(r(i,void 0,B))}else z=g(k,a,N,F,D,i);N>=O&&(R+=T(a,O,N)+z,O=N+k.length)}return R+T(a,O)}]}),!L||!C||A)},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,n){var r=n("d066"),i=n("e330"),o=n("241c"),s=n("7418"),a=n("825a"),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?c(t,n(e)):t}},"577e":function(e,t,n){var r=n("da84"),i=n("f5df"),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},5926:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){var t=+e;return t!==t||0===t?0:(t>0?r:n)(t)}},"59ed":function(e,t,n){var r=n("da84"),i=n("1626"),o=n("0d51"),s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not a function")}},"5aa1":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Artboard-Copy-6" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-5-Copy" fill="#8300BF"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle></g><line x1="9" y1="8" x2="9" y2="16" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></line><line x1="15" y1="8" x2="15" y2="16" id="Line-6-Copy-3" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></line></g></svg>'},"5be3":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="2horpanel" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-10-Copy-4"><g id="Group-15-Copy"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect><line x1="18.5" y1="12" x2="5.5" y2="12" id="Line-10" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5e77":function(e,t,n){var r=n("83ab"),i=n("1a2d"),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,l=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},6015:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="zoomOut" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-19-Copy-3"><g id="Group-13-Copy"><circle id="Oval-Copy-2" fill="#8300BF" cx="12" cy="12" r="12"></circle><g id="Group-12" transform="translate(5.000000, 4.000000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="5.5" cy="5.5" r="5.5"></circle><line x1="13.5833333" y1="13.5833333" x2="9.41666667" y2="9.41666667" id="Line-8" stroke-linecap="square"></line></g></g><line x1="9" y1="9.5" x2="12" y2="9.5" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></line></g></g></svg>'},6060:function(e,t,n){var r={"./2horpanel.svg":"f510","./2vertpanel.svg":"870a","./3panel.svg":"b64f","./4panel.svg":"39c6","./changeBckgd.svg":"4dbc","./close-no-bk.svg":"4ccb","./close.svg":"0df9","./closeFullScreen.svg":"95a0","./dock.svg":"18c7","./fitWindow.svg":"f673","./fullScreen.svg":"9310","./help.svg":"3285","./magnifyingGlass.svg":"afa3","./noun-filter.svg":"3b84","./pause.svg":"5aa1","./permalink.svg":"7d2f","./play.svg":"3e19","./resetZoom.svg":"98fd","./singlepanel.svg":"0462","./tooltips.svg":"a8cb","./undock.svg":"05d4","./zoomIn.svg":"72ce","./zoomOut.svg":"6015"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="6060"},"618b":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="fitWindow" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-3"><g id="Group-8-Copy"><circle id="Oval" cx="12" cy="12" r="12"></circle><g id="Group" transform="translate(5.000000, 6.000000)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="1.5"><polyline id="Line-5" points="0 3.5 0 0 4.80123862 0"></polyline><polyline id="Line-5" transform="translate(2.400619, 9.750000) scale(1, -1) translate(-2.400619, -9.750000) " points="0 11.5 0 8 4.80123862 8"></polyline><polyline id="Line-5" transform="translate(11.600619, 1.750000) scale(1, -1) rotate(-180.000000) translate(-11.600619, -1.750000) " points="9.2 3.5 9.2 0 14.0012386 0"></polyline></g></g><g id="Group-12" transform="translate(9.000000, 8.500000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="3.5" cy="3.5" r="3.5"></circle><line x1="8.75" y1="8.75" x2="6.25" y2="6.25" id="Line-8" stroke-linecap="square"></line></g></g></g></svg>'},6467:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="close-no-bk" stroke="none" stroke-width="1" fill-rule="evenodd" stroke-linecap="square"><g id="Group-13" transform="translate(12.000000, 12.000000) rotate(-315.000000) translate(-12.000000, -12.000000) translate(5.000000, 5.000000)" stroke="#FFFFFF" stroke-width="2"><line x1="0" y1="7" x2="14" y2="7" id="Line-9"></line><line x1="7" y1="0" x2="7" y2="14" id="Line-9"></line></g></g></svg>'},"64ee":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="zoomOut" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-19-Copy-3"><g id="Group-13-Copy"><circle id="Oval-Copy-2" cx="12" cy="12" r="12"></circle><g id="Group-12" transform="translate(5.000000, 4.000000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="5.5" cy="5.5" r="5.5"></circle><line x1="13.5833333" y1="13.5833333" x2="9.41666667" y2="9.41666667" id="Line-8" stroke-linecap="square"></line></g></g><line x1="9" y1="9.5" x2="12" y2="9.5" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></line></g></g></svg>'},6547:function(e,t,n){var r=n("e330"),i=n("5926"),o=n("577e"),s=n("1d80"),a=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,n){var r,u,h=o(s(t)),d=i(n),p=h.length;return d<0||d>=p?e?"":void 0:(r=c(h,d),r<55296||r>56319||d+1===p||(u=c(h,d+1))<56320||u>57343?e?a(h,d):r:e?l(h,d,d+2):u-56320+(r-55296<<10)+65536)}};e.exports={codeAt:u(!1),charAt:u(!0)}},6553:function(e,t,n){"use strict";n("aea9")},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"68ee":function(e,t,n){var r=n("e330"),i=n("d039"),o=n("1626"),s=n("f5df"),a=n("d066"),c=n("8925"),l=function(){},u=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=r(d.exec),f=!d.exec(l),m=function(e){if(!o(e))return!1;try{return h(l,u,e),!0}catch(t){return!1}},g=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,c(e))}catch(t){return!0}};g.sham=!0,e.exports=!h||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),c=n("e330"),l=n("861d"),u=n("9112"),h=n("1a2d"),d=n("c6cd"),p=n("f772"),f=n("d012"),m="Object already initialized",g=a.TypeError,v=a.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},b=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var x=d.state||(d.state=new v),w=c(x.get),_=c(x.has),S=c(x.set);r=function(e,t){if(_(x,e))throw new g(m);return t.facade=e,S(x,e,t),t},i=function(e){return w(x,e)||{}},o=function(e){return _(x,e)}}else{var M=p("state");f[M]=!0,r=function(e,t){if(h(e,M))throw new g(m);return t.facade=e,u(e,M,t),t},i=function(e){return h(e,M)?e[M]:{}},o=function(e){return h(e,M)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},"6eeb":function(e,t,n){var r=n("da84"),i=n("1626"),o=n("1a2d"),s=n("9112"),a=n("ce4e"),c=n("8925"),l=n("69f3"),u=n("5e77").CONFIGURABLE,h=l.get,d=l.enforce,p=String(String).split("String");(e.exports=function(e,t,n,c){var l,h=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,g=c&&void 0!==c.name?c.name:t;i(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||u&&n.name!==g)&&s(n,"name",g),l=d(n),l.source||(l.source=p.join("string"==typeof g?g:""))),e!==r?(h?!m&&e[t]&&(f=!0):delete e[t],f?e[t]=n:s(e,t,n)):f?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return i(this)&&h(this).source||c(this)}))},"72ce":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="zoomIn" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-19-Copy"><g id="Group-13-Copy"><circle id="Oval-Copy-2" fill="#8300BF" cx="12" cy="12" r="12"></circle><g id="Group-12" transform="translate(5.000000, 4.000000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="5.5" cy="5.5" r="5.5"></circle><line x1="13.5833333" y1="13.5833333" x2="9.41666667" y2="9.41666667" id="Line-8" stroke-linecap="square"></line></g></g><line x1="9" y1="9.5" x2="12" y2="9.5" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></line><line x1="9" y1="9.5" x2="12" y2="9.5" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square" transform="translate(10.500000, 9.500000) rotate(90.000000) translate(-10.500000, -9.500000) "></line></g></g></svg>'},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(e,t,n){var r=n("cc12"),i=r("span").classList,o=i&&i.constructor&&i.constructor.prototype;e.exports=o===Object.prototype?void 0:o},"7b0b":function(e,t,n){var r=n("da84"),i=n("1d80"),o=r.Object;e.exports=function(e){return o(i(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),l=n("cc12"),u=n("f772"),h=">",d="<",p="prototype",f="script",m=u("IE_PROTO"),g=function(){},v=function(e){return d+f+h+e+d+"/"+f+h},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=l("iframe"),n="java"+f+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},x=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}x="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var e=s.length;while(e--)delete x[p][s[e]];return x()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[p]=i(e),n=new g,g[p]=null,n[m]=e):n=x(),void 0===t?n:o.f(n,t)}},"7d2f":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="permalink" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><circle id="Oval" fill="#8300BF" cx="12" cy="12" r="12"></circle><line x1="12.5" y1="9" x2="12.5" y2="15" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square" transform="translate(12.500000, 12.000000) rotate(45.000000) translate(-12.500000, -12.000000) "></line><path d="M17,13 L17,16.5 C17,18.9852814 14.9852814,21 12.5,21 C10.0147186,21 8,18.9852814 8,16.5 L8,13 L10,13 L10,16.5 C10,17.8807119 11.1192881,19 12.5,19 C13.8254834,19 14.9100387,17.9684641 14.9946823,16.6643757 L15,16.5 L15,13 L17,13 Z M12.5,3 C14.9852814,3 17,5.01471863 17,7.5 L17,11 L15,11 L15,7.5 C15,6.11928813 13.8807119,5 12.5,5 C11.1745166,5 10.0899613,6.03153594 10.0053177,7.33562431 L10,7.5 L10,11 L8,11 L8,7.5 C8,5.01471863 10.0147186,3 12.5,3 Z" id="Combined-Shape" fill="#FFFFFF" transform="translate(12.500000, 12.000000) rotate(45.000000) translate(-12.500000, -12.000000) "></path></g></svg>'},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("c65b"),o=n("c430"),s=n("5e77"),a=n("1626"),c=n("9ed3"),l=n("e163"),u=n("d2bb"),h=n("d44e"),d=n("9112"),p=n("6eeb"),f=n("b622"),m=n("3f8c"),g=n("ae93"),v=s.PROPER,y=s.CONFIGURABLE,b=g.IteratorPrototype,x=g.BUGGY_SAFARI_ITERATORS,w=f("iterator"),_="keys",S="values",M="entries",T=function(){return this};e.exports=function(e,t,n,s,f,g,E){c(n,t,s);var C,A,L,R=function(e){if(e===f&&F)return F;if(!x&&e in k)return k[e];switch(e){case _:return function(){return new n(this,e)};case S:return function(){return new n(this,e)};case M:return function(){return new n(this,e)}}return function(){return new n(this)}},O=t+" Iterator",P=!1,k=e.prototype,N=k[w]||k["@@iterator"]||f&&k[f],F=!x&&N||R(f),I="Array"==t&&k.entries||N;if(I&&(C=l(I.call(new e)),C!==Object.prototype&&C.next&&(o||l(C)===b||(u?u(C,b):a(C[w])||p(C,w,T)),h(C,O,!0,!0),o&&(m[O]=T))),v&&f==S&&N&&N.name!==S&&(!o&&y?d(k,"name",S):(P=!0,F=function(){return i(N,this)})),f)if(A={values:R(S),keys:g?F:R(_),entries:R(M)},E)for(L in A)(x||P||!(L in k))&&p(k,L,A[L]);else r({target:t,proto:!0,forced:x||P},A);return o&&!E||k[w]===F||p(k,w,F,{name:f}),m[t]=F,A}},"7f39":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="fullScreen" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-8-Copy"><circle id="Oval" cx="12" cy="12" r="12"></circle><g id="Group" transform="translate(5.000000, 6.000000)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="1.5"><polyline id="Line-5" points="7.68274333e-14 3.5 7.68274333e-14 0 4.80123862 0"></polyline><polyline id="Line-5" transform="translate(11.600619, 9.750000) rotate(-180.000000) translate(-11.600619, -9.750000) " points="9.2 11.5 9.2 8 14.0012386 8"></polyline><polyline id="Line-5" transform="translate(2.400619, 9.750000) scale(1, -1) translate(-2.400619, -9.750000) " points="7.68274333e-14 11.5 7.68274333e-14 8 4.80123862 8"></polyline><polyline id="Line-5" transform="translate(11.600619, 1.750000) scale(1, -1) rotate(-180.000000) translate(-11.600619, -1.750000) " points="9.2 3.5 9.2 0 14.0012386 0"></polyline></g></g></g></svg>'},"7f9a":function(e,t,n){var r=n("da84"),i=n("1626"),o=n("8925"),s=r.WeakMap;e.exports=i(s)&&/native code/.test(o(s))},"825a":function(e,t,n){var r=n("da84"),i=n("861d"),o=r.String,s=r.TypeError;e.exports=function(e){if(i(e))return e;throw s(o(e)+" is not an object")}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"85b5":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="singlepanel" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-10-Copy-5"><g id="Group-15-Copy"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect></g></g></svg>'},"861d":function(e,t,n){var r=n("1626");e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},"870a":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="2vertpanel" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-10-Copy-3"><g id="Group-15-Copy" fill="#8300BF"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect><line x1="12" y1="7.5" x2="12" y2="16.5" id="Line-6" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},8875:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(p.stack)||s.exec(p.stack),c=a&&a[1]||!1,l=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");c===u&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===c)return h[d];if(c===u&&h[d].innerHTML&&h[d].innerHTML.trim()===i)return h[d]}return null}}return e}))},8925:function(e,t,n){var r=n("e330"),i=n("1626"),o=n("c6cd"),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8e8a":function(e,t){e.exports='<svg id="icons" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="15.824" r="0.753"></circle><path d="M12,14.256a.75.75,0,0,1-.75-.75v-1c0-.529.419-.818.862-1.124.623-.43,1.138-.83,1.138-1.376A1.209,1.209,0,0,0,12,8.756a1.252,1.252,0,0,0-1.25,1.25.75.75,0,0,1-1.5,0A2.753,2.753,0,0,1,12,7.256a2.721,2.721,0,0,1,2.75,2.75,3.3,3.3,0,0,1-1.786,2.61c-.079.055-.152.1-.214.147v.743A.75.75,0,0,1,12,14.256Z"></path><path d="M12,5a7,7,0,1,1-7,7,7.008,7.008,0,0,1,7-7m0-2a9,9,0,1,0,9,9,9,9,0,0,0-9-9Z"></path></svg>'},"90e3":function(e,t,n){var r=n("e330"),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){"use strict";var r=n("c65b"),i=n("e330"),o=n("577e"),s=n("ad6d"),a=n("9f7f"),c=n("5692"),l=n("7c73"),u=n("69f3").get,h=n("fce3"),d=n("107c"),p=c("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,m=f,g=i("".charAt),v=i("".indexOf),y=i("".replace),b=i("".slice),x=function(){var e=/a/,t=/b*/g;return r(f,e,"a"),r(f,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=a.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],S=x||_||w||h||d;S&&(m=function(e){var t,n,i,a,c,h,d,S=this,M=u(S),T=o(e),E=M.raw;if(E)return E.lastIndex=S.lastIndex,t=r(m,E,T),S.lastIndex=E.lastIndex,t;var C=M.groups,A=w&&S.sticky,L=r(s,S),R=S.source,O=0,P=T;if(A&&(L=y(L,"y",""),-1===v(L,"g")&&(L+="g"),P=b(T,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==g(T,S.lastIndex-1))&&(R="(?: "+R+")",P=" "+P,O++),n=new RegExp("^(?:"+R+")",L)),_&&(n=new RegExp("^"+R+"$(?!\\s)",L)),x&&(i=S.lastIndex),a=r(f,A?n:S,P),A?a?(a.input=b(a.input,O),a[0]=b(a[0],O),a.index=S.lastIndex,S.lastIndex+=a[0].length):S.lastIndex=0:x&&a&&(S.lastIndex=S.global?a.index+a[0].length:i),_&&a&&a.length>1&&r(p,a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&C)for(a.groups=h=l(null),c=0;c<C.length;c++)d=C[c],h[d[0]]=a[d[1]];return a}),e.exports=m},9310:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="fullScreen" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-8-Copy"><circle id="Oval" fill="#8300BF" cx="12" cy="12" r="12"></circle><g id="Group" transform="translate(5.000000, 6.000000)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="1.5"><polyline id="Line-5" points="7.68274333e-14 3.5 7.68274333e-14 0 4.80123862 0"></polyline><polyline id="Line-5" transform="translate(11.600619, 9.750000) rotate(-180.000000) translate(-11.600619, -9.750000) " points="9.2 11.5 9.2 8 14.0012386 8"></polyline><polyline id="Line-5" transform="translate(2.400619, 9.750000) scale(1, -1) translate(-2.400619, -9.750000) " points="7.68274333e-14 11.5 7.68274333e-14 8 4.80123862 8"></polyline><polyline id="Line-5" transform="translate(11.600619, 1.750000) scale(1, -1) rotate(-180.000000) translate(-11.600619, -1.750000) " points="9.2 3.5 9.2 0 14.0012386 0"></polyline></g></g></g></svg>'},"94ca":function(e,t,n){var r=n("d039"),i=n("1626"),o=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n==u||n!=l&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},"95a0":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="closeFullScreen" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group"><circle id="Oval" fill="#8300BF" cx="12" cy="12" r="12"></circle><polyline id="Line-5" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="square" transform="translate(6.750000, 7.750000) rotate(-180.000000) translate(-6.750000, -7.750000) " points="5 9.5 5 6 8.5 6"></polyline><polyline id="Line-5" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="square" transform="translate(17.250000, 15.750000) rotate(-360.000000) translate(-17.250000, -15.750000) " points="15.5 17.5 15.5 14 19 14"></polyline><polyline id="Line-5" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="square" transform="translate(6.750000, 15.750000) scale(1, -1) rotate(-180.000000) translate(-6.750000, -15.750000) " points="5 17.5 5 14 8.5 14"></polyline><polyline id="Line-5" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="square" transform="translate(17.250000, 7.750000) scale(1, -1) rotate(-360.000000) translate(-17.250000, -7.750000) " points="15.5 9.5 15.5 6 19 6"></polyline></g></g></svg>'},"98fd":function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="resetZoom" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-13-Copy-2"><circle id="Oval-Copy-2" fill="#8300BF" cx="12" cy="12" r="12"></circle><g id="Group-12" transform="translate(5.000000, 4.000000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="5.5" cy="5.5" r="5.5"></circle><line x1="13.5833333" y1="13.5833333" x2="9.41666667" y2="9.41666667" id="Line-8" stroke-linecap="square"></line></g><g id="Group-4" transform="translate(7.500000, 7.000000)"><path d="M3,5 C3.83613696,5 4.57640148,4.58952131 5.03027306,3.95908443 C5.19488093,3.73044075 5.32181864,3.47286529 5.40199763,3.19544657 C5.46580562,2.97467142 5.5,2.74132897 5.5,2.5 C5.5,2.26693547 5.46810753,2.04131982 5.40844867,1.82727914 C5.31560782,1.49418996 5.15552386,1.18913241 4.9437468,0.927656488 C4.48541251,0.361762414 3.78495332,0 3,0 C1.61928813,0 0.5,1.11928813 0.5,2.5 C0.5,3.88071187 1.61928813,5 3,5 Z" id="Oval" stroke="#FFFFFF"></path><rect id="Rectangle" fill="#8300BF" x="2.5" y="2" width="4" height="1"></rect><line x1="5.5" y1="1.5" x2="5.5" y2="0.5" id="Line-7" stroke="#FFFFFF" stroke-linecap="square"></line><line x1="4.5" y1="1.5" x2="5.5" y2="1.5" id="Line-7" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></g></svg>'},"9bf2":function(e,t,n){var r=n("da84"),i=n("83ab"),o=n("0cfb"),s=n("aed9"),a=n("825a"),c=n("a04b"),l=r.TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=i?s?function(e,t,n){if(a(e),t=c(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=h(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=c(t),a(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=i(r,{next:o(+!l,n)}),s(e,u,!1,!0),a[u]=c,e}},"9f7f":function(e,t,n){var r=n("d039"),i=n("da84"),o=i.RegExp,s=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=s||r((function(){return!o("a","y").sticky})),c=s||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:s}},a04b:function(e,t,n){var r=n("c04e"),i=n("d9b5");e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("44ad"),s=n("fc6a"),a=n("a640"),c=i([].join),l=o!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:l||!u},{join:function(e){return c(s(this),void 0===e?",":e)}})},a46f:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="closeFullScreen" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group"><circle id="Oval" cx="12" cy="12" r="12"></circle><polyline id="Line-5" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="square" transform="translate(6.750000, 7.750000) rotate(-180.000000) translate(-6.750000, -7.750000) " points="5 9.5 5 6 8.5 6"></polyline><polyline id="Line-5" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="square" transform="translate(17.250000, 15.750000) rotate(-360.000000) translate(-17.250000, -15.750000) " points="15.5 17.5 15.5 14 19 14"></polyline><polyline id="Line-5" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="square" transform="translate(6.750000, 15.750000) scale(1, -1) rotate(-180.000000) translate(-6.750000, -15.750000) " points="5 17.5 5 14 8.5 14"></polyline><polyline id="Line-5" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="square" transform="translate(17.250000, 7.750000) scale(1, -1) rotate(-360.000000) translate(-17.250000, -7.750000) " points="15.5 9.5 15.5 6 19 6"></polyline></g></g></svg>'},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},a8cb:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="tooltips" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-15"><circle id="Oval-Copy" fill="#8300BF" cx="12" cy="12" r="12"></circle><path d="M6,5 L18,5 C19.1045695,5 20,5.8954305 20,7 L20,15.5714286 C20,16.6759981 19.1045695,17.5714286 18,17.5714286 L15.4003471,17.5714286 L15.4003471,17.5714286 L12.8157442,20.271248 C12.4338253,20.6701921 11.8008107,20.6839938 11.4018666,20.3020749 C11.3997428,20.3000417 11.3976279,20.2979991 11.3955221,20.2959473 L8.59934577,17.5714286 L8.59934577,17.5714286 L6,17.5714286 C4.8954305,17.5714286 4,16.6759981 4,15.5714286 L4,7 C4,5.8954305 4.8954305,5 6,5 Z" id="Rectangle" fill="#FFFFFF"></path><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold" fill="#8300BF"><tspan x="8.5" y="18">?</tspan></text></g></g></svg>'},a9a2:function(e,t,n){var r={"./2horpanel.svg":"5be3","./2vertpanel.svg":"1dfd","./3panel.svg":"2085","./4panel.svg":"c1b6","./changeBckgd.svg":"380a","./close-no-bk.svg":"6467","./close.svg":"1899","./closeFullScreen.svg":"a46f","./dock.svg":"fbf5","./fitWindow.svg":"618b","./fullScreen.svg":"7f39","./help.svg":"8e8a","./magnifyingGlass.svg":"25f0","./noun-filter.svg":"2672","./pause.svg":"ba23","./permalink.svg":"f215","./play.svg":"16d4","./resetZoom.svg":"23b4","./singlepanel.svg":"85b5","./tooltips.svg":"c55f","./undock.svg":"ddb04","./zoomIn.svg":"52ce","./zoomOut.svg":"64ee"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="a9a2"},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),a=n("1626"),c=n("7c73"),l=n("e163"),u=n("6eeb"),h=n("b622"),d=n("c430"),p=h("iterator"),f=!1;[].keys&&(o=[].keys(),"next"in o?(i=l(l(o)),i!==Object.prototype&&(r=i)):f=!0);var m=void 0==r||s((function(){var e={};return r[p].call(e)!==e}));m?r={}:d&&(r=c(r)),a(r[p])||u(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},aea9:function(e,t,n){var r=n("0f4b");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("499e").default;i("bffa2812",r,!0,{sourceMap:!1,shadowMode:!1})},aed9:function(e,t,n){var r=n("83ab"),i=n("d039");e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},afa3:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="magnifyingGlass" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-19-Copy"><g id="Group-13-Copy"><circle id="Oval-Copy-2" fill="#8300BF" cx="12" cy="12" r="12"></circle><g id="Group-12" transform="translate(5.000000, 4.000000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="5.5" cy="5.5" r="5.5"></circle><line x1="13.5833333" y1="13.5833333" x2="9.41666667" y2="9.41666667" id="Line-8" stroke-linecap="square"></line></g></g></g></g></svg>'},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("1a2d"),s=n("90e3"),a=n("4930"),c=n("fdbf"),l=i("wks"),u=r.Symbol,h=u&&u["for"],d=c?u:u&&u.withoutSetter||s;e.exports=function(e){if(!o(l,e)||!a&&"string"!=typeof l[e]){var t="Symbol."+e;a&&o(u,e)?l[e]=u[e]:l[e]=c&&h?h(t):d(t)}return l[e]}},b64f:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="3panel" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-10-Copy"><g id="Group-15-Copy" fill="#8300BF"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect><line x1="11.5" y1="7.5" x2="11.5" y2="16.5" id="Line-6" stroke="#FFFFFF" stroke-linecap="square"></line><line x1="18.5" y1="11.5" x2="11.5" y2="11.5" id="Line-10" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},b727:function(e,t,n){var r=n("0366"),i=n("e330"),o=n("44ad"),s=n("7b0b"),a=n("07fa"),c=n("65f0"),l=i([].push),u=function(e){var t=1==e,n=2==e,i=3==e,u=4==e,h=6==e,d=7==e,p=5==e||h;return function(f,m,g,v){for(var y,b,x=s(f),w=o(x),_=r(m,g),S=a(w),M=0,T=v||c,E=t?T(f,S):n||d?T(f,0):void 0;S>M;M++)if((p||M in w)&&(y=w[M],b=_(y,M,x),e))if(t)E[M]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return M;case 2:l(E,y)}else switch(e){case 4:return!1;case 7:l(E,y)}return h?-1:i||u?u:E}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},ba23:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Artboard-Copy-6" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-5-Copy"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle></g><line x1="9" y1="8" x2="9" y2="16" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></line><line x1="15" y1="8" x2="15" y2="16" id="Line-6-Copy-3" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square"></line></g></svg>'},c04e:function(e,t,n){var r=n("da84"),i=n("c65b"),o=n("861d"),s=n("d9b5"),a=n("dc4a"),c=n("485a"),l=n("b622"),u=r.TypeError,h=l("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,r=a(e,h);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||s(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},c1b6:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="4panel" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-10-Copy-2"><g id="Group-15-Copy"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect><line x1="12" y1="7.5" x2="12" y2="16.5" id="Line-6" stroke="#FFFFFF" stroke-linecap="square"></line><line x1="18.5" y1="12" x2="5.5" y2="12" id="Line-10" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},c430:function(e,t){e.exports=!1},c55f:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="tooltips" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-15"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><path d="M6,5 L18,5 C19.1045695,5 20,5.8954305 20,7 L20,15.5714286 C20,16.6759981 19.1045695,17.5714286 18,17.5714286 L15.4003471,17.5714286 L15.4003471,17.5714286 L12.8157442,20.271248 C12.4338253,20.6701921 11.8008107,20.6839938 11.4018666,20.3020749 C11.3997428,20.3000417 11.3976279,20.2979991 11.3955221,20.2959473 L8.59934577,17.5714286 L8.59934577,17.5714286 L6,17.5714286 C4.8954305,17.5714286 4,16.6759981 4,15.5714286 L4,7 C4,5.8954305 4.8954305,5 6,5 Z" id="Rectangle"></path><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g></g></svg>'},c65b:function(e,t,n){var r=n("40d5"),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},c6b6:function(e,t,n){var r=n("e330"),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("e330"),i=n("1a2d"),o=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),c=r([].push);e.exports=function(e,t){var n,r=o(e),l=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&c(u,n);while(t.length>l)i(r,n=t[l++])&&(~s(u,n)||c(u,n));return u}},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},ce4e:function(e,t,n){var r=n("da84"),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("da84"),i=n("1626"),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d2bb:function(e,t,n){var r=n("e330"),i=n("825a"),o=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("1a2d"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&r(e,s,{configurable:!0,value:t})}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("e330"),i=n("6eeb"),o=n("9263"),s=n("d039"),a=n("b622"),c=n("9112"),l=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,h){var d=a(e),p=!s((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p&&!s((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!f||n){var m=r(/./[d]),g=t(d,""[e],(function(e,t,n,i,s){var a=r(e),c=t.exec;return c===o||c===u.exec?p&&!s?{done:!0,value:m(t,n,i)}:{done:!0,value:a(n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(u,d,g[1])}h&&c(u[d],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d9b5:function(e,t,n){var r=n("da84"),i=n("d066"),o=n("1626"),s=n("3a9b"),a=n("fdbf"),c=r.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&s(t.prototype,c(e))}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc4a:function(e,t,n){var r=n("59ed");e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("785a"),s=n("e260"),a=n("9112"),c=n("b622"),l=c("iterator"),u=c("toStringTag"),h=s.values,d=function(e,t){if(e){if(e[l]!==h)try{a(e,l,h)}catch(r){e[l]=h}if(e[u]||a(e,u,t),i[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(r){e[n]=s[n]}}};for(var p in i)d(r[p]&&r[p].prototype,p);d(o,"DOMTokenList")},ddb04:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="undock" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-9"><circle id="Oval" cx="12" cy="12" r="12"></circle><g id="Group-5" transform="translate(5.500000, 6.000000)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="2"><line x1="0.728962778" y1="12.0355339" x2="4.97160346" y2="7.79289322" id="Line"></line><g id="Group" transform="translate(4.264497, 8.500000) rotate(-315.000000) translate(-4.264497, -8.500000) translate(1.264497, 7.000000)"><line x1="2.27373675e-13" y1="2.82842712" x2="2.82842712" y2="0" id="Line"></line><line x1="3" y1="0" x2="5.82842712" y2="2.82842712" id="Line"></line></g><line x1="12.5355339" y1="0.158436893" x2="8.29289322" y2="4.40107758" id="Line"></line><g id="Group" transform="translate(9.000000, 3.693971) rotate(-135.000000) translate(-9.000000, -3.693971) translate(6.000000, 2.193971)"><line x1="2.27373675e-13" y1="2.82842712" x2="2.82842712" y2="0" id="Line"></line><line x1="3" y1="0" x2="5.82842712" y2="2.82842712" id="Line"></line></g></g></g></g></svg>'},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},e163:function(e,t,n){var r=n("da84"),i=n("1a2d"),o=n("1626"),s=n("7b0b"),a=n("f772"),c=n("e177"),l=a("IE_PROTO"),u=r.Object,h=u.prototype;e.exports=c?u.getPrototypeOf:function(e){var t=s(e);if(i(t,l))return t[l];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof u?h:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("9bf2").f,c=n("7dd0"),l=n("c430"),u=n("83ab"),h="Array Iterator",d=s.set,p=s.getterFor(h);e.exports=c(Array,"Array",(function(e,t){d(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var f=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&u&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(m){}},e330:function(e,t,n){var r=n("40d5"),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},e893:function(e,t,n){var r=n("1a2d"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t,n){for(var a=i(t),c=s.f,l=o.f,u=0;u<a.length;u++){var h=a[u];r(e,h)||n&&r(n,h)||c(e,h,l(t,h))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f215:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="permalink" stroke="none" stroke-width="1" fill-rule="evenodd"><circle id="Oval" cx="12" cy="12" r="12"></circle><line x1="12.5" y1="9" x2="12.5" y2="15" id="Line-6-Copy-2" stroke="#FFFFFF" stroke-width="2" stroke-linecap="square" transform="translate(12.500000, 12.000000) rotate(45.000000) translate(-12.500000, -12.000000) "></line><path d="M17,13 L17,16.5 C17,18.9852814 14.9852814,21 12.5,21 C10.0147186,21 8,18.9852814 8,16.5 L8,13 L10,13 L10,16.5 C10,17.8807119 11.1192881,19 12.5,19 C13.8254834,19 14.9100387,17.9684641 14.9946823,16.6643757 L15,16.5 L15,13 L17,13 Z M12.5,3 C14.9852814,3 17,5.01471863 17,7.5 L17,11 L15,11 L15,7.5 C15,6.11928813 13.8807119,5 12.5,5 C11.1745166,5 10.0899613,6.03153594 10.0053177,7.33562431 L10,7.5 L10,11 L8,11 L8,7.5 C8,5.01471863 10.0147186,3 12.5,3 Z" id="Combined-Shape" transform="translate(12.500000, 12.000000) rotate(45.000000) translate(-12.500000, -12.000000) "></path></g></svg>'},f510:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="2horpanel" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-10-Copy-4"><g id="Group-15-Copy" fill="#8300BF"><circle id="Oval-Copy" cx="12" cy="12" r="12"></circle><text id="?" font-family="Asap-Bold, Asap" font-size="16" font-weight="bold"><tspan x="8.5" y="18">?</tspan></text></g><rect id="Rectangle" stroke="#FFFFFF" x="5" y="7" width="14" height="10"></rect><line x1="18.5" y1="12" x2="5.5" y2="12" id="Line-10" stroke="#FFFFFF" stroke-linecap="square"></line></g></g></svg>'},f5df:function(e,t,n){var r=n("da84"),i=n("00ee"),o=n("1626"),s=n("c6b6"),a=n("b622"),c=a("toStringTag"),l=r.Object,u="Arguments"==s(function(){return arguments}()),h=function(e,t){try{return e[t]}catch(n){}};e.exports=i?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=h(t=l(e),c))?n:u?s(t):"Object"==(r=s(t))&&o(t.callee)?"Arguments":r}},f673:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="fitWindow" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-3"><g id="Group-8-Copy"><circle id="Oval" fill="#8300BF" cx="12" cy="12" r="12"></circle><g id="Group" transform="translate(5.000000, 6.000000)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="1.5"><polyline id="Line-5" points="0 3.5 0 0 4.80123862 0"></polyline><polyline id="Line-5" transform="translate(2.400619, 9.750000) scale(1, -1) translate(-2.400619, -9.750000) " points="0 11.5 0 8 4.80123862 8"></polyline><polyline id="Line-5" transform="translate(11.600619, 1.750000) scale(1, -1) rotate(-180.000000) translate(-11.600619, -1.750000) " points="9.2 3.5 9.2 0 14.0012386 0"></polyline></g></g><g id="Group-12" transform="translate(9.000000, 8.500000)" stroke="#FFFFFF" stroke-width="2"><circle id="Oval" cx="3.5" cy="3.5" r="3.5"></circle><line x1="8.75" y1="8.75" x2="6.25" y2="6.25" id="Line-8" stroke-linecap="square"></line></g></g></g></svg>'},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"MapSvgSprite",(function(){return f})),n.d(t,"MapSvgIcon",(function(){return x})),n.d(t,"MapSvgSpriteColor",(function(){return A})),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticStyle:{display:"none"},attrs:{width:"0",height:"0"},domProps:{innerHTML:e._s(e.$options.svgSprite)}})},a=[],c=(n("d81d"),n("e260"),n("d3b7"),n("ddb0"),n("ac1f"),n("5319"),n("a15b"),n("a9a2")),l=c.keys().map((function(e){var t=c(e),n=e.replace(/^\.\/(.*)\.\w+$/,"$1");return t.replace("<svg",'<symbol id="'.concat(n,'"')).replace("svg>","symbol>")})),u={name:"MapSvgSprite",svgContext:c,svgSprite:l.join("\n")},h=u;function d(e,t,n,r,i,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}var p=d(h,s,a,!1,null,null,null),f=p.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"map-icon",class:{"map-icon-spin":e.spin}},[n("use",{attrs:{"xlink:href":"#"+e.icon}})])},g=[],v={name:"MapSvgIcon",props:{icon:{type:String,required:!0},spin:{type:Boolean,default:!1}}},y=v,b=(n("6553"),d(y,m,g,!1,null,"e5120fc4",null)),x=b.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticStyle:{display:"none"},attrs:{width:"0",height:"0"},domProps:{innerHTML:e._s(e.$options.svgSprite)}})},_=[],S=n("6060"),M=S.keys().map((function(e){var t=S(e),n=e.replace(/^\.\/(.*)\.\w+$/,"$1");return t.replace("<svg",'<symbol id="'.concat(n,'"')).replace("svg>","symbol>")})),T={name:"MapSvgSpriteColor",svgContext:S,svgSprite:M.join("\n")},E=T,C=d(E,w,_,!1,null,null,null),A=C.exports},fbf5:function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="dock" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group-8-Copy-2"><circle id="Oval" cx="12" cy="12" r="12"></circle><g id="Group-5" transform="translate(2.972940, 3.512563)" stroke="#FFFFFF" stroke-linecap="square" stroke-width="2"><line x1="10.7289628" y1="7.03553391" x2="14.9716035" y2="2.79289322" id="Line"></line><g id="Group" transform="translate(14.264497, 3.500000) rotate(-315.000000) translate(-14.264497, -3.500000) translate(11.264497, 2.000000)"><line x1="2.27373675e-13" y1="2.82842712" x2="2.82842712" y2="0" id="Line"></line><line x1="3" y1="0" x2="5.82842712" y2="2.82842712" id="Line"></line></g><line x1="7.53553391" y1="10.1584369" x2="3.29289322" y2="14.4010776" id="Line"></line><g id="Group" transform="translate(4.000000, 13.693971) rotate(-135.000000) translate(-4.000000, -13.693971) translate(1.000000, 12.193971)"><line x1="2.27373675e-13" y1="2.82842712" x2="2.82842712" y2="0" id="Line"></line><line x1="3" y1="0" x2="5.82842712" y2="2.82842712" id="Line"></line></g></g></g></g></svg>'},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fce3:function(e,t,n){var r=n("d039"),i=n("da84"),o=i.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})},"825a":function(e,t,n){var r=n("861d"),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("a04b"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},8604:function(e,t,n){var r=n("26e8"),i=n("e2c0");function o(e,t){return null!=e&&i(e,t,r)}e.exports=o},"861d":function(e,t,n){var r=n("1626");e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},8875:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(p.stack)||s.exec(p.stack),c=a&&a[1]||!1,l=a&&a[2]||!1,u=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");c===u&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===c)return h[d];if(c===u&&h[d].innerHTML&&h[d].innerHTML.trim()===i)return h[d]}return null}}return e}))},8925:function(e,t,n){var r=n("e330"),i=n("1626"),o=n("c6cd"),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},"8a5a":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n("5a89");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function p(e){var t=u();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function f(e,t){return v(e)||b(e,t)||x(e,t)||S()}function m(e){return g(e)||y(e)||x(e)||_()}function g(e){if(Array.isArray(e))return w(e)}function v(e){if(Array.isArray(e))return e}function y(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0)if(o.push(r.value),t&&o.length===t)break}catch(c){a=!0,i=c}finally{try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}return o}}function x(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var M="undefined"!==typeof window&&window.THREE?window.THREE:{LinearFilter:r["LinearFilter"],Sprite:r["Sprite"],SpriteMaterial:r["SpriteMaterial"],Texture:r["Texture"]},T=function(e){a(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(255, 255, 255, 1)";return i(this,n),e=t.call(this,new M.SpriteMaterial),e._text="".concat(r),e._textHeight=o,e._color=s,e._backgroundColor=!1,e._padding=0,e._borderWidth=0,e._borderRadius=0,e._borderColor="white",e._strokeWidth=0,e._strokeColor="white",e._fontFace="Arial",e._fontSize=90,e._fontWeight="normal",e._canvas=document.createElement("canvas"),e._genCanvas(),e}return s(n,[{key:"text",get:function(){return this._text},set:function(e){this._text=e,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(e){this._textHeight=e,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding=e,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(e){this._borderRadius=e,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(e){this._fontFace=e,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize=e,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight=e,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(e){this._strokeWidth=e,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(e){this._strokeColor=e,this._genCanvas()}},{key:"_genCanvas",value:function(){var e=this,t=this._canvas,n=t.getContext("2d"),r=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],i=r.map((function(t){return t*e.fontSize*.1})),o=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],s=o.map((function(t){return t*e.fontSize*.1})),a=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],c=a.map((function(t){return t*e.fontSize*.1})),l=this.text.split("\n"),u="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);n.font=u;var h=Math.max.apply(Math,m(l.map((function(e){return n.measureText(e).width})))),d=this.fontSize*l.length;if(t.width=h+2*i[0]+2*c[0],t.height=d+2*i[1]+2*c[1],this.borderWidth){if(n.strokeStyle=this.borderColor,i[0]){var p=i[0]/2;n.lineWidth=i[0],n.beginPath(),n.moveTo(p,s[0]),n.lineTo(p,t.height-s[3]),n.moveTo(t.width-p,s[1]),n.lineTo(t.width-p,t.height-s[2]),n.stroke()}if(i[1]){var g=i[1]/2;n.lineWidth=i[1],n.beginPath(),n.moveTo(Math.max(i[0],s[0]),g),n.lineTo(t.width-Math.max(i[0],s[1]),g),n.moveTo(Math.max(i[0],s[3]),t.height-g),n.lineTo(t.width-Math.max(i[0],s[2]),t.height-g),n.stroke()}if(this.borderRadius){var v=Math.max.apply(Math,m(i)),y=v/2;n.lineWidth=v,n.beginPath(),[!!s[0]&&[s[0],y,y,s[0]],!!s[1]&&[t.width-s[1],t.width-y,y,s[1]],!!s[2]&&[t.width-s[2],t.width-y,t.height-y,t.height-s[2]],!!s[3]&&[s[3],y,t.height-y,t.height-s[3]]].filter((function(e){return e})).forEach((function(e){var t=f(e,4),r=t[0],i=t[1],o=t[2],s=t[3];n.moveTo(r,o),n.quadraticCurveTo(i,o,i,s)})),n.stroke()}}this.backgroundColor&&(n.fillStyle=this.backgroundColor,this.borderRadius?(n.beginPath(),n.moveTo(i[0],s[0]),[[i[0],s[0],t.width-s[1],i[1],i[1],i[1]],[t.width-i[0],t.width-i[0],t.width-i[0],i[1],s[1],t.height-s[2]],[t.width-i[0],t.width-s[2],s[3],t.height-i[1],t.height-i[1],t.height-i[1]],[i[0],i[0],i[0],t.height-i[1],t.height-s[3],s[0]]].forEach((function(e){var t=f(e,6),r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5];n.quadraticCurveTo(r,s,i,a),n.lineTo(o,c)})),n.closePath(),n.fill()):n.fillRect(i[0],i[1],t.width-2*i[0],t.height-2*i[1])),n.translate.apply(n,m(i)),n.translate.apply(n,m(c)),n.font=u,n.fillStyle=this.color,n.textBaseline="bottom";var b=this.strokeWidth>0;b&&(n.lineWidth=this.strokeWidth*this.fontSize/10,n.strokeStyle=this.strokeColor),l.forEach((function(t,r){var i=(h-n.measureText(t).width)/2,o=(r+1)*e.fontSize;b&&n.strokeText(t,i,o),n.fillText(t,i,o)})),this.material.map&&this.material.map.dispose();var x=this.material.map=new M.Texture(t);x.minFilter=M.LinearFilter,x.needsUpdate=!0;var w=this.textHeight*l.length+2*r[1]+2*a[1];this.scale.set(w*t.width/t.height,w,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(e){return M.Sprite.prototype.copy.call(this,e),this.color=e.color,this.backgroundColor=e.backgroundColor,this.padding=e.padding,this.borderWidth=e.borderWidth,this.borderColor=e.borderColor,this.fontFace=e.fontFace,this.fontSize=e.fontSize,this.fontWeight=e.fontWeight,this.strokeWidth=e.strokeWidth,this.strokeColor=e.strokeColor,this}}]),n}(M.Sprite)},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8c4f":function(e,t,n){"use strict";
/*!
  * vue-router v3.5.4
  * (c) 2022 Evan You
  * @license MIT
  */function r(e,t){for(var n in t)e[n]=t[n];return e}var i=/[!'()*]/g,o=function(e){return"%"+e.charCodeAt(0).toString(16)},s=/%2C/g,a=function(e){return encodeURIComponent(e).replace(i,o).replace(s,",")};function c(e){try{return decodeURIComponent(e)}catch(t){0}return e}function l(e,t,n){void 0===t&&(t={});var r,i=n||h;try{r=i(e||"")}catch(a){r={}}for(var o in t){var s=t[o];r[o]=Array.isArray(s)?s.map(u):u(s)}return r}var u=function(e){return null==e||"object"===typeof e?e:String(e)};function h(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),r=c(n.shift()),i=n.length>0?c(n.join("=")):null;void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}function d(e){var t=e?Object.keys(e).map((function(t){var n=e[t];if(void 0===n)return"";if(null===n)return a(t);if(Array.isArray(n)){var r=[];return n.forEach((function(e){void 0!==e&&(null===e?r.push(a(t)):r.push(a(t)+"="+a(e)))})),r.join("&")}return a(t)+"="+a(n)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var p=/\/?$/;function f(e,t,n,r){var i=r&&r.options.stringifyQuery,o=t.query||{};try{o=m(o)}catch(a){}var s={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:y(t,i),matched:e?v(e):[]};return n&&(s.redirectedFrom=y(n,i)),Object.freeze(s)}function m(e){if(Array.isArray(e))return e.map(m);if(e&&"object"===typeof e){var t={};for(var n in e)t[n]=m(e[n]);return t}return e}var g=f(null,{path:"/"});function v(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function y(e,t){var n=e.path,r=e.query;void 0===r&&(r={});var i=e.hash;void 0===i&&(i="");var o=t||d;return(n||"/")+o(r)+i}function b(e,t,n){return t===g?e===t:!!t&&(e.path&&t.path?e.path.replace(p,"")===t.path.replace(p,"")&&(n||e.hash===t.hash&&x(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(n||e.hash===t.hash&&x(e.query,t.query)&&x(e.params,t.params))))}function x(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e).sort(),r=Object.keys(t).sort();return n.length===r.length&&n.every((function(n,i){var o=e[n],s=r[i];if(s!==n)return!1;var a=t[n];return null==o||null==a?o===a:"object"===typeof o&&"object"===typeof a?x(o,a):String(o)===String(a)}))}function w(e,t){return 0===e.path.replace(p,"/").indexOf(t.path.replace(p,"/"))&&(!t.hash||e.hash===t.hash)&&_(e.query,t.query)}function _(e,t){for(var n in t)if(!(n in e))return!1;return!0}function S(e){for(var t=0;t<e.matched.length;t++){var n=e.matched[t];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var s=0;s<o.length;s++)i._isBeingDestroyed||o[s](i)}}}}var M={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,i=t.children,o=t.parent,s=t.data;s.routerView=!0;var a=o.$createElement,c=n.name,l=o.$route,u=o._routerViewCache||(o._routerViewCache={}),h=0,d=!1;while(o&&o._routerRoot!==o){var p=o.$vnode?o.$vnode.data:{};p.routerView&&h++,p.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(s.routerViewDepth=h,d){var f=u[c],m=f&&f.component;return m?(f.configProps&&T(m,s,f.route,f.configProps),a(m,s,i)):a()}var g=l.matched[h],v=g&&g.components[c];if(!g||!v)return u[c]=null,a();u[c]={component:v},s.registerRouteInstance=function(e,t){var n=g.instances[c];(t&&n!==e||!t&&n===e)&&(g.instances[c]=t)},(s.hook||(s.hook={})).prepatch=function(e,t){g.instances[c]=t.componentInstance},s.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==g.instances[c]&&(g.instances[c]=e.componentInstance),S(l)};var y=g.props&&g.props[c];return y&&(r(u[c],{route:l,configProps:y}),T(v,s,l,y)),a(v,s,i)}};function T(e,t,n,i){var o=t.props=E(n,i);if(o){o=t.props=r({},o);var s=t.attrs=t.attrs||{};for(var a in o)e.props&&a in e.props||(s[a]=o[a],delete o[a])}}function E(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}function C(e,t,n){var r=e.charAt(0);if("/"===r)return e;if("?"===r||"#"===r)return t+e;var i=t.split("/");n&&i[i.length-1]||i.pop();for(var o=e.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?i.pop():"."!==a&&i.push(a)}return""!==i[0]&&i.unshift(""),i.join("/")}function A(e){var t="",n="",r=e.indexOf("#");r>=0&&(t=e.slice(r),e=e.slice(0,r));var i=e.indexOf("?");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{path:e,query:n,hash:t}}function L(e){return e.replace(/\/(?:\s*\/)+/g,"/")}var R=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},O=Z,P=D,k=B,N=U,F=Y,I=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function D(e,t){var n,r=[],i=0,o=0,s="",a=t&&t.delimiter||"/";while(null!=(n=I.exec(e))){var c=n[0],l=n[1],u=n.index;if(s+=e.slice(o,u),o=u+c.length,l)s+=l[1];else{var h=e[o],d=n[2],p=n[3],f=n[4],m=n[5],g=n[6],v=n[7];s&&(r.push(s),s="");var y=null!=d&&null!=h&&h!==d,b="+"===g||"*"===g,x="?"===g||"*"===g,w=n[2]||a,_=f||m;r.push({name:p||i++,prefix:d||"",delimiter:w,optional:x,repeat:b,partial:y,asterisk:!!v,pattern:_?G(_):v?".*":"[^"+V(w)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function B(e,t){return U(D(e,t),t)}function z(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function j(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function U(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",W(t)));return function(t,r){for(var i="",o=t||{},s=r||{},a=s.pretty?z:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var u,h=o[l.name];if(null==h){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(R(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(u=a(h[d]),!n[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===d?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?j(h):a(h),!n[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');i+=l.prefix+u}}else i+=l}return i}}function V(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function G(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function H(e,t){return e.keys=t,e}function W(e){return e&&e.sensitive?"":"i"}function $(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return H(e,t)}function q(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(Z(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",W(n));return H(o,t)}function X(e,t,n){return Y(D(e,n),t,n)}function Y(e,t,n){R(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"===typeof a)o+=V(a);else{var c=V(a.prefix),l="(?:"+a.pattern+")";t.push(a),a.repeat&&(l+="(?:"+c+l+")*"),l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",o+=l}}var u=V(n.delimiter||"/"),h=o.slice(-u.length)===u;return r||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+u+"|$)",H(new RegExp("^"+o,W(n)),t)}function Z(e,t,n){return R(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?$(e,t):R(e)?q(e,t,n):X(e,t,n)}O.parse=P,O.compile=k,O.tokensToFunction=N,O.tokensToRegExp=F;var J=Object.create(null);function K(e,t,n){t=t||{};try{var r=J[e]||(J[e]=O.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),r(t,{pretty:!0})}catch(i){return""}finally{delete t[0]}}function Q(e,t,n,i){var o="string"===typeof e?{path:e}:e;if(o._normalized)return o;if(o.name){o=r({},e);var s=o.params;return s&&"object"===typeof s&&(o.params=r({},s)),o}if(!o.path&&o.params&&t){o=r({},o),o._normalized=!0;var a=r(r({},t.params),o.params);if(t.name)o.name=t.name,o.params=a;else if(t.matched.length){var c=t.matched[t.matched.length-1].path;o.path=K(c,a,"path "+t.path)}else 0;return o}var u=A(o.path||""),h=t&&t.path||"/",d=u.path?C(u.path,h,n||o.append):h,p=l(u.query,o.query,i&&i.options.parseQuery),f=o.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:d,query:p,hash:f}}var ee,te=[String,Object],ne=[String,Array],re=function(){},ie={name:"RouterLink",props:{to:{type:te,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:ne,default:"click"}},render:function(e){var t=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),s=o.location,a=o.route,c=o.href,l={},u=n.options.linkActiveClass,h=n.options.linkExactActiveClass,d=null==u?"router-link-active":u,p=null==h?"router-link-exact-active":h,m=null==this.activeClass?d:this.activeClass,g=null==this.exactActiveClass?p:this.exactActiveClass,v=a.redirectedFrom?f(null,Q(a.redirectedFrom),null,n):a;l[g]=b(i,v,this.exactPath),l[m]=this.exact||this.exactPath?l[g]:w(i,v);var y=l[g]?this.ariaCurrentValue:null,x=function(e){oe(e)&&(t.replace?n.replace(s,re):n.push(s,re))},_={click:oe};Array.isArray(this.event)?this.event.forEach((function(e){_[e]=x})):_[this.event]=x;var S={class:l},M=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:a,navigate:x,isActive:l[m],isExactActive:l[g]});if(M){if(1===M.length)return M[0];if(M.length>1||!M.length)return 0===M.length?e():e("span",{},M)}if("a"===this.tag)S.on=_,S.attrs={href:c,"aria-current":y};else{var T=se(this.$slots.default);if(T){T.isStatic=!1;var E=T.data=r({},T.data);for(var C in E.on=E.on||{},E.on){var A=E.on[C];C in _&&(E.on[C]=Array.isArray(A)?A:[A])}for(var L in _)L in E.on?E.on[L].push(_[L]):E.on[L]=x;var R=T.data.attrs=r({},T.data.attrs);R.href=c,R["aria-current"]=y}else S.on=_}return e(this.tag,S,this.$slots.default)}};function oe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function se(e){if(e)for(var t,n=0;n<e.length;n++){if(t=e[n],"a"===t.tag)return t;if(t.children&&(t=se(t.children)))return t}}function ae(e){if(!ae.installed||ee!==e){ae.installed=!0,ee=e;var t=function(e){return void 0!==e},n=function(e,n){var r=e.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(e,n)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",M),e.component("RouterLink",ie);var r=e.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ce="undefined"!==typeof window;function le(e,t,n,r,i){var o=t||[],s=n||Object.create(null),a=r||Object.create(null);e.forEach((function(e){ue(o,s,a,e,i)}));for(var c=0,l=o.length;c<l;c++)"*"===o[c]&&(o.push(o.splice(c,1)[0]),l--,c--);return{pathList:o,pathMap:s,nameMap:a}}function ue(e,t,n,r,i,o){var s=r.path,a=r.name;var c=r.pathToRegexpOptions||{},l=de(s,i,c.strict);"boolean"===typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var u={path:l,regex:he(l,c),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:a,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?L(o+"/"+r.path):void 0;ue(e,t,n,r,u,i)})),t[u.path]||(e.push(u.path),t[u.path]=u),void 0!==r.alias)for(var h=Array.isArray(r.alias)?r.alias:[r.alias],d=0;d<h.length;++d){var p=h[d];0;var f={path:p,children:r.children};ue(e,t,n,f,i,u.path||"/")}a&&(n[a]||(n[a]=u))}function he(e,t){var n=O(e,[],t);return n}function de(e,t,n){return n||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:L(t.path+"/"+e)}function pe(e,t){var n=le(e),r=n.pathList,i=n.pathMap,o=n.nameMap;function s(e){le(e,r,i,o)}function a(e,t){var n="object"!==typeof e?o[e]:void 0;le([t||e],r,i,o,n),n&&n.alias.length&&le(n.alias.map((function(e){return{path:e,children:[t]}})),r,i,o,n)}function c(){return r.map((function(e){return i[e]}))}function l(e,n,s){var a=Q(e,n,!1,t),c=a.name;if(c){var l=o[c];if(!l)return d(null,a);var u=l.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof a.params&&(a.params={}),n&&"object"===typeof n.params)for(var h in n.params)!(h in a.params)&&u.indexOf(h)>-1&&(a.params[h]=n.params[h]);return a.path=K(l.path,a.params,'named route "'+c+'"'),d(l,a,s)}if(a.path){a.params={};for(var p=0;p<r.length;p++){var f=r[p],m=i[f];if(fe(m.regex,a.path,a.params))return d(m,a,s)}}return d(null,a)}function u(e,n){var r=e.redirect,i="function"===typeof r?r(f(e,n,null,t)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return d(null,n);var s=i,a=s.name,c=s.path,u=n.query,h=n.hash,p=n.params;if(u=s.hasOwnProperty("query")?s.query:u,h=s.hasOwnProperty("hash")?s.hash:h,p=s.hasOwnProperty("params")?s.params:p,a){o[a];return l({_normalized:!0,name:a,query:u,hash:h,params:p},void 0,n)}if(c){var m=me(c,e),g=K(m,p,'redirect route with path "'+m+'"');return l({_normalized:!0,path:g,query:u,hash:h},void 0,n)}return d(null,n)}function h(e,t,n){var r=K(n,t.params,'aliased route with path "'+n+'"'),i=l({_normalized:!0,path:r});if(i){var o=i.matched,s=o[o.length-1];return t.params=i.params,d(s,t)}return d(null,t)}function d(e,n,r){return e&&e.redirect?u(e,r||n):e&&e.matchAs?h(e,n,e.matchAs):f(e,n,r,t)}return{match:l,addRoute:a,getRoutes:c,addRoutes:s}}function fe(e,t,n){var r=t.match(e);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var s=e.keys[i-1];s&&(n[s.name||"pathMatch"]="string"===typeof r[i]?c(r[i]):r[i])}return!0}function me(e,t){return C(e,t.parent?t.parent.path:"/",!0)}var ge=ce&&window.performance&&window.performance.now?window.performance:Date;function ve(){return ge.now().toFixed(3)}var ye=ve();function be(){return ye}function xe(e){return ye=e}var we=Object.create(null);function _e(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),n=r({},window.history.state);return n.key=be(),window.history.replaceState(n,"",t),window.addEventListener("popstate",Te),function(){window.removeEventListener("popstate",Te)}}function Se(e,t,n,r){if(e.app){var i=e.options.scrollBehavior;i&&e.app.$nextTick((function(){var o=Ee(),s=i.call(e,t,n,r?o:null);s&&("function"===typeof s.then?s.then((function(e){ke(e,o)})).catch((function(e){0})):ke(s,o))}))}}function Me(){var e=be();e&&(we[e]={x:window.pageXOffset,y:window.pageYOffset})}function Te(e){Me(),e.state&&e.state.key&&xe(e.state.key)}function Ee(){var e=be();if(e)return we[e]}function Ce(e,t){var n=document.documentElement,r=n.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-r.left-t.x,y:i.top-r.top-t.y}}function Ae(e){return Oe(e.x)||Oe(e.y)}function Le(e){return{x:Oe(e.x)?e.x:window.pageXOffset,y:Oe(e.y)?e.y:window.pageYOffset}}function Re(e){return{x:Oe(e.x)?e.x:0,y:Oe(e.y)?e.y:0}}function Oe(e){return"number"===typeof e}var Pe=/^#\d/;function ke(e,t){var n="object"===typeof e;if(n&&"string"===typeof e.selector){var r=Pe.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var i=e.offset&&"object"===typeof e.offset?e.offset:{};i=Re(i),t=Ce(r,i)}else Ae(e)&&(t=Le(e))}else n&&Ae(e)&&(t=Le(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var Ne=ce&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Fe(e,t){Me();var n=window.history;try{if(t){var i=r({},n.state);i.key=be(),n.replaceState(i,"",e)}else n.pushState({key:xe(ve())},"",e)}catch(o){window.location[t?"replace":"assign"](e)}}function Ie(e){Fe(e,!0)}function De(e,t,n){var r=function(i){i>=e.length?n():e[i]?t(e[i],(function(){r(i+1)})):r(i+1)};r(0)}var Be={redirected:2,aborted:4,cancelled:8,duplicated:16};function ze(e,t){return Ge(e,t,Be.redirected,'Redirected when going from "'+e.fullPath+'" to "'+We(t)+'" via a navigation guard.')}function je(e,t){var n=Ge(e,t,Be.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return n.name="NavigationDuplicated",n}function Ue(e,t){return Ge(e,t,Be.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function Ve(e,t){return Ge(e,t,Be.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function Ge(e,t,n,r){var i=new Error(r);return i._isRouter=!0,i.from=e,i.to=t,i.type=n,i}var He=["params","query","hash"];function We(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t={};return He.forEach((function(n){n in e&&(t[n]=e[n])})),JSON.stringify(t,null,2)}function $e(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function qe(e,t){return $e(e)&&e._isRouter&&(null==t||e.type===t)}function Xe(e){return function(t,n,r){var i=!1,o=0,s=null;Ye(e,(function(e,t,n,a){if("function"===typeof e&&void 0===e.cid){i=!0,o++;var c,l=Qe((function(t){Ke(t)&&(t=t.default),e.resolved="function"===typeof t?t:ee.extend(t),n.components[a]=t,o--,o<=0&&r()})),u=Qe((function(e){var t="Failed to resolve async component "+a+": "+e;s||(s=$e(e)?e:new Error(t),r(s))}));try{c=e(l,u)}catch(d){u(d)}if(c)if("function"===typeof c.then)c.then(l,u);else{var h=c.component;h&&"function"===typeof h.then&&h.then(l,u)}}})),i||r()}}function Ye(e,t){return Ze(e.map((function(e){return Object.keys(e.components).map((function(n){return t(e.components[n],e.instances[n],e,n)}))})))}function Ze(e){return Array.prototype.concat.apply([],e)}var Je="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Ke(e){return e.__esModule||Je&&"Module"===e[Symbol.toStringTag]}function Qe(e){var t=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!t)return t=!0,e.apply(this,n)}}var et=function(e,t){this.router=e,this.base=tt(t),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function tt(e){if(!e)if(ce){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function nt(e,t){var n,r=Math.max(e.length,t.length);for(n=0;n<r;n++)if(e[n]!==t[n])break;return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}function rt(e,t,n,r){var i=Ye(e,(function(e,r,i,o){var s=it(e,t);if(s)return Array.isArray(s)?s.map((function(e){return n(e,r,i,o)})):n(s,r,i,o)}));return Ze(r?i.reverse():i)}function it(e,t){return"function"!==typeof e&&(e=ee.extend(e)),e.options[t]}function ot(e){return rt(e,"beforeRouteLeave",at,!0)}function st(e){return rt(e,"beforeRouteUpdate",at)}function at(e,t){if(t)return function(){return e.apply(t,arguments)}}function ct(e){return rt(e,"beforeRouteEnter",(function(e,t,n,r){return lt(e,n,r)}))}function lt(e,t,n){return function(r,i,o){return e(r,i,(function(e){"function"===typeof e&&(t.enteredCbs[n]||(t.enteredCbs[n]=[]),t.enteredCbs[n].push(e)),o(e)}))}}et.prototype.listen=function(e){this.cb=e},et.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},et.prototype.onError=function(e){this.errorCbs.push(e)},et.prototype.transitionTo=function(e,t,n){var r,i=this;try{r=this.router.match(e,this.current)}catch(s){throw this.errorCbs.forEach((function(e){e(s)})),s}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),t&&t(r),i.ensureURL(),i.router.afterHooks.forEach((function(e){e&&e(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(e){e(r)})))}),(function(e){n&&n(e),e&&!i.ready&&(qe(e,Be.redirected)&&o===g||(i.ready=!0,i.readyErrorCbs.forEach((function(t){t(e)}))))}))},et.prototype.confirmTransition=function(e,t,n){var r=this,i=this.current;this.pending=e;var o=function(e){!qe(e)&&$e(e)&&(r.errorCbs.length?r.errorCbs.forEach((function(t){t(e)})):console.error(e)),n&&n(e)},s=e.matched.length-1,a=i.matched.length-1;if(b(e,i)&&s===a&&e.matched[s]===i.matched[a])return this.ensureURL(),e.hash&&Se(this.router,i,e,!1),o(je(i,e));var c=nt(this.current.matched,e.matched),l=c.updated,u=c.deactivated,h=c.activated,d=[].concat(ot(u),this.router.beforeHooks,st(l),h.map((function(e){return e.beforeEnter})),Xe(h)),p=function(t,n){if(r.pending!==e)return o(Ue(i,e));try{t(e,i,(function(t){!1===t?(r.ensureURL(!0),o(Ve(i,e))):$e(t)?(r.ensureURL(!0),o(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(o(ze(i,e)),"object"===typeof t&&t.replace?r.replace(t):r.push(t)):n(t)}))}catch(s){o(s)}};De(d,p,(function(){var n=ct(h),s=n.concat(r.router.resolveHooks);De(s,p,(function(){if(r.pending!==e)return o(Ue(i,e));r.pending=null,t(e),r.router.app&&r.router.app.$nextTick((function(){S(e)}))}))}))},et.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},et.prototype.setupListeners=function(){},et.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=g,this.pending=null};var ut=function(e){function t(t,n){e.call(this,t,n),this._startLocation=ht(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,r=Ne&&n;r&&this.listeners.push(_e());var i=function(){var n=e.current,i=ht(e.base);e.current===g&&i===e._startLocation||e.transitionTo(i,(function(e){r&&Se(t,e,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){Fe(L(r.base+e.fullPath)),Se(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){Ie(L(r.base+e.fullPath)),Se(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.ensureURL=function(e){if(ht(this.base)!==this.current.fullPath){var t=L(this.base+this.current.fullPath);e?Fe(t):Ie(t)}},t.prototype.getCurrentLocation=function(){return ht(this.base)},t}(et);function ht(e){var t=window.location.pathname,n=t.toLowerCase(),r=e.toLowerCase();return!e||n!==r&&0!==n.indexOf(L(r+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var dt=function(e){function t(t,n,r){e.call(this,t,n),r&&pt(this.base)||ft()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,n=t.options.scrollBehavior,r=Ne&&n;r&&this.listeners.push(_e());var i=function(){var t=e.current;ft()&&e.transitionTo(mt(),(function(n){r&&Se(e.router,n,t,!0),Ne||yt(n.fullPath)}))},o=Ne?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},t.prototype.push=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){vt(e.fullPath),Se(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this,i=this,o=i.current;this.transitionTo(e,(function(e){yt(e.fullPath),Se(r.router,e,o,!1),t&&t(e)}),n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;mt()!==t&&(e?vt(t):yt(t))},t.prototype.getCurrentLocation=function(){return mt()},t}(et);function pt(e){var t=ht(e);if(!/^\/#/.test(t))return window.location.replace(L(e+"/#"+t)),!0}function ft(){var e=mt();return"/"===e.charAt(0)||(yt("/"+e),!1)}function mt(){var e=window.location.href,t=e.indexOf("#");return t<0?"":(e=e.slice(t+1),e)}function gt(e){var t=window.location.href,n=t.indexOf("#"),r=n>=0?t.slice(0,n):t;return r+"#"+e}function vt(e){Ne?Fe(gt(e)):window.location.hash=e}function yt(e){Ne?Ie(gt(e)):window.location.replace(gt(e))}var bt=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index+1).concat(e),r.index++,t&&t(e)}),n)},t.prototype.replace=function(e,t,n){var r=this;this.transitionTo(e,(function(e){r.stack=r.stack.slice(0,r.index).concat(e),t&&t(e)}),n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var e=t.current;t.index=n,t.updateRoute(r),t.router.afterHooks.forEach((function(t){t&&t(r,e)}))}),(function(e){qe(e,Be.duplicated)&&(t.index=n)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(et),xt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pe(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Ne&&!1!==e.fallback,this.fallback&&(t="hash"),ce||(t="abstract"),this.mode=t,t){case"history":this.history=new ut(this,e.base);break;case"hash":this.history=new dt(this,e.base,this.fallback);break;case"abstract":this.history=new bt(this,e.base);break;default:0}},wt={currentRoute:{configurable:!0}};function _t(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function St(e,t,n){var r="hash"===n?"#"+t:t;return e?L(e+"/"+r):r}xt.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},wt.currentRoute.get=function(){return this.history&&this.history.current},xt.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var n=t.apps.indexOf(e);n>-1&&t.apps.splice(n,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var n=this.history;if(n instanceof ut||n instanceof dt){var r=function(e){var r=n.current,i=t.options.scrollBehavior,o=Ne&&i;o&&"fullPath"in e&&Se(t,e,r,!1)},i=function(e){n.setupListeners(),r(e)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},xt.prototype.beforeEach=function(e){return _t(this.beforeHooks,e)},xt.prototype.beforeResolve=function(e){return _t(this.resolveHooks,e)},xt.prototype.afterEach=function(e){return _t(this.afterHooks,e)},xt.prototype.onReady=function(e,t){this.history.onReady(e,t)},xt.prototype.onError=function(e){this.history.onError(e)},xt.prototype.push=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.push(e,t,n)}));this.history.push(e,t,n)},xt.prototype.replace=function(e,t,n){var r=this;if(!t&&!n&&"undefined"!==typeof Promise)return new Promise((function(t,n){r.history.replace(e,t,n)}));this.history.replace(e,t,n)},xt.prototype.go=function(e){this.history.go(e)},xt.prototype.back=function(){this.go(-1)},xt.prototype.forward=function(){this.go(1)},xt.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},xt.prototype.resolve=function(e,t,n){t=t||this.history.current;var r=Q(e,t,n,this),i=this.match(r,t),o=i.redirectedFrom||i.fullPath,s=this.history.base,a=St(s,o,this.mode);return{location:r,route:i,href:a,normalizedTo:r,resolved:i}},xt.prototype.getRoutes=function(){return this.matcher.getRoutes()},xt.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},xt.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(xt.prototype,wt),xt.install=ae,xt.version="3.5.4",xt.isNavigationFailure=qe,xt.NavigationFailureType=Be,xt.START_LOCATION=g,ce&&window.Vue&&window.Vue.use(xt),t["a"]=xt},"8db3":function(e,t,n){var r=n("47f5");function i(e,t){var n=null==e?0:e.length;return!!n&&r(e,t,0)>-1}e.exports=i},"90e3":function(e,t,n){var r=n("e330"),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},"91e9":function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},9263:function(e,t,n){"use strict";var r=n("c65b"),i=n("e330"),o=n("577e"),s=n("ad6d"),a=n("9f7f"),c=n("5692"),l=n("7c73"),u=n("69f3").get,h=n("fce3"),d=n("107c"),p=c("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,m=f,g=i("".charAt),v=i("".indexOf),y=i("".replace),b=i("".slice),x=function(){var e=/a/,t=/b*/g;return r(f,e,"a"),r(f,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=a.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],S=x||_||w||h||d;S&&(m=function(e){var t,n,i,a,c,h,d,S=this,M=u(S),T=o(e),E=M.raw;if(E)return E.lastIndex=S.lastIndex,t=r(m,E,T),S.lastIndex=E.lastIndex,t;var C=M.groups,A=w&&S.sticky,L=r(s,S),R=S.source,O=0,P=T;if(A&&(L=y(L,"y",""),-1===v(L,"g")&&(L+="g"),P=b(T,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==g(T,S.lastIndex-1))&&(R="(?: "+R+")",P=" "+P,O++),n=new RegExp("^(?:"+R+")",L)),_&&(n=new RegExp("^"+R+"$(?!\\s)",L)),x&&(i=S.lastIndex),a=r(f,A?n:S,P),A?a?(a.input=b(a.input,O),a[0]=b(a[0],O),a.index=S.lastIndex,S.lastIndex+=a[0].length):S.lastIndex=0:x&&a&&(S.lastIndex=S.global?a.index+a[0].length:i),_&&a&&a.length>1&&r(p,a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&C)for(a.groups=h=l(null),c=0;c<C.length;c++)d=C[c],h[d[0]]=a[d[1]];return a}),e.exports=m},"93c6":function(e,t,n){var r=n("6a5c"),i=n("6747");function o(e,t,n,o){return null==e?[]:(i(t)||(t=null==t?[]:[t]),n=o?void 0:n,i(n)||(n=null==n?[]:[n]),r(e,t,n))}e.exports=o},"93ed":function(e,t,n){var r=n("4245");function i(e){var t=r(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},"94ca":function(e,t,n){var r=n("d039"),i=n("1626"),o=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n==u||n!=l&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},"950a":function(e,t,n){var r=n("30c9");function i(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);var o=n.length,s=t?o:-1,a=Object(n);while(t?s--:++s<o)if(!1===i(a[s],s,a))break;return n}}e.exports=i},9520:function(e,t,n){var r=n("3729"),i=n("1a8c"),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";function l(e){if(!i(e))return!1;var t=r(e);return t==s||t==a||t==o||t==c}e.exports=l},9619:function(e,t,n){var r=n("597f"),i=n("0e15");e.exports={throttle:r,debounce:i}},9638:function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},"966f":function(e,t,n){var r=n("7e64"),i=n("c05f"),o=1,s=2;function a(e,t,n,a){var c=n.length,l=c,u=!a;if(null==e)return!l;e=Object(e);while(c--){var h=n[c];if(u&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}while(++c<l){h=n[c];var d=h[0],p=e[d],f=h[1];if(u&&h[2]){if(void 0===p&&!(d in e))return!1}else{var m=new r;if(a)var g=a(p,f,d,e,t,m);if(!(void 0===g?i(f,p,o|s,a,m):g))return!1}}return!0}e.exports=a},"97d3":function(e,t,n){var r=n("48a0"),i=n("30c9");function o(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}e.exports=o},9861:function(e,t,n){n("5352")},"99cd":function(e,t){function n(e){return function(t,n,r){var i=-1,o=Object(t),s=r(t),a=s.length;while(a--){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}e.exports=n},"99d3":function(e,t,n){(function(e){var r=n("585a"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s&&r.process,c=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=c}).call(this,n("62e4")(e))},"9a1f":function(e,t,n){var r=n("c65b"),i=n("59ed"),o=n("825a"),s=n("0d51"),a=n("35a1"),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return o(r(n,e));throw c(s(e)+" is not iterable")}},"9b02":function(e,t,n){var r=n("656b");function i(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}e.exports=i},"9bdd":function(e,t,n){var r=n("825a"),i=n("2a62");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){i(e,"throw",s)}}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("aed9"),s=n("825a"),a=n("a04b"),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=u(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9e69":function(e,t,n){var r=n("2b3e"),i=r.Symbol;e.exports=i},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=i(r,{next:o(+!l,n)}),s(e,u,!1,!0),a[u]=c,e}},"9f7f":function(e,t,n){var r=n("d039"),i=n("da84"),o=i.RegExp,s=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=s||r((function(){return!o("a","y").sticky})),c=s||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:s}},a04b:function(e,t,n){var r=n("c04e"),i=n("d9b5");e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},a2be:function(e,t,n){var r=n("d612"),i=n("4284"),o=n("c584"),s=1,a=2;function c(e,t,n,c,l,u){var h=n&s,d=e.length,p=t.length;if(d!=p&&!(h&&p>d))return!1;var f=u.get(e),m=u.get(t);if(f&&m)return f==t&&m==e;var g=-1,v=!0,y=n&a?new r:void 0;u.set(e,t),u.set(t,e);while(++g<d){var b=e[g],x=t[g];if(c)var w=h?c(x,b,g,t,e,u):c(b,x,g,e,t,u);if(void 0!==w){if(w)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(b===e||l(b,e,n,c,u)))return y.push(t)}))){v=!1;break}}else if(b!==x&&!l(b,x,n,c,u)){v=!1;break}}return u["delete"](e),u["delete"](t),v}e.exports=c},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("7b0b"),o=n("23cb"),s=n("5926"),a=n("07fa"),c=n("3511"),l=n("65f0"),u=n("8418"),h=n("083a"),d=n("1dde"),p=d("splice"),f=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,d,p,g,v,y=i(this),b=a(y),x=o(e,b),w=arguments.length;for(0===w?n=r=0:1===w?(n=0,r=b-x):(n=w-2,r=m(f(s(t),0),b-x)),c(b+n-r),d=l(y,r),p=0;p<r;p++)g=x+p,g in y&&u(d,p,y[g]);if(d.length=r,n<r){for(p=x;p<b-r;p++)g=p+r,v=p+n,g in y?y[v]=y[g]:h(y,v);for(p=b;p>b-r+n;p--)h(y,p-1)}else if(n>r)for(p=b-r;p>x;p--)g=p+r-1,v=p+n-1,g in y?y[v]=y[g]:h(y,v);for(p=0;p<n;p++)y[p+x]=arguments[p+2];return y.length=b-r+n,d}})},a4d3:function(e,t,n){n("d9f5"),n("b4f8"),n("c513"),n("e9c4"),n("5a47")},a524:function(e,t,n){var r=n("4245");function i(e){return r(this,e).has(e)}e.exports=i},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),s=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:i})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},a994:function(e,t,n){var r=n("7d1f"),i=n("32f4"),o=n("ec69");function s(e){return r(e,o,i)}e.exports=s},a9e3:function(e,t,n){"use strict";var r=n("83ab"),i=n("da84"),o=n("e330"),s=n("94ca"),a=n("cb2d"),c=n("1a2d"),l=n("7156"),u=n("3a9b"),h=n("d9b5"),d=n("c04e"),p=n("d039"),f=n("241c").f,m=n("06cf").f,g=n("9bf2").f,v=n("408a"),y=n("58a8").trim,b="Number",x=i[b],w=x.prototype,_=i.TypeError,S=o("".slice),M=o("".charCodeAt),T=function(e){var t=d(e,"number");return"bigint"==typeof t?t:E(t)},E=function(e){var t,n,r,i,o,s,a,c,l=d(e,"number");if(h(l))throw _("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=y(l),t=M(l,0),43===t||45===t){if(n=M(l,2),88===n||120===n)return NaN}else if(48===t){switch(M(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=S(l,2),s=o.length,a=0;a<s;a++)if(c=M(o,a),c<48||c>i)return NaN;return parseInt(o,r)}return+l};if(s(b,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var C,A=function(e){var t=arguments.length<1?0:x(T(e)),n=this;return u(w,n)&&p((function(){v(n)}))?l(Object(t),n,A):t},L=r?f(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),R=0;L.length>R;R++)c(x,C=L[R])&&!c(A,C)&&g(A,C,m(x,C));A.prototype=w,w.constructor=A,a(i,b,A,{constructor:!0})}},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},ab36:function(e,t,n){var r=n("861d"),i=n("9112");e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ac41:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}e.exports=n},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},addb:function(e,t,n){var r=n("4dae"),i=Math.floor,o=function(e,t){var n=e.length,c=i(n/2);return n<8?s(e,t):a(e,o(r(e,0,c),t),o(r(e,c),t),t)},s=function(e,t){var n,r,i=e.length,o=1;while(o<i){r=o,n=e[o];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},a=function(e,t,n,r){var i=t.length,o=n.length,s=0,a=0;while(s<i||a<o)e[s+a]=s<i&&a<o?r(t[s],n[a])<=0?t[s++]:n[a++]:s<i?t[s++]:n[a++];return e};e.exports=o},ae69:function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}var i="[\\.|\\-|\\+|\\w|/|@]+",o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+i+").*?\\)";function s(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e){return!isNaN(1*e)}function c(e,t,r){var c={};c[r]=[];var l=t.toString(),u=l.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return c;var h,d=u[1],p=new RegExp("(\\\\n|\\W)"+s(d)+o,"g");while(h=p.exec(l))"dll-reference"!==h[3]&&c[r].push(h[3]);p=new RegExp("\\("+s(d)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+o,"g");while(h=p.exec(l))e[h[2]]||(c[r].push(h[1]),e[h[2]]=n(h[1]).m),c[h[2]]=c[h[2]]||[],c[h[2]].push(h[4]);for(var f=Object.keys(c),m=0;m<f.length;m++)for(var g=0;g<c[f[m]].length;g++)a(c[f[m]][g])&&(c[f[m]][g]=1*c[f[m]][g]);return c}function l(e){var t=Object.keys(e);return t.reduce((function(t,n){return t||e[n].length>0}),!1)}function u(e,t){var n={main:[t]},r={main:[]},i={main:{}};while(l(n))for(var o=Object.keys(n),s=0;s<o.length;s++){var a=o[s],u=n[a],h=u.pop();if(i[a]=i[a]||{},!i[a][h]&&e[a][h]){i[a][h]=!0,r[a]=r[a]||[],r[a].push(h);for(var d=c(e,e[a][h],a),p=Object.keys(d),f=0;f<p.length;f++)n[p[f]]=n[p[f]]||[],n[p[f]]=n[p[f]].concat(d[p[f]])}}return r}e.exports=function(e,t){t=t||{};var i={main:n.m},o=t.all?{main:Object.keys(i.main)}:u(i,e),s="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){var t=0;while(o[e][t])t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",s=s+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),s=s+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var a=new window.Blob([s],{type:"text/javascript"});if(t.bare)return a;var c=window.URL||window.webkitURL||window.mozURL||window.msURL,l=c.createObjectURL(a),h=new window.Worker(l);return h.objectURL=l,h}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),a=n("1626"),c=n("7c73"),l=n("e163"),u=n("cb2d"),h=n("b622"),d=n("c430"),p=h("iterator"),f=!1;[].keys&&(o=[].keys(),"next"in o?(i=l(l(o)),i!==Object.prototype&&(r=i)):f=!0);var m=void 0==r||s((function(){var e={};return r[p].call(e)!==e}));m?r={}:d&&(r=c(r)),a(r[p])||u(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},aeb0:function(e,t,n){var r=n("9bf2").f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},aed9:function(e,t,n){var r=n("83ab"),i=n("d039");e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b047:function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},b0c0:function(e,t,n){var r=n("83ab"),i=n("5e77").EXISTS,o=n("e330"),s=n("9bf2").f,a=Function.prototype,c=o(a.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(l.exec),h="name";r&&!i&&s(a,h,{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(e){return""}}})},b1e5:function(e,t,n){var r=n("a994"),i=1,o=Object.prototype,s=o.hasOwnProperty;function a(e,t,n,o,a,c){var l=n&i,u=r(e),h=u.length,d=r(t),p=d.length;if(h!=p&&!l)return!1;var f=h;while(f--){var m=u[f];if(!(l?m in t:s.call(t,m)))return!1}var g=c.get(e),v=c.get(t);if(g&&v)return g==t&&v==e;var y=!0;c.set(e,t),c.set(t,e);var b=l;while(++f<h){m=u[f];var x=e[m],w=t[m];if(o)var _=l?o(w,x,m,t,e,c):o(x,w,m,e,t,c);if(!(void 0===_?x===w||a(x,w,n,o,c):_)){y=!1;break}b||(b="constructor"==m)}if(y&&!b){var S=e.constructor,M=t.constructor;S==M||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof M&&M instanceof M||(y=!1)}return c["delete"](e),c["delete"](t),y}e.exports=a},b218:function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=r},b42e:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?r:n)(t)}},b4c0:function(e,t,n){var r=n("cb5a");function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=i},b4f8:function(e,t,n){var r=n("23e7"),i=n("d066"),o=n("1a2d"),s=n("577e"),a=n("5692"),c=n("3d87"),l=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=s(e);if(o(l,t))return l[t];var n=i("Symbol")(t);return l[t]=n,u[n]=t,n}})},b5a7:function(e,t,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"DataView");e.exports=o},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("1a2d"),s=n("90e3"),a=n("4930"),c=n("fdbf"),l=i("wks"),u=r.Symbol,h=u&&u["for"],d=c?u:u&&u.withoutSetter||s;e.exports=function(e){if(!o(l,e)||!a&&"string"!=typeof l[e]){var t="Symbol."+e;a&&o(u,e)?l[e]=u[e]:l[e]=c&&h?h(t):d(t)}return l[e]}},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),s=n("d039"),a=s((function(){o(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(e){return o(i(e))}})},b680:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("5926"),s=n("408a"),a=n("1148"),c=n("d039"),l=RangeError,u=String,h=Math.floor,d=i(a),p=i("".slice),f=i(1..toFixed),m=function(e,t,n){return 0===t?n:t%2===1?m(e,t-1,n*e):m(e*e,t/2,n)},g=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},v=function(e,t,n){var r=-1,i=n;while(++r<6)i+=t*e[r],e[r]=i%1e7,i=h(i/1e7)},y=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=h(r/t),r=r%t*1e7},b=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=u(e[t]);n=""===n?r:n+d("0",7-r.length)+r}return n},x=c((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!c((function(){f({})}));r({target:"Number",proto:!0,forced:x},{toFixed:function(e){var t,n,r,i,a=s(this),c=o(e),h=[0,0,0,0,0,0],f="",x="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return u(a);if(a<0&&(f="-",a=-a),a>1e-21)if(t=g(a*m(2,69,1))-69,n=t<0?a*m(2,-t,1):a/m(2,t,1),n*=4503599627370496,t=52-t,t>0){v(h,0,n),r=c;while(r>=7)v(h,1e7,0),r-=7;v(h,m(10,r,1),0),r=t-1;while(r>=23)y(h,1<<23),r-=23;y(h,1<<r),v(h,1,1),y(h,2),x=b(h)}else v(h,0,n),v(h,1<<-t,0),x=b(h)+d("0",c);return c>0?(i=x.length,x=f+(i<=c?"0."+d("0",c-i)+x:p(x,0,i-c)+"."+p(x,i-c))):x=f+x,x}})},b727:function(e,t,n){var r=n("0366"),i=n("e330"),o=n("44ad"),s=n("7b0b"),a=n("07fa"),c=n("65f0"),l=i([].push),u=function(e){var t=1==e,n=2==e,i=3==e,u=4==e,h=6==e,d=7==e,p=5==e||h;return function(f,m,g,v){for(var y,b,x=s(f),w=o(x),_=r(m,g),S=a(w),M=0,T=v||c,E=t?T(f,S):n||d?T(f,0):void 0;S>M;M++)if((p||M in w)&&(y=w[M],b=_(y,M,x),e))if(t)E[M]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return M;case 2:l(E,y)}else switch(e){case 4:return!1;case 7:l(E,y)}return h?-1:i||u?u:E}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},b980:function(e,t,n){var r=n("d039"),i=n("5c6c");e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},badf:function(e,t,n){var r=n("642a"),i=n("1838"),o=n("cd9d"),s=n("6747"),a=n("f9ce");function c(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):r(e):a(e)}e.exports=c},bbc0:function(e,t,n){var r=n("6044"),i="__lodash_hash_undefined__",o=Object.prototype,s=o.hasOwnProperty;function a(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return s.call(t,e)?t[e]:void 0}e.exports=a},bcdf:function(e,t){function n(){}e.exports=n},c04e:function(e,t,n){var r=n("c65b"),i=n("861d"),o=n("d9b5"),s=n("dc4a"),a=n("485a"),c=n("b622"),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,c=s(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},c05f:function(e,t,n){var r=n("7b97"),i=n("1310");function o(e,t,n,s,a){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,n,s,o,a))}e.exports=o},c098:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?n:t,!!t&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},c430:function(e,t){e.exports=!1},c513:function(e,t,n){var r=n("23e7"),i=n("1a2d"),o=n("d9b5"),s=n("0d51"),a=n("5692"),c=n("3d87"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!o(e))throw TypeError(s(e)+" is not a symbol");if(i(l,e))return l[e]}})},c584:function(e,t){function n(e,t){return e.has(t)}e.exports=n},c65b:function(e,t,n){var r=n("40d5"),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},c6b6:function(e,t,n){var r=n("e330"),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("6374"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c770:function(e,t,n){var r=n("e330"),i=Error,o=r("".replace),s=function(e){return String(i(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,a,"");return e}},c869:function(e,t,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"Set");e.exports=o},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var r=n("e330"),i=n("1a2d"),o=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),c=r([].push);e.exports=function(e,t){var n,r=o(e),l=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&c(u,n);while(t.length>l)i(r,n=t[l++])&&(~s(u,n)||c(u,n));return u}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,o=n("d039"),s=n("44d2"),a=o((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:a},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cae7:function(e,t,n){var r=n("ffd6");function i(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,s=r(e),a=void 0!==t,c=null===t,l=t===t,u=r(t);if(!c&&!u&&!s&&e>t||s&&a&&l&&!c&&!u||i&&a&&l||!n&&l||!o)return 1;if(!i&&!s&&!u&&e<t||u&&n&&o&&!i&&!s||c&&n&&o||!a&&o||!l)return-1}return 0}e.exports=i},cb2d:function(e,t,n){var r=n("1626"),i=n("9bf2"),o=n("13d2"),s=n("6374");e.exports=function(e,t,n,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:t;if(r(n)&&o(n,l,a),a.global)c?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(u){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},cb5a:function(e,t,n){var r=n("9638");function i(e,t){var n=e.length;while(n--)if(r(e[n][0],t))return n;return-1}e.exports=i},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cd9d:function(e,t){function n(e){return e}e.exports=n},ce86:function(e,t,n){var r=n("9e69"),i=n("7948"),o=n("6747"),s=n("ffd6"),a=1/0,c=r?r.prototype:void 0,l=c?c.toString:void 0;function u(e){if("string"==typeof e)return e;if(o(e))return i(e,u)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}e.exports=u},d012:function(e,t){e.exports={}},d02c:function(e,t,n){var r=n("5e2e"),i=n("79bc"),o=n("7b83"),s=200;function a(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<s-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}e.exports=a},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("da84"),i=n("1626"),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){var r=n("746f");r("iterator")},d2bb:function(e,t,n){var r=n("e330"),i=n("825a"),o=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},d327:function(e,t){function n(){return[]}e.exports=n},d370:function(e,t,n){var r=n("253c"),i=n("1310"),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},d3b7:function(e,t,n){var r=n("00ee"),i=n("cb2d"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("1a2d"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&r(e,s,{configurable:!0,value:t})}},d4b2:function(e,t){function n(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}e.exports=n},d612:function(e,t,n){var r=n("7b83"),i=n("7ed2"),o=n("dc0f");function s(e){var t=-1,n=null==e?0:e.length;this.__data__=new r;while(++t<n)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},d6d6:function(e,t){var n=TypeError;e.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("e330"),i=n("cb2d"),o=n("9263"),s=n("d039"),a=n("b622"),c=n("9112"),l=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,h){var d=a(e),p=!s((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p&&!s((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!f||n){var m=r(/./[d]),g=t(d,""[e],(function(e,t,n,i,s){var a=r(e),c=t.exec;return c===o||c===u.exec?p&&!s?{done:!0,value:m(t,n,i)}:{done:!0,value:a(n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(u,d,g[1])}h&&c(u[d],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,n){var r=n("342f");e.exports=/MSIE|Trident/.test(r)},d9a8:function(e,t){function n(e){return e!==e}e.exports=n},d9b5:function(e,t,n){var r=n("d066"),i=n("1626"),o=n("3a9b"),s=n("fdbf"),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},d9e2:function(e,t,n){var r=n("23e7"),i=n("da84"),o=n("2ba4"),s=n("e5cb"),a="WebAssembly",c=i[a],l=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=s(e,t,l),r({global:!0,constructor:!0,arity:1,forced:l},n)},h=function(e,t){if(c&&c[e]){var n={};n[e]=s(a+"."+e,t,l),r({target:a,stat:!0,constructor:!0,arity:1,forced:l},n)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},d9f5:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("c65b"),s=n("e330"),a=n("c430"),c=n("83ab"),l=n("4930"),u=n("d039"),h=n("1a2d"),d=n("3a9b"),p=n("825a"),f=n("fc6a"),m=n("a04b"),g=n("577e"),v=n("5c6c"),y=n("7c73"),b=n("df75"),x=n("241c"),w=n("057f"),_=n("7418"),S=n("06cf"),M=n("9bf2"),T=n("37e8"),E=n("d1e7"),C=n("cb2d"),A=n("5692"),L=n("f772"),R=n("d012"),O=n("90e3"),P=n("b622"),k=n("e538"),N=n("746f"),F=n("57b9"),I=n("d44e"),D=n("69f3"),B=n("b727").forEach,z=L("hidden"),j="Symbol",U="prototype",V=D.set,G=D.getterFor(j),H=Object[U],W=i.Symbol,$=W&&W[U],q=i.TypeError,X=i.QObject,Y=S.f,Z=M.f,J=w.f,K=E.f,Q=s([].push),ee=A("symbols"),te=A("op-symbols"),ne=A("wks"),re=!X||!X[U]||!X[U].findChild,ie=c&&u((function(){return 7!=y(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Y(H,t);r&&delete H[t],Z(e,t,n),r&&e!==H&&Z(H,t,r)}:Z,oe=function(e,t){var n=ee[e]=y($);return V(n,{type:j,tag:e,description:t}),c||(n.description=t),n},se=function(e,t,n){e===H&&se(te,t,n),p(e);var r=m(t);return p(n),h(ee,r)?(n.enumerable?(h(e,z)&&e[z][r]&&(e[z][r]=!1),n=y(n,{enumerable:v(0,!1)})):(h(e,z)||Z(e,z,v(1,{})),e[z][r]=!0),ie(e,r,n)):Z(e,r,n)},ae=function(e,t){p(e);var n=f(t),r=b(n).concat(de(n));return B(r,(function(t){c&&!o(le,n,t)||se(e,t,n[t])})),e},ce=function(e,t){return void 0===t?y(e):ae(y(e),t)},le=function(e){var t=m(e),n=o(K,this,t);return!(this===H&&h(ee,t)&&!h(te,t))&&(!(n||!h(this,t)||!h(ee,t)||h(this,z)&&this[z][t])||n)},ue=function(e,t){var n=f(e),r=m(t);if(n!==H||!h(ee,r)||h(te,r)){var i=Y(n,r);return!i||!h(ee,r)||h(n,z)&&n[z][r]||(i.enumerable=!0),i}},he=function(e){var t=J(f(e)),n=[];return B(t,(function(e){h(ee,e)||h(R,e)||Q(n,e)})),n},de=function(e){var t=e===H,n=J(t?te:f(e)),r=[];return B(n,(function(e){!h(ee,e)||t&&!h(H,e)||Q(r,ee[e])})),r};l||(W=function(){if(d($,this))throw q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=O(e),n=function(e){this===H&&o(n,te,e),h(this,z)&&h(this[z],t)&&(this[z][t]=!1),ie(this,t,v(1,e))};return c&&re&&ie(H,t,{configurable:!0,set:n}),oe(t,e)},$=W[U],C($,"toString",(function(){return G(this).tag})),C(W,"withoutSetter",(function(e){return oe(O(e),e)})),E.f=le,M.f=se,T.f=ae,S.f=ue,x.f=w.f=he,_.f=de,k.f=function(e){return oe(P(e),e)},c&&(Z($,"description",{configurable:!0,get:function(){return G(this).description}}),a||C(H,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),B(b(ne),(function(e){N(e)})),r({target:j,stat:!0,forced:!l},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:ce,defineProperty:se,defineProperties:ae,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he}),F(),I(W,j),R[z]=!0},da03:function(e,t,n){var r=n("2b3e"),i=r["__core-js_shared__"];e.exports=i},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc0f:function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},dc4a:function(e,t,n){var r=n("59ed");e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},dc57:function(e,t){var n=Function.prototype,r=n.toString;function i(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=i},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("785a"),s=n("e260"),a=n("9112"),c=n("b622"),l=c("iterator"),u=c("toStringTag"),h=s.values,d=function(e,t){if(e){if(e[l]!==h)try{a(e,l,h)}catch(r){e[l]=h}if(e[u]||a(e,u,t),i[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(r){e[n]=s[n]}}};for(var p in i)d(r[p]&&r[p].prototype,p);d(o,"DOMTokenList")},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),s=n("e330"),a=n("1a2d"),c=n("1626"),l=n("3a9b"),u=n("577e"),h=n("9bf2").f,d=n("e893"),p=o.Symbol,f=p&&p.prototype;if(i&&c(p)&&(!("description"in f)||void 0!==p().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(f,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};d(g,p),g.prototype=f,f.constructor=g;var v="Symbol(test)"==String(p("test")),y=s(f.toString),b=s(f.valueOf),x=/^Symbol\((.*)\)[^)]+$/,w=s("".replace),_=s("".slice);h(f,"description",{configurable:!0,get:function(){var e=b(this),t=y(e);if(a(m,e))return"";var n=v?_(t,7,-1):w(t,x,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:g})}},e163:function(e,t,n){var r=n("1a2d"),i=n("1626"),o=n("7b0b"),s=n("f772"),a=n("e177"),c=s("IE_PROTO"),l=Object,u=l.prototype;e.exports=a?l.getPrototypeOf:function(e){var t=o(e);if(r(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e24b:function(e,t,n){var r=n("49f4"),i=n("1efc"),o=n("bbc0"),s=n("7a48"),a=n("2524");function c(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype["delete"]=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,e.exports=c},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("9bf2").f,c=n("7dd0"),l=n("c430"),u=n("83ab"),h="Array Iterator",d=s.set,p=s.getterFor(h);e.exports=c(Array,"Array",(function(e,t){d(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var f=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&u&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(m){}},e2c0:function(e,t,n){var r=n("e2e4"),i=n("d370"),o=n("6747"),s=n("c098"),a=n("b218"),c=n("f4d6");function l(e,t,n){t=r(t,e);var l=-1,u=t.length,h=!1;while(++l<u){var d=c(t[l]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++l!=u?h:(u=null==e?0:e.length,!!u&&a(u)&&s(d,u)&&(o(e)||i(e)))}e.exports=l},e2e4:function(e,t,n){var r=n("6747"),i=n("f608"),o=n("18d8"),s=n("76dd");function a(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}e.exports=a},e330:function(e,t,n){var r=n("40d5"),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},e380:function(e,t,n){var r=n("7b83"),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},e391:function(e,t,n){var r=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},e3f8:function(e,t,n){var r=n("656b");function i(e){return function(t){return r(t,e)}}e.exports=i},e538:function(e,t,n){var r=n("b622");t.f=r},e5cb:function(e,t,n){"use strict";var r=n("d066"),i=n("1a2d"),o=n("9112"),s=n("3a9b"),a=n("d2bb"),c=n("e893"),l=n("aeb0"),u=n("7156"),h=n("e391"),d=n("ab36"),p=n("c770"),f=n("b980"),m=n("83ab"),g=n("c430");e.exports=function(e,t,n,v){var y="stackTraceLimit",b=v?2:1,x=e.split("."),w=x[x.length-1],_=r.apply(null,x);if(_){var S=_.prototype;if(!g&&i(S,"cause")&&delete S.cause,!n)return _;var M=r("Error"),T=t((function(e,t){var n=h(v?t:e,void 0),r=v?new _(e):new _;return void 0!==n&&o(r,"message",n),f&&o(r,"stack",p(r.stack,2)),this&&s(S,this)&&u(r,this,T),arguments.length>b&&d(r,arguments[b]),r}));if(T.prototype=S,"Error"!==w?a?a(T,M):c(T,M,{name:!0}):m&&y in _&&(l(T,_,y),l(T,_,"prepareStackTrace")),c(T,_),!g)try{S.name!==w&&o(S,"name",w),S.constructor=T}catch(E){}return T}}},e642:function(e,t,n){"use strict";n.r(t),n.d(t,"OBJLoader",(function(){return f}));var r=n("5a89");const i=/^[og]\s*(.+)?/,o=/^mtllib /,s=/^usemtl /,a=/^usemap /,c=new r["Vector3"],l=new r["Vector3"],u=new r["Vector3"],h=new r["Vector3"],d=new r["Vector3"];function p(){const e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);const n=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(e,t){const n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);const r={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){const t={index:"number"===typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){const t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(let n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},n&&n.name&&"function"===typeof n.clone){const e=n.clone(0);e.inherited=!0,this.object.materials.push(e)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseNormalIndex:function(e,t){const n=parseInt(e,10);return 3*(n>=0?n-1:n+t/3)},parseUVIndex:function(e,t){const n=parseInt(e,10);return 2*(n>=0?n-1:n+t/2)},addVertex:function(e,t,n){const r=this.vertices,i=this.object.geometry.vertices;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addVertexPoint:function(e){const t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices,n=this.object.geometry.vertices;n.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,n){const r=this.normals,i=this.object.geometry.normals;i.push(r[e+0],r[e+1],r[e+2]),i.push(r[t+0],r[t+1],r[t+2]),i.push(r[n+0],r[n+1],r[n+2])},addFaceNormal:function(e,t,n){const r=this.vertices,i=this.object.geometry.normals;c.fromArray(r,e),l.fromArray(r,t),u.fromArray(r,n),d.subVectors(u,l),h.subVectors(c,l),d.cross(h),d.normalize(),i.push(d.x,d.y,d.z),i.push(d.x,d.y,d.z),i.push(d.x,d.y,d.z)},addColor:function(e,t,n){const r=this.colors,i=this.object.geometry.colors;void 0!==r[e]&&i.push(r[e+0],r[e+1],r[e+2]),void 0!==r[t]&&i.push(r[t+0],r[t+1],r[t+2]),void 0!==r[n]&&i.push(r[n+0],r[n+1],r[n+2])},addUV:function(e,t,n){const r=this.uvs,i=this.object.geometry.uvs;i.push(r[e+0],r[e+1]),i.push(r[t+0],r[t+1]),i.push(r[n+0],r[n+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs,n=this.object.geometry.uvs;n.push(t[e+0],t[e+1])},addFace:function(e,t,n,r,i,o,s,a,c){const l=this.vertices.length;let u=this.parseVertexIndex(e,l),h=this.parseVertexIndex(t,l),d=this.parseVertexIndex(n,l);if(this.addVertex(u,h,d),this.addColor(u,h,d),void 0!==s&&""!==s){const e=this.normals.length;u=this.parseNormalIndex(s,e),h=this.parseNormalIndex(a,e),d=this.parseNormalIndex(c,e),this.addNormal(u,h,d)}else this.addFaceNormal(u,h,d);if(void 0!==r&&""!==r){const e=this.uvs.length;u=this.parseUVIndex(r,e),h=this.parseUVIndex(i,e),d=this.parseUVIndex(o,e),this.addUV(u,h,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let n=0,r=e.length;n<r;n++){const r=this.parseVertexIndex(e[n],t);this.addVertexPoint(r),this.addColor(r)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const n=this.vertices.length,r=this.uvs.length;for(let i=0,o=e.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(e[i],n));for(let i=0,o=t.length;i<o;i++)this.addUVLine(this.parseUVIndex(t[i],r))}};return e.startObject("",!1),e}class f extends r["Loader"]{constructor(e){super(e),this.materials=null}load(e,t,n,i){const o=this,s=new r["FileLoader"](this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{t(o.parse(n))}catch(r){i?i(r):console.error(r),o.manager.itemError(e)}}),n,i)}setMaterials(e){return this.materials=e,this}parse(e){const t=new p;-1!==e.indexOf("\r\n")&&(e=e.replace(/\r\n/g,"\n")),-1!==e.indexOf("\\\n")&&(e=e.replace(/\\\n/g,""));const n=e.split("\n");let c="",l="",u=0,h=[];const d="function"===typeof"".trimLeft;for(let r=0,p=n.length;r<p;r++)if(c=n[r],c=d?c.trimLeft():c.trim(),u=c.length,0!==u&&(l=c.charAt(0),"#"!==l))if("v"===l){const e=c.split(/\s+/);switch(e[0]){case"v":t.vertices.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])),e.length>=7?t.colors.push(parseFloat(e[4]),parseFloat(e[5]),parseFloat(e[6])):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]));break;case"vt":t.uvs.push(parseFloat(e[1]),parseFloat(e[2]));break}}else if("f"===l){const e=c.substr(1).trim(),n=e.split(/\s+/),r=[];for(let t=0,o=n.length;t<o;t++){const e=n[t];if(e.length>0){const t=e.split("/");r.push(t)}}const i=r[0];for(let o=1,s=r.length-1;o<s;o++){const e=r[o],n=r[o+1];t.addFace(i[0],e[0],n[0],i[1],e[1],n[1],i[2],e[2],n[2])}}else if("l"===l){const e=c.substring(1).trim().split(" ");let n=[];const r=[];if(-1===c.indexOf("/"))n=e;else for(let t=0,i=e.length;t<i;t++){const i=e[t].split("/");""!==i[0]&&n.push(i[0]),""!==i[1]&&r.push(i[1])}t.addLineGeometry(n,r)}else if("p"===l){const e=c.substr(1).trim(),n=e.split(" ");t.addPointGeometry(n)}else if(null!==(h=i.exec(c))){const e=(" "+h[0].substr(1).trim()).substr(1);t.startObject(e)}else if(s.test(c))t.object.startMaterial(c.substring(7).trim(),t.materialLibraries);else if(o.test(c))t.materialLibraries.push(c.substring(7).trim());else if(a.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===l){if(h=c.split(" "),h.length>1){const e=h[1].trim().toLowerCase();t.object.smooth="0"!==e&&"off"!==e}else t.object.smooth=!0;const e=t.object.currentMaterial();e&&(e.smooth=t.object.smooth)}else{if("\0"===c)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}t.finalize();const f=new r["Group"];f.materialLibraries=[].concat(t.materialLibraries);const m=!(1===t.objects.length&&0===t.objects[0].geometry.vertices.length);if(!0===m)for(let i=0,o=t.objects.length;i<o;i++){const e=t.objects[i],n=e.geometry,o=e.materials,s="Line"===n.type,a="Points"===n.type;let c=!1;if(0===n.vertices.length)continue;const l=new r["BufferGeometry"];l.setAttribute("position",new r["Float32BufferAttribute"](n.vertices,3)),n.normals.length>0&&l.setAttribute("normal",new r["Float32BufferAttribute"](n.normals,3)),n.colors.length>0&&(c=!0,l.setAttribute("color",new r["Float32BufferAttribute"](n.colors,3))),!0===n.hasUVIndices&&l.setAttribute("uv",new r["Float32BufferAttribute"](n.uvs,2));const u=[];for(let i=0,d=o.length;i<d;i++){const e=o[i],n=e.name+"_"+e.smooth+"_"+c;let l=t.materials[n];if(null!==this.materials)if(l=this.materials.create(e.name),!s||!l||l instanceof r["LineBasicMaterial"]){if(a&&l&&!(l instanceof r["PointsMaterial"])){const e=new r["PointsMaterial"]({size:10,sizeAttenuation:!1});r["Material"].prototype.copy.call(e,l),e.color.copy(l.color),e.map=l.map,l=e}}else{const e=new r["LineBasicMaterial"];r["Material"].prototype.copy.call(e,l),e.color.copy(l.color),l=e}void 0===l&&(l=s?new r["LineBasicMaterial"]:a?new r["PointsMaterial"]({size:1,sizeAttenuation:!1}):new r["MeshPhongMaterial"],l.name=e.name,l.flatShading=!e.smooth,l.vertexColors=c,t.materials[n]=l),u.push(l)}let h;if(u.length>1){for(let e=0,t=o.length;e<t;e++){const t=o[e];l.addGroup(t.groupStart,t.groupCount,e)}h=s?new r["LineSegments"](l,u):a?new r["Points"](l,u):new r["Mesh"](l,u)}else h=s?new r["LineSegments"](l,u[0]):a?new r["Points"](l,u[0]):new r["Mesh"](l,u[0]);h.name=e.name,f.add(h)}else if(t.vertices.length>0){const e=new r["PointsMaterial"]({size:1,sizeAttenuation:!1}),n=new r["BufferGeometry"];n.setAttribute("position",new r["Float32BufferAttribute"](t.vertices,3)),t.colors.length>0&&void 0!==t.colors[0]&&(n.setAttribute("color",new r["Float32BufferAttribute"](t.colors,3)),e.vertexColors=!0);const i=new r["Points"](n,e);f.add(i)}return f}}},e893:function(e,t,n){var r=n("1a2d"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t,n){for(var a=i(t),c=s.f,l=o.f,u=0;u<a.length;u++){var h=a[u];r(e,h)||n&&r(n,h)||c(e,h,l(t,h))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},e9c4:function(e,t,n){var r=n("23e7"),i=n("d066"),o=n("2ba4"),s=n("c65b"),a=n("e330"),c=n("d039"),l=n("e8b5"),u=n("1626"),h=n("861d"),d=n("d9b5"),p=n("f36a"),f=n("4930"),m=i("JSON","stringify"),g=a(/./.exec),v=a("".charAt),y=a("".charCodeAt),b=a("".replace),x=a(1..toString),w=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,M=!f||c((function(){var e=i("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),T=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),E=function(e,t){var n=p(arguments),r=t;if((h(t)||void 0!==e)&&!d(e))return l(t)||(t=function(e,t){if(u(r)&&(t=s(r,this,e,t)),!d(t))return t}),n[1]=t,o(m,null,n)},C=function(e,t,n){var r=v(n,t-1),i=v(n,t+1);return g(_,e)&&!g(S,i)||g(S,e)&&!g(_,r)?"\\u"+x(y(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:M||T},{stringify:function(e,t,n){var r=p(arguments),i=o(M?E:m,null,r);return T&&"string"==typeof i?b(i,w,C):i}})},eac5:function(e,t){var n=Object.prototype;function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}e.exports=r},ec69:function(e,t,n){var r=n("6fcd"),i=n("03dd"),o=n("30c9");function s(e){return o(e)?r(e):i(e)}e.exports=s},edd0:function(e,t,n){var r=n("13d2"),i=n("9bf2");e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},edfa:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}e.exports=n},eed6:function(e,t,n){var r=n("2c66");function i(e){return e&&e.length?r(e):[]}e.exports=i},ef5d:function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},efb6:function(e,t,n){var r=n("5e2e");function i(){this.__data__=new r,this.size=0}e.exports=i},f36a:function(e,t,n){var r=n("e330");e.exports=r([].slice)},f4d6:function(e,t,n){var r=n("ffd6"),i=1/0;function o(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}e.exports=o},f5df:function(e,t,n){var r=n("00ee"),i=n("1626"),o=n("c6b6"),s=n("b622"),a=s("toStringTag"),c=Object,l="Arguments"==o(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=c(e),a))?n:l?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},f608:function(e,t,n){var r=n("6747"),i=n("ffd6"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}e.exports=a},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},f9ce:function(e,t,n){var r=n("ef5d"),i=n("e3f8"),o=n("f608"),s=n("f4d6");function a(e){return o(e)?r(s(e)):i(e)}e.exports=a},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("e8b5"),o=n("68ee"),s=n("861d"),a=n("23cb"),c=n("07fa"),l=n("fc6a"),u=n("8418"),h=n("b622"),d=n("1dde"),p=n("f36a"),f=d("slice"),m=h("species"),g=Array,v=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,r,h,d=l(this),f=c(d),y=a(e,f),b=a(void 0===t?f:t,f);if(i(d)&&(n=d.constructor,o(n)&&(n===g||i(n.prototype))?n=void 0:s(n)&&(n=n[m],null===n&&(n=void 0)),n===g||void 0===n))return p(d,y,b);for(r=new(void 0===n?g:n)(v(b-y,0)),h=0;y<b;y++,h++)y in d&&u(r,h,d[y]);return r.length=h,r}})},fba5:function(e,t,n){var r=n("cb5a");function i(e){return r(this.__data__,e)>-1}e.exports=i},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fce3:function(e,t,n){var r=n("d039"),i=n("da84"),o=i.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},ffd6:function(e,t,n){var r=n("3729"),i=n("1310"),o="[object Symbol]";function s(e){return"symbol"==typeof e||i(e)&&r(e)==o}e.exports=s}}]);
//# sourceMappingURL=chunk-vendors.e2a6d10a.js.map